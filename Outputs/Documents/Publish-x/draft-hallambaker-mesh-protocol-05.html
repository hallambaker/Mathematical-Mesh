<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="Common,Latin" name="scripts">
    <meta content="initial-scale=1.0" name="viewport">
    <title>Mathematical Mesh 3.0 Part V: Protocol Reference</title>
    <meta name="author" content="Phillip Hallam-Baker">
    <meta name="description" content="The Mathematical Mesh 'The Mesh' is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. The core protocols of the Mesh are described with examples of common use cases and reference data. [Note to Readers] Discussion of this draft takes place on the MATHMESH mailing list (mathmesh@ietf.org), which is archived at https://mailarchive.ietf.org/arch/search/?email_list=mathmesh. This document is also available online at . ">
    <meta content="rfctool 2.0" name="generator">
    <link href="#copyright" rel="license">
    <style type="text/css">
/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.filename
{
    font-size: 20px;
    color: darkgray;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
  color: blueviolet;
}
h2
{
    font-size: 22px;
    margin-top: -20px; /* provide offset for in-page anchors */
    padding-top: 33px;
    color: blueviolet;
}
h3
{
    font-size: 18px;
    margin-top: -36px; /* provide offset for in-page anchors */
    padding-top: 42px;
    color: blueviolet;
}
h4
{
    font-size: 16px;
    margin-top: -36px; /* provide offset for in-page anchors */
    padding-top: 42px;
    color: blueviolet;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
  font-weight: bold;
}
    dl.nohang > dt
    {
        float: none;
        font-weight: bold;
    }
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #3E8EDE;
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: blueviolet;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #777;
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.reference dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.reference dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.reference .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #b76427;
  background-color: rgba(249, 232, 105, 0.3);
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: rgba(249, 232, 105, 0.3);
  border-radius: 3px;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  /* Just get rid of the idiot stuff: */
  /*
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { 
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }*/
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
	/*
  body {
    font-family: 'Noto Serif', "Times New Roman", Times, serif;
    width: 100%;
  }*/
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {

  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
	break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}


@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
}
    </style>
    <link href="rfc-local.css" rel="stylesheet" type="text/css">
    <link href="urn:issn:2070-1721" rel="alternate">
<link rel="icon" href="data:image/svg+xml;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAJuwAACbsBBxD8PQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA6LSURBVHic7d1rcFTlGQfw/9lLkk0IuUBQNjEQyIUEAkUIkg7UcFMJ4I3BQpR2xo626nSmln5o7XQInY52OtTp1H5wEMapMxVEKGgCKpchCKKIgEruN5bcISG3zW2zl9MPKWjMbrK72XPe97zn+X3MnssD85/d57znnPeV8H+FKHwIwG8BLAcQA0L41wPgcwnS6zux8yQAGAFgF3btBLAPQCqACHb1ERKQCIxk9pk85MklKDkr7cKuDTLkYtaVETJZEqR8gwx5B+tCCAkFGfIOA4Ac1oUQEiLLDACmsK6CkBCJNrCugJBQokAToVCgiVAo0EQoFGgiFAo0EQoFmgiFAk2EQoEmQqFAE6FQoIlQKNBEKBRoIhQKNBEKBZoIhQJNhEKBJkKhQBOhUKCJUCjQRCgUaCIUCjQRCgWaCIUCTYRCgSZCoUAToVCgiVAo0EQoFGgiFBPrAu4wmAyIT4tHREwEwqaEsS5nFOeAE40XGlU9pzHMiFk/maXqOf3h6HXA3mJH/61+uIfdrMsZg3mgY5JjsPovq5G5ORPmSDPrcrzyuDx4Pel19N/sV+2c4THh2H5yu2rnC5TsltH4eSPOvXoOtR/Vsi7nLqYtR9zcODz/1fNYuH0ht2EGRn49FmxdwLoMrkhGCckrklFwrACLfraIdTl3MQ10XmEeIhMiWZbgt4XPLGRdApckScKaV9cAEutKRjAN9H2597E8fUCsS62YnjmddRlcik6MhiXewroMADTKERD6lvbO4/LA0etgXQYAxoFuON/A8vQByy7I5uanlScN5xrgcXpYlwGAcaDP/vksBjsHWZYQkNjZsZi1kr+hNJaGuodw4ncnWJdxF9NAd9V34e2Vb6PlUgvLMgJCbccIj8uD0gOl2Lt8L1qvtLIu5y7m49Dt5e1464G3kLgsEfMen4f0jemYsWAG67J8ytqSheO/Pg63g7+bCkqTZRmNnzWidH8pyt4vw0D7AOuSxmAeaACADDRfbEbzxWac/sNpRCdGI/PJTKx8ZSWm3MvXMooRsRFI35iOisMVrEtRleyWceDxA6gurmZdyri4HOWwN9vx5RtfYs+SPeiq62Jdzhh6bDu+eecb7sMMcBroO+wtdux/dD93P+9p+WncjLuqpez9MtYl+IXrQAMjPfaF3RdYlzGKMcyI+T+dz7oMVfXc6GFdgl+4DzQAXPj7BW4G7u9Y+LS+2g57q511CX7RRKCHuoZwdd9V1mWMkvTjJMTNiWNdhmp4a/t80USgAeDynsuQZZl1GXdJkqTLi0PeaSbQHZUd3N2AoUDzRzOBBoDS/aWsSxglPi0eicsSWZdBvkdbgX6vFLKbn7YDoG9p3mgq0H2tfbjx6Q3WZYyyYOsCGMzB/zcaw4whrIZoKtAAUHqAr7YjMiESqQ+nBrWvyWKCNcca4or0TXOBLnu/jLu3jYNtO1JWpSAsiq833LVOc4Ee6hpC/cl61mWMkvFYBsJjwgPeL21DmgLV6JvmAg0A1/ZfY13CKKYIEzKfzAx4v7R8CnSoaTLQlUcr4ex3si5jlEDbjhnZMxA7O1ahavRLk4F29jtRc7yGdRmjzM6bjan3TfV7+/SN6QpWo1+aDDTAX9shGaSRl2j9lL6BAq0EzQa65ngNhrqHWJcxir8zCFniLUh8gO4wKkGzgXY73Kg8Wsm6jFESshJw74/unXC7tPw0GEya/a/nmqb/V3m7yQIA2U9P3HbQcJ1yNB3o66evqzojqD+yC7IhGX3PRiMZJcxdN1fFivRF04H2uDwoP1zOuoxRoq3RSFmd4vPz5BXJsEzT1/uIatJ0oAH+HikFxh+TptENZWk+0A2fNXD3AmfW5iyfqxBQ/6wszQcaMn+v2JujzMh4NGPM32NTYpGQlcCgIv3QVKB9vZTKZduxfWzbQe2G8jQVaF9DYq1XWtFR0aFyNeObs3bOmGnM6Ha38jQV6PlPzYfJ4n06vrKDfLUdP1yXxRxlxqwHaSpepWkq0OFTw33+bPN4k+X7ox1z182FKYKPuTFFpqlAA76HxDoqO9D2dZvK1Yxv5pKZSJg/chFIoxvq0Fyg0/LTEDnd+8pZPF4c3lnGIm09BVoNmgu0wWxA1pYsr59d23+Nq9mVgJFfFOsSK6ITo1mXoguaCzQALNru/THN3sZeNF1oUrma8cUkx2DNa2tYl6Ebmgx0Um4SpqVP8/oZjxeHc9bOYV2Cbmgy0ACwYJv3pYpL3yuFx8XHEmNEfZoN9MKnF3pdM3CgfQC2MzbV6wlWTwNfz6FonWYDPd5EiTy2Hd501naio5KvO5xap9lAA77HpMsPlcM15FK5msBVHuHrFTIRaDrQ2duyvU526Oh1oO6TOgYVBabqwyrWJQhH04G2TLNg7sPeX2fibZqDHxq8PYjGzxtZlyEcTQca8L14T3VRNYb7hlWuxn9VRVXczXUtAs0HOuOxDETERoz5u3PAieoifheKpHZDGZoP9HgTJfLadrgdbtSf4msGVVFoPtCA79GO2o9rMXh7UOVqJlZ/qh7Ddn7bIS0TItCzHpzldaJEj9ODiiP8LTJP7YZyhAj0eBMl8naTRZZlVB/jt7fXOiECDfieKNF2xgZ7Cz/L+rZ82QJ7Mz/1iEaYQPuaKFH2yCg/xM/sStRuKEuYQAO+l3jgqe2oKqJAK0moQPta86/piyZ0X+9WuZqxuuq7cOvaLdZlCE2oQPskjzwnzVrVB/TtrDR9BBp8vEBL/bPydBPom9/eRHtZO7PzD3YOouF8A7Pz64VuAg2wbTtqjtfQq2Eq0FWgr73LbpoDajfUoatAd9V1ofVyq+rndTvcmnjhQAS6CjTA5uLw+pnrcPQ6VD+vHukv0AdKIXvUbTuo3VCP7gJtb7GrOtogyzLXLxqIRneBBtRtO9qutKG3qVe18+mdLgNdfqgcHqc6Q2jUbqhLl4Ee6BhQ7RWoyg9o7g016TLQgDpP4PU09ODmtzcVPw/5jm4DXXGkAq5BZWdXqvqgCqCZClSl20AP24dRc7xG0XNQ/6w+3QYaULbtcPQ4cOPTG4odn3in60BXF1fD0aPMHbya4zVwD7sVOTbxTdeBdg25FGsLqN1gQ9eBBpSZXcnj9KD249qQH5dMTPeBrj9Zj/5b/SE9pu2sDUPdQyE9JvGP7gPtcXlCPvE4tRvsaCrQksHLoiohEOq2gx5GYkdTgQ6bEjbu5wZTcP+chnMNIXuAqO3rNnTb2E+ZoFdiBdoc3D9H9sgoO1gW1L4/RO0GW5oJtCXeMuE3sCncFPTxQ3WThdoNtjQT6OmZ0yfcxtei9v5oudSCzprOoPcHAHuzHS2XWyZ1DDI5mgl0QmbChNtMdoH4yU5zUFVEDyOxpplAp6xJmXCbpOVJMEeagz7Htf9MbrSj8ig9+8yaJgJtMBmQ+nDqhNuZIkzIeCwj6PN0VHYE/fzysH0YthJb0OcmoaGJQKdvTEdE3NiVrrzJfTl3UucK9uKw9pNauB30MBJrmgh07g7/Q2rNsU7qW7r0QGlQsyuFerjOaPY+NTAzytzTCjnuA526PhXJK5ID2ueh3Q/BHBVcL919vRvNF5sD2sfj8qDmWGhfFrDEW0J6vMmKnBb8CJKauA50WHQYNr65MeD94lPjsWnPpqDPG2jb0fhZIwY7Q7t83IzsGSE93mRNmTmFdQl+4TbQklHCE/9+AjHJMUHtn12Qjfx/5Qf1U1l2sCygZYuVeLN7/lPzQ37MybAutbIuwS98BloC8t/Ix7wn5k3qMDkv5aCguCDgb5e+1j7Yztr83j7U/XPGoxmTug5QQu7LuQiLHv/RAx5wF2hzlBlbDm7B0heWhuR4aflpeLH0RSx+dnFA39b+zq7UXtaOrrquIKv7TtiUMKSuT8Uj/3gEWw5ugSTxdRUWNzcOBcUFsOZYub5AlApRyM29raTlSdi0Z5Ni/aOtxIbiXxbjdvXtCbe1xFuwo3WHz4WI7jj/2nmcfuV0UPXEpsQiuyAb6RvSYc2xBv20oNp6GnpQ8d8KXNl7hemqCN5wEeiI2Ais/eta3P/c/Yo983yHa9CFU78/hYv/vDjhttuKtiF9Y/q42+zL3YemL5oCrmP5b5Zj3d/WBf2EIA9kWcbVvVdx7MVj3KxOYMxDXiHLAhKXJeLZc89idt5sVX5mDWYDUtenwmA0wHbGNu62kiQhc3Omz8/72vpwYseJgJ/fSFmdgs3vboZk5Pi32w+SJGHmkpmADG7ukjL9ejCGGbH16FYmQ0Ir/7gS9yy6Z9xtqj6sgnPA6fPz6qLqoOaaXvyLxQHvw7Ocl3JYl3AX00DHpsQyG9+UDNKEz4cM9w2P+3xzsKMbcSlxQe3Hq8jpkYiI9e/RBKUxDTTriVjczonP7+smi7PfifrTwc1g2nezL6j9eOVxeeAaUnaeQH8xDXT39W5ms3O6h91+vV1S81GN1ykJ6k7WBT3Z41dvfsVsNS4lVH1YRYG+49DWQ34No4XSsH0YR39+FJ21E7+h4na4vU5zMJlljus+qUPRc0VCzN3RcL4Bxb8qZl3GXVwM2xlMIyMPScuTEG2NRtSMqAnHfwMiA/23+tF/qx+3ym6h8khlQM9eJK9IxoM7Hxz1t8MFhzHQPjCpssxRZsxZOwcz75+JqIQoRN0ThfCp4ZM6ptJcQy70tfWht6kXthLbyISUzBP0HS4CTUioMG85CAklCjQRCgWaCIUCTYRCgSZCoUAToVCgiVAo0EQoFGgiFAo0EQoFmgiFAk2EQoEmQqFAE6FQoIlQKNBEKBRoIhQKNBEKBZoIhQJNhEKBJkKhQBOhUKCJUCjQRCgUaCIUCjQRCgWaCIUCTYRCgSZCoUAToVCgiVAo0EQoFGgiFAMAO+siCAmRHgOAS6yrICRELhkkSLtZV0FIKEiQdhtLUFK7Cqs8APIAaHvxaaJXsgTpTzux820jAJSg5NNVWHUeQAKA6QAsTMsjxD9dAM4AeKEQhe8AwP8A7VA52MoWrGIAAAAASUVORK5CYII=">  </head>
  <body>
    <table class="ears">
      <thead>
        <tr>
          <td class="left"/>
          <td class="center">Mesh Protocol Reference</td>
          <td class="right">March 2020</td>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <td class="left">Hallam-Baker</td>
          <td class="center">Expires September 10, 2020</td>
          <td class="right">[Page]</td>
        </tr>
      </tfoot>
    </table>

    <div id="external-metadata" class="document-information">
    </div>
    <div id="internal-metadata" class="document-information">
      <dl id="identifiers">
        <dt class="label-workgroup">Workgroup:</dt>
        <dd class="workgroup">Network Working Group</dd>
        <dt class="label-stream">Stream:</dt>
        <dd class="stream">Internet-Draft</dd>
        <dt class="label-category">Intended status:</dt>
        <dd class="category">Informational</dd>
        <dt>Published:</dt>
        <dd>
          <time class="published" datetime="2020-03-09">9 March 2020</time>
        </dd>
        <dt class="label-issn">ISSN:</dt>
        <dd class="issn">2070-1721</dd>
        <dt>Expires</dt>
        <dd>
          <time class="expires" datetime="2020-09-10">10 September 2020</time>
        </dd>
        <dt>Authors:</dt>
        <dd class="authors">
          <div class="author">
<div class="author-name">Phillip Hallam-Baker</div><div class="org">ThresholdSecrets.com</div>          </div>
        </dd>
      </dl>
    </div>
    <h1 id="title">
      Mathematical Mesh 3.0 Part V: Protocol Reference
      <h1 id="idnum">draft-hallambaker-mesh-protocol-05</h1>
    </h1>
    <section id="abstract">
      <h3>
        <a class="selfRef" href="#abstract">Abstract</a>
      </h3>
      <p id="s-abstract-1">The Mathematical Mesh ‘The Mesh’ is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. The core protocols of the Mesh are described with examples of common use cases and reference data.<a class="pilcrow" href="#s-abstract-1">&para;</a></p>
      <p id="s-abstract-2">[Note to Readers]<a class="pilcrow" href="#s-abstract-2">&para;</a></p>
      <p id="s-abstract-3">Discussion of this draft takes place on the MATHMESH mailing list (mathmesh@ietf.org), which is archived at https://mailarchive.ietf.org/arch/search/?email_list=mathmesh.<a class="pilcrow" href="#s-abstract-3">&para;</a></p>
      <p id="s-abstract-4">This document is also available online at <a class="eref" href="http://mathmesh.com/Documents/draft-hallambaker-mesh-protocol.html">http://mathmesh.com/Documents/draft-hallambaker-mesh-protocol.html</a>.<a class="pilcrow" href="#s-abstract-4">&para;</a></p>
    </section>
    
    <section id="n-status-of-this-memo">
      <h3 id="bp-1">
        <a class="selfRef" href="#bp-1"></a>
        <a class="selfRef" href="#n-status-of-this-memo">Status of This Memo</a>
      </h3>
      <p id="bp-1-1">This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.<a class="pilcrow" href="#bp-1-1">&para;</a></p>
      <p id="bp-1-2">Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at <a class="eref" href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.<a class="pilcrow" href="#bp-1-2">&para;</a></p>
      <p id="bp-1-3">Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."<a class="pilcrow" href="#bp-1-3">&para;</a></p>
      <p id="bp-1-4">This Internet-Draft will expire on September 10, 2020<a class="pilcrow" href="#bp-1-4">&para;</a></p>
    </section>
    
    <section id="n-copyright-notice">
      <h3 id="bp-2">
        <a class="selfRef" href="#bp-2"></a>
        <a class="selfRef" href="#n-copyright-notice">Copyright Notice</a>
      </h3>
      <p id="bp-2-1">Copyright (c) IETF Trust and the persons identified as the document authors. All rights reserved.<a class="pilcrow" href="#bp-2-1">&para;</a></p>
      <p id="bp-2-2">This document is subject to BCP 78 and the IETF Trust’s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document.<a class="pilcrow" href="#bp-2-2">&para;</a></p>
    </section>
    
    <section id="toc">
      <h3>
        <a class="selfRef" href="#toc">Table of Contents</a>
      </h3>
      <nav class="toc">
        <ul class="toc">
          <li class="toc">
            <a href="#s-1">1.</a><a href="#n-introduction">Introduction</a>
          </li>
          <li class="toc">
            <a href="#s-2">2.</a><a href="#n-definitions">Definitions</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-2_1">2.1.</a><a href="#n-requirements-language">Requirements Language</a>
              </li>
              <li class="toc">
                <a href="#s-2_2">2.2.</a><a href="#n-defined-terms">Defined Terms</a>
              </li>
              <li class="toc">
                <a href="#s-2_3">2.3.</a><a href="#n-related-specifications">Related Specifications</a>
              </li>
              <li class="toc">
                <a href="#s-2_4">2.4.</a><a href="#n-implementation-status">Implementation Status</a>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-3">3.</a><a href="#n-mesh-service">Mesh Service</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-3_1">3.1.</a><a href="#n-data-model">Data Model</a>
              </li>
              <li class="toc">
                <a href="#s-3_2">3.2.</a><a href="#n-partitioning">Partitioning</a>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-4">4.</a><a href="#n-protocol-bindings">Protocol Bindings</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-4_1">4.1.</a><a href="#n-dns-web-service-discovery">DNS Web Service Discovery</a>
              </li>
              <li class="toc">
                <a href="#s-4_2">4.2.</a><a href="#n-web-service-protocol-binding">Web Service Protocol Binding</a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-4_2_1">4.2.1.</a><a href="#n-transport-security">Transport Security</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_2_2">4.2.2.</a><a href="#n-http-message-binding">HTTP Message Binding</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_2_3">4.2.3.</a><a href="#n-request">Request</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_2_4">4.2.4.</a><a href="#n-response">Response</a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-4_3">4.3.</a><a href="#n-dare-message-encapsulation">DARE Message Encapsulation</a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-4_3_1">4.3.1.</a><a href="#n-null-authentication">Null Authentication</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_3_2">4.3.2.</a><a href="#n-device-authentication">Device Authentication</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_3_3">4.3.3.</a><a href="#n-profile-authentication">Profile Authentication</a>
                  </li>
                  <li class="toc">
                    <a href="#s-4_3_4">4.3.4.</a><a href="#n-ticket-authentication">Ticket Authentication</a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-4_4">4.4.</a><a href="#n-payload-encoding">Payload Encoding</a>
              </li>
              <li class="toc">
                <a href="#s-4_5">4.5.</a><a href="#n-error-handling-and-response-codes">Error handling and response codes</a>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-5">5.</a><a href="#n-service-description">Service Description</a>
          </li>
          <li class="toc">
            <a href="#s-6">6.</a><a href="#n-account-management">Account Management</a>
          </li>
          <li class="toc">
            <a href="#s-7">7.</a><a href="#n-container-synchronization">Container Synchronization</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-7_1">7.1.</a><a href="#n-status-transaction">Status Transaction</a>
              </li>
              <li class="toc">
                <a href="#s-7_2">7.2.</a><a href="#n-download-transaction">Download Transaction</a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-7_2_1">7.2.1.</a><a href="#n-conflict-detection">Conflict Detection</a>
                  </li>
                  <li class="toc">
                    <a href="#s-7_2_2">7.2.2.</a><a href="#n-filtering">Filtering</a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-7_3">7.3.</a><a href="#n-upload-transaction">Upload Transaction</a>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-8">8.</a><a href="#n-device-connection">Device Connection</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-8_1">8.1.</a><a href="#n-device-authenticated">Device Authenticated</a>
              </li>
              <li class="toc">
                <a href="#s-8_2">8.2.</a><a href="#n-pin-authenticated">PIN Authenticated</a>
              </li>
              <li class="toc">
                <a href="#s-8_3">8.3.</a><a href="#n-earl-connection-mode">EARL connection mode</a>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-9">9.</a><a href="#n-mesh-messaging">Mesh Messaging</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-9_1">9.1.</a><a href="#n-message-exchange">Message Exchange</a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-9_1_1">9.1.1.</a><a href="#n-clientservice-post-transaction">Client-Service (Post Transaction)</a>
                  </li>
                  <li class="toc">
                    <a href="#s-9_1_2">9.1.2.</a><a href="#n-serviceservice-post-transaction">Service-Service (Post Transaction)</a>
                    <ul class="toc">
                      <li class="toc">
                        <a href="#s-9_1_2_1">9.1.2.1.</a><a href="#n-denial-of-service-mitigation">Denial of Service Mitigation</a>
                      </li>
                      <li class="toc">
                        <a href="#s-9_1_2_2">9.1.2.2.</a><a href="#n-access-control">Access Control</a>
                      </li>
                    </ul>
                  </li>
                  <li class="toc">
                    <a href="#s-9_1_3">9.1.3.</a><a href="#n-serviceclient-synchronization">Service-Client (Synchronization)</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-10">10.</a><a href="#n-protocol-schema">Protocol Schema</a>
            <ul class="toc">
              <li class="toc">
                <a href="#s-10_1">10.1.</a><a href="#n-request-messages-">Request Messages </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_1_1">10.1.1.</a><a href="#n-message-meshrequest-">Message: MeshRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_1_2">10.1.2.</a><a href="#n-message-meshrequestuser-">Message: MeshRequestUser </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_2">10.2.</a><a href="#n-response-messages-">Response Messages </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_2_1">10.2.1.</a><a href="#n-message-meshresponse-">Message: MeshResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_3">10.3.</a><a href="#n-imported-objects-">Imported Objects </a>
              </li>
              <li class="toc">
                <a href="#s-10_4">10.4.</a><a href="#n-common-structures-">Common Structures </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_4_1">10.4.1.</a><a href="#n-structure-keyvalue-">Structure: KeyValue </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_4_2">10.4.2.</a><a href="#n-structure-constraintsselect-">Structure: ConstraintsSelect </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_4_3">10.4.3.</a><a href="#n-structure-constraintsdata-">Structure: ConstraintsData </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_4_4">10.4.4.</a><a href="#n-structure-policyaccount-">Structure: PolicyAccount </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_4_5">10.4.5.</a><a href="#n-structure-containerstatus-">Structure: ContainerStatus </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_4_6">10.4.6.</a><a href="#n-structure-containerupdate-">Structure: ContainerUpdate </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_5">10.5.</a><a href="#n-transaction-hello-">Transaction: Hello </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_5_1">10.5.1.</a><a href="#n-message-meshhelloresponse-">Message: MeshHelloResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_6">10.6.</a><a href="#n-transaction-createaccount-">Transaction: CreateAccount </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_6_1">10.6.1.</a><a href="#n-message-createrequest-">Message: CreateRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_6_2">10.6.2.</a><a href="#n-message-createresponse-">Message: CreateResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_7">10.7.</a><a href="#n-transaction-deleteaccount-">Transaction: DeleteAccount </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_7_1">10.7.1.</a><a href="#n-message-deleterequest-">Message: DeleteRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_7_2">10.7.2.</a><a href="#n-message-deleteresponse-">Message: DeleteResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_8">10.8.</a><a href="#n-transaction-complete-">Transaction: Complete </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_8_1">10.8.1.</a><a href="#n-message-completerequest-">Message: CompleteRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_8_2">10.8.2.</a><a href="#n-message-completeresponse-">Message: CompleteResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_9">10.9.</a><a href="#n-transaction-status-">Transaction: Status </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_9_1">10.9.1.</a><a href="#n-message-statusrequest-">Message: StatusRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_9_2">10.9.2.</a><a href="#n-message-statusresponse-">Message: StatusResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_10">10.10.</a><a href="#n-transaction-download-">Transaction: Download </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_10_1">10.10.1.</a><a href="#n-message-downloadrequest-">Message: DownloadRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_10_2">10.10.2.</a><a href="#n-message-downloadresponse-">Message: DownloadResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_11">10.11.</a><a href="#n-transaction-upload-">Transaction: Upload </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_11_1">10.11.1.</a><a href="#n-message-uploadrequest-">Message: UploadRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_11_2">10.11.2.</a><a href="#n-message-uploadresponse-">Message: UploadResponse </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_11_3">10.11.3.</a><a href="#n-structure-entryresponse-">Structure: EntryResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_12">10.12.</a><a href="#n-transaction-post-">Transaction: Post </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_12_1">10.12.1.</a><a href="#n-message-postrequest-">Message: PostRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_12_2">10.12.2.</a><a href="#n-message-postresponse-">Message: PostResponse </a>
                  </li>
                </ul>
              </li>
              <li class="toc">
                <a href="#s-10_13">10.13.</a><a href="#n-transaction-connect-">Transaction: Connect </a>
                <ul class="toc">
                  <li class="toc">
                    <a href="#s-10_13_1">10.13.1.</a><a href="#n-message-connectrequest-">Message: ConnectRequest </a>
                  </li>
                  <li class="toc">
                    <a href="#s-10_13_2">10.13.2.</a><a href="#n-message-connectresponse-">Message: ConnectResponse </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="toc">
            <a href="#s-11">11.</a><a href="#n-security-considerations">Security Considerations</a>
          </li>
          <li class="toc">
            <a href="#s-12">12.</a><a href="#n-iana-considerations">IANA Considerations</a>
          </li>
          <li class="toc">
            <a href="#s-13">13.</a><a href="#n-acknowledgements">Acknowledgements</a>
          </li>
          <li class="toc">
<a href="#n-references">References</a>
            <ul class="toc">
              <li class="toc">
<a href="#n-normative">Normative References</a>
              </li>
              <li class="toc">
<a href="#n-informative">Informative References</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="toc">
          <li class="toc">
            <a href="#"></a><a href="#n-authors">Author's Address</a>
          </li>
        </ul>
        <h3 id="tof">
          <a class="selfRef" href="#tof">Table of Figures</a>
        </h3>
        <ul class="toc">
          <li class="toc">
            <a href="#n-">Figure 1</a>: <a href="#n-"></a>
          </li>
        </ul>
      </nav>
    </section>
    
    <section id="n-introduction">
      <h3 id="s-1">
        <a class="selfRef" href="#s-1">1.</a>
        <a class="selfRef" href="#n-introduction">Introduction</a>
      </h3>
      <p id="s-1-1">This document describes the Mesh Service protocol supported by Mesh Services, an account-based protocol that facilitates exchange of data between devices connected to a Mesh profile and between Mesh accounts.<a class="pilcrow" href="#s-1-1">&para;</a></p>
      <p id="s-1-2">Mesh Service Accounts support the following services:<a class="pilcrow" href="#s-1-2">&para;</a></p>
      <ul id="s-1-3-">
        <li id="s-1-3">Provides the master persistence store for the Catalogs and Spools associated with the account.<a class="pilcrow" href="#s-1-3">&para;</a></li>
        <li id="s-1-4">Enables synchronization of Catalogs and Spools with connected devices.<a class="pilcrow" href="#s-1-4">&para;</a></li>
        <li id="s-1-5">Enforces access control on inbound Mesh Messages from other users and other Mesh Services.<a class="pilcrow" href="#s-1-5">&para;</a></li>
        <li id="s-1-6">Authenticates outbound Mesh Messages, certifying that they comply with abuse mitigation policies.<a class="pilcrow" href="#s-1-6">&para;</a></li>
      </ul>
      <p id="s-1-7">A Mesh Profile <span class="bcp14">MAY</span> be bound to multiple Mesh Service Accounts at the same time but only one Mesh Service Account is considered to be authoritative at a time. Users may add or remove Mesh Service Accounts and change the account designated as authoritative at any time.<a class="pilcrow" href="#s-1-7">&para;</a></p>
      <p id="s-1-8">The Mesh Services are build from a very small set of primitives which provide a surprisingly extensive set of capabilities. These primitives are:<a class="pilcrow" href="#s-1-8">&para;</a></p>
      <dl id="s-1-9-" class="nohang">
        <dt id="s-1-9"><code>Hello</code><a class="pilcrow" href="#s-1-9">&para;</a></dt>
        <dd id="null">Describes the features and options provided by the service and provides a 'null' transaction which <span class="bcp14">MAY</span> be used to establish an authentication ticket without performing any action,<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-1-10">CreateAccount, DeleteAccount<a class="pilcrow" href="#s-1-10">&para;</a></dt>
        <dd id="null">Manage the creation and deletion of accounts at the service.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-1-11">Status, Download, <code>Upload</code><a class="pilcrow" href="#s-1-11">&para;</a></dt>
        <dd id="null">Support synchronization of Mesh containers between the service (Master) and the connected devices (Replicas).<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-1-12">Connect<a class="pilcrow" href="#s-1-12">&para;</a></dt>
        <dd id="null">Initiate the process of connecting a device to a Mesh profile from the device itself.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-1-13">Post<a class="pilcrow" href="#s-1-13">&para;</a></dt>
        <dd id="null"> Request that a Mesh Message be transferred to one or more Mesh Accounts.<a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      <p id="s-1-14">Although these functions could in principle be used to replace many if not most existing Internet application protocols, the principal value of any communication protocol lies in the size of the audience it allows them to communicate with. Thus, while the Mesh Messaging service is designed to support efficient and reliable transfer of messages ranging in size from a few bytes to multiple terabytes, the near-term applications of these services will be to applications that are not adequately supported by existing protocols if at all.<a class="pilcrow" href="#s-1-14">&para;</a></p>
    </section>
    
    <section id="n-definitions">
      <h3 id="s-2">
        <a class="selfRef" href="#s-2">2.</a>
        <a class="selfRef" href="#n-definitions">Definitions</a>
      </h3>
      <p id="s-2-1">This section presents the related specifications and standard, the terms that are used as terms of art within the documents and the terms used as requirements language.<a class="pilcrow" href="#s-2-1">&para;</a></p>
    </section>
    
    <section id="n-requirements-language">
      <h4 id="s-2_1">
        <a class="selfRef" href="#s-2_1">2.1.</a>
        <a class="selfRef" href="#n-requirements-language">Requirements Language</a>
      </h4>
      <p id="s-2_1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in <a class="xref" href="#RFC2119">[RFC2119]</a>.<a class="pilcrow" href="#s-2_1-1">&para;</a></p>
    </section>
    
    <section id="n-defined-terms">
      <h4 id="s-2_2">
        <a class="selfRef" href="#s-2_2">2.2.</a>
        <a class="selfRef" href="#n-defined-terms">Defined Terms</a>
      </h4>
      <p id="s-2_2-1">The terms of art used in this document are described in the <i>Mesh Architecture Guide</i> <a class="xref" href="#draft-hallambaker-mesh-architecture">[draft-hallambaker-mesh-architecture]</a>.<a class="pilcrow" href="#s-2_2-1">&para;</a></p>
    </section>
    
    <section id="n-related-specifications">
      <h4 id="s-2_3">
        <a class="selfRef" href="#s-2_3">2.3.</a>
        <a class="selfRef" href="#n-related-specifications">Related Specifications</a>
      </h4>
      <p id="s-2_3-1">The architecture of the Mathematical Mesh is described in the <i>Mesh Architecture Guide</i> <a class="xref" href="#draft-hallambaker-mesh-architecture">[draft-hallambaker-mesh-architecture]</a>. The Mesh documentation set and related specifications are described in this document.<a class="pilcrow" href="#s-2_3-1">&para;</a></p>
    </section>
    
    <section id="n-implementation-status">
      <h4 id="s-2_4">
        <a class="selfRef" href="#s-2_4">2.4.</a>
        <a class="selfRef" href="#n-implementation-status">Implementation Status</a>
      </h4>
      <p id="s-2_4-1">The implementation status of the reference code base is described in the companion document <a class="xref" href="#draft-hallambaker-mesh-developer">[draft-hallambaker-mesh-developer]</a>.<a class="pilcrow" href="#s-2_4-1">&para;</a></p>
    </section>
    
    <section id="n-mesh-service">
      <h3 id="s-3">
        <a class="selfRef" href="#s-3">3.</a>
        <a class="selfRef" href="#n-mesh-service">Mesh Service</a>
      </h3>
      <p id="s-3-1">A Mesh Service is a minimally trusted service. In particular a user does not need to trust a Mesh service to protect the confidentiality or integrity of most data stored in the account catalogs and spools.<a class="pilcrow" href="#s-3-1">&para;</a></p>
      <p id="s-3-2">Unless the use of the Mesh Service is highly restricted, a user does need to trust the Mesh Service in certain respects:<a class="pilcrow" href="#s-3-2">&para;</a></p>
      <dl id="s-3-3-" class="nohang">
        <dt id="s-3-3">Data Loss<a class="pilcrow" href="#s-3-3">&para;</a></dt>
        <dd id="null">A service could refuse to respond to requests to download data.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-3-4">Integrity (Stale Data)<a class="pilcrow" href="#s-3-4">&para;</a></dt>
        <dd id="null">The use of Merkle Trees limits but does not eliminate the ability of a Mesh Service to respond to requests with stale data.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-3-5">Messaging<a class="pilcrow" href="#s-3-5">&para;</a></dt>
        <dd id="null">A service could reject requests to post messages to or accept messages from other mesh users. <a class="pilcrow" href="#">&para;</a></dd>
        <dd id="null">This risk is a necessary consequence of the fact that the Mesh Service Provider is accountable to other Mesh Service Providers for abuse originating from their service.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-3-6">Traffic analysis<a class="pilcrow" href="#s-3-6">&para;</a></dt>
        <dd id="null">A Mesh Service has knowledge of the number of Mesh Messages being sent and received by its users and the addresses to which they are being sent to or received from.<a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      <p id="s-3-7">The need to trust the Mesh Service in these respects is mitigated by accountability and the user's ability to change Mesh Service providers at any time they choose with minimal inconvenience.<a class="pilcrow" href="#s-3-7">&para;</a></p>
      <p id="s-3-8">It is possible that some of these risks will be reduced in future versions of the Mesh Service Protocol but it is highly unlikely that these can be eliminated entirely without compromising practicality or efficiency.<a class="pilcrow" href="#s-3-8">&para;</a></p>
    </section>
    
    <section id="n-data-model">
      <h4 id="s-3_1">
        <a class="selfRef" href="#s-3_1">3.1.</a>
        <a class="selfRef" href="#n-data-model">Data Model</a>
      </h4>
      <p id="s-3_1-1">The design of the Mesh Service model followed a quasi-formal approach in which the system was reduced to schemas which could in principle be rendered in a formal development method but without construction of proofs.<a class="pilcrow" href="#s-3_1-1">&para;</a></p>
      <p id="s-3_1-2">Like the contents of Mesh Accounts, a Mesh Service may be represented by a collection of catalogs and spools, for example:<a class="pilcrow" href="#s-3_1-2">&para;</a></p>
      <dl id="s-3_1-3-" class="nohang">
        <dt id="s-3_1-3">Account Catalog<a class="pilcrow" href="#s-3_1-3">&para;</a></dt>
        <dd id="null">Contains the account entries.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-3_1-4">Incident Spool<a class="pilcrow" href="#s-3_1-4">&para;</a></dt>
        <dd id="null">Reports of potential abuse<a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      <p id="s-3_1-5">Backup of the service <span class="bcp14">MAY</span> be implemented using the same container synchronization mechanism used to synchronize account catalogs and spools.<a class="pilcrow" href="#s-3_1-5">&para;</a></p>
    </section>
    
    <section id="n-partitioning">
      <h4 id="s-3_2">
        <a class="selfRef" href="#s-3_2">3.2.</a>
        <a class="selfRef" href="#n-partitioning">Partitioning</a>
      </h4>
      <p id="s-3_2-1">Mesh Services supporting a large number of accounts or large activity volume <span class="bcp14">MAY</span> partition the account catalog between one or more hosts using the usual tiered service model in which a front-end server receives traffic for any account hosted at the server and routes the request to the back-end service that provides the persistence store for that account.<a class="pilcrow" href="#s-3_2-1">&para;</a></p>
      <p id="s-3_2-2">In addition, the Mesh Service Protocol supports a 'direct connection' partitioning model in which devices are given a DNS name which <span class="bcp14">MAY</span> allow for direct connection to the persistence host or to a front-end service offering service that is in some way specific to that account.<a class="pilcrow" href="#s-3_2-2">&para;</a></p>
    </section>
    
    <section id="n-protocol-bindings">
      <h3 id="s-4">
        <a class="selfRef" href="#s-4">4.</a>
        <a class="selfRef" href="#n-protocol-bindings">Protocol Bindings</a>
      </h3>
      <p id="s-4-1">Mesh Service transactions are mapped to an underlying messaging and transport protocol. The following binding<a class="pilcrow" href="#s-4-1">&para;</a></p>
      <p id="s-4-2">Mesh Services <span class="bcp14">MUST</span> support the Web Service binding specified in this document and <span class="bcp14">MAY</span> support the UDP binding currently in development.<a class="pilcrow" href="#s-4-2">&para;</a></p>
    </section>
    
    <section id="n-dns-web-service-discovery">
      <h4 id="s-4_1">
        <a class="selfRef" href="#s-4_1">4.1.</a>
        <a class="selfRef" href="#n-dns-web-service-discovery">DNS Web Service Discovery</a>
      </h4>
      <p id="s-4_1-1">The DNS Web Service discovery mechanism is used to discover Mesh Services regardless of the protocol binding .The service name, DNS prefix and and .well-known service suffix are specified as follows:<a class="pilcrow" href="#s-4_1-1">&para;</a></p>
      <ul id="s-4_1-2-">
        <li id="s-4_1-2">Service Name: mmm<a class="pilcrow" href="#s-4_1-2">&para;</a></li>
        <li id="s-4_1-3">DNS Prefix: _mmm._tcp<a class="pilcrow" href="#s-4_1-3">&para;</a></li>
        <li id="s-4_1-4">Well Known service suffix: /.well-known/mmm<a class="pilcrow" href="#s-4_1-4">&para;</a></li>
      </ul>
      
      <section id="n-web-service-protocol-binding">
        <h4 id="s-4_2">
          <a class="selfRef" href="#s-4_2">4.2.</a>
          <a class="selfRef" href="#n-web-service-protocol-binding">Web Service Protocol Binding</a>
        </h4>
      </section>
      <p id="s-4_2-1">The Web Service Protocol binding makes use of the most widely deployed and used protocols:<a class="pilcrow" href="#s-4_2-1">&para;</a></p>
      <ul id="s-4_2-2-">
        <li id="s-4_2-2">Discovery: DNS Service discovery<a class="pilcrow" href="#s-4_2-2">&para;</a></li>
        <li id="s-4_2-3">Transport: TLS<a class="pilcrow" href="#s-4_2-3">&para;</a></li>
        <li id="s-4_2-4">Application: HTTP<a class="pilcrow" href="#s-4_2-4">&para;</a></li>
        <li id="s-4_2-5">Presentation: DARE Message<a class="pilcrow" href="#s-4_2-5">&para;</a></li>
        <li id="s-4_2-6">Encoding: JSON, JSON-B<a class="pilcrow" href="#s-4_2-6">&para;</a></li>
      </ul>
      <p id="s-4_2-7">The chief limitations of the Web Service Protocol Binding are that the use of TCP based transport results in unsatisfactory latency for some applications and that the HTTP application layer only serves to allow a host to support multiple services on the same TCP/IP port.<a class="pilcrow" href="#s-4_2-7">&para;</a></p>
    </section>
    
    <section id="n-transport-security">
      <h5 id="s-4_2_1">
        <a class="selfRef" href="#s-4_2_1">4.2.1.</a>
        <a class="selfRef" href="#n-transport-security">Transport Security</a>
      </h5>
      <p id="s-4_2_1-1">Mesh Services <span class="bcp14">MUST</span> offer TLS transport and <span class="bcp14">MAY</span> offer non TLS transport. MESH clients <span class="bcp14">SHOULD</span> use TLS transport when connecting to a MESH service.<a class="pilcrow" href="#s-4_2_1-1">&para;</a></p>
      <p id="s-4_2_1-2">TLS version 1.3 <a class="xref" href="#RFC8446">[RFC8446]</a> or higher <span class="bcp14">MUST</span> be supported. Client authentication <span class="bcp14">SHOULD NOT</span> be used.<a class="pilcrow" href="#s-4_2_1-2">&para;</a></p>
    </section>
    
    <section id="n-http-message-binding">
      <h5 id="s-4_2_2">
        <a class="selfRef" href="#s-4_2_2">4.2.2.</a>
        <a class="selfRef" href="#n-http-message-binding">HTTP Message Binding</a>
      </h5>
      <p id="s-4_2_2-1">All messages are exchanged as HTTP POST transactions. Support for and use of HTTP/1.1 <a class="xref" href="#RFC7230">[RFC7230]</a> is <span class="bcp14">REQUIRED</span>. Services <span class="bcp14">MAY</span> support HTTP/2.<a class="pilcrow" href="#s-4_2_2-1">&para;</a></p>
      <p id="s-4_2_2-2">In contrast to other approaches to the design of Web Services, the only use made of the HTTP transport is to distinguish between different services on the same host using the Host header and .well-known convention and for message framing.  No use is made of the URI request line to identify commands, nor are the caching or proxy capabilities of HTTP made use of.<a class="pilcrow" href="#s-4_2_2-2">&para;</a></p>
    </section>
    
    <section id="n-request">
      <h5 id="s-4_2_3">
        <a class="selfRef" href="#s-4_2_3">4.2.3.</a>
        <a class="selfRef" href="#n-request">Request</a>
      </h5>
      <p id="s-4_2_3-1">The HTTP request <span class="bcp14">MAY</span> contain any valid HTTP header specified in <a class="xref" href="#RFC7230">[RFC7230]</a>. <a class="pilcrow" href="#s-4_2_3-1">&para;</a></p>
      <dl id="s-4_2_3-2-" class="nohang">
        <dt id="s-4_2_3-2">Request Line URI <a class="pilcrow" href="#s-4_2_3-2">&para;</a></dt>
        <dd id="null"><code>/well-known/</code>&lt;service&gt; (unless overridden using a TXT path attribute)<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-3">Request Line Method<a class="pilcrow" href="#s-4_2_3-3">&para;</a></dt>
        <dd id="null">POST<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-4">Host: Header<a class="pilcrow" href="#s-4_2_3-4">&para;</a></dt>
        <dd id="null">&lt;domain&gt;<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-5">Content-Encoding<a class="pilcrow" href="#s-4_2_3-5">&para;</a></dt>
        <dd id="null">As specified in section yy below.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-6">Content-Type<a class="pilcrow" href="#s-4_2_3-6">&para;</a></dt>
        <dd id="null">As specified in section zz below.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-7">Content-Length or Transfer-Encoding<a class="pilcrow" href="#s-4_2_3-7">&para;</a></dt>
        <dd id="null">As specified in <a class="xref" href="#RFC7230">[RFC7230]</a>.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_3-8">Payload<a class="pilcrow" href="#s-4_2_3-8">&para;</a></dt>
        <dd id="null">The content payload as specified in section XX below.<a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      <p id="s-4_2_3-9">[Note, this is showing the payload, not the binding as is intended because the current code  doesn't implement it as intended yet] <a class="pilcrow" href="#s-4_2_3-9">&para;</a></p>
      <pre id="s-4_2_3-10">{
  "Hello": {}}<a class="pilcrow" href="#s-4_2_3-10">&para;</a></pre>
    </section>
    
    <section id="n-response">
      <h5 id="s-4_2_4">
        <a class="selfRef" href="#s-4_2_4">4.2.4.</a>
        <a class="selfRef" href="#n-response">Response</a>
      </h5>
      <p id="s-4_2_4-1">The response <span class="bcp14">MAY</span> contain any HTTP response header but since JWB services do not make use of HTTP caching and messages are not intended to be modified by HTTP intermediaries, only a limited number of headers have significance:<a class="pilcrow" href="#s-4_2_4-1">&para;</a></p>
      <dl id="s-4_2_4-2-" class="nohang">
        <dt id="s-4_2_4-2">Response Code<a class="pilcrow" href="#s-4_2_4-2">&para;</a></dt>
        <dd id="null">The HTTP response code. This is processed as described in section zz below.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_4-3">Content-Type<a class="pilcrow" href="#s-4_2_4-3">&para;</a></dt>
        <dd id="null">As specified in section zz below.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_4-4">Content-Length or Transfer-Encoding<a class="pilcrow" href="#s-4_2_4-4">&para;</a></dt>
        <dd id="null">As specified in <a class="xref" href="#RFC7230">[RFC7230]</a>.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_2_4-5">Cache-Control<a class="pilcrow" href="#s-4_2_4-5">&para;</a></dt>
        <dd id="null">Since the only valid HTTP method for a JWB request is POST, JWB responses are not cacheable. The use of the cache-control header is therefore unnecessary. However, experience suggests that reviewers find it easier to understand protocol specifications if they are reminded of the fact that caching is neither supported nor desired. <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      <p id="s-4_2_4-6">[Note, this is showing the payload, not the binding as is intended because the current code  doesn't implement it as intended yet] <a class="pilcrow" href="#s-4_2_4-6">&para;</a></p>
      <pre id="s-4_2_4-7">{
  "MeshHelloResponse": {
    "Status": 201,
    "Version": {
      "Major": 3,
      "Minor": 0,
      "Encodings": [{
          "ID": ["application/json"]}]},
    "EnvelopedProfileService": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlU2VydmljZSI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1CTlQtV09MNy1SNE42LVdOUTYtR
  FpHSC1OQVJVLVFYR1MiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICJCaGd0R2lOb3RBZXZLMWcycDlLd2V
  DcmJHa0lEY19lYzRnZmRSWDVqaEtPaWJMdjl4cmpTCiAgcDFrQ3EwX0RnMmJLe
  UxORUtQckdoek9BIn19fX19",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MBNT-WOL7-R4N6-WNQ6-DZGH-NARU-QXGS",
            "signature": "QaCCgc0s5SWqDS-ftqKShfu2cB_VJmuh4WuJQ-hBm3y
                lQYHgo
  siL6Ht80U0jQIludWJCx0InbB6AYyBGG9MeA6U7qZVuMEGvWTpVokuzeJX8n-f
  Tf2lfp5XSaxz0lcW6nr3JkbBbZnyG2fEc7sefHykA"}],
        "PayloadDigest": "e1HeM8pDoyymfVoAerBTHiXr7YlaO9Ojatj412YBhwO
            jg
  ATZy-RPuov4GPFxG30Okoj2TnGejIWJTgI8EeADEg"}],
    "EnvelopedProfileHost": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlSG9zdCI6IHsKICAgICJLZXlPZmZsaW5lU2lnbmF
  0dXJlIjogewogICAgICAiVURGIjogIk1CMk8tTVlJVC1TVlpNLUFQNVAtTjdYU
  y1YUEhOLUNOWUEiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICA
  gICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgIlB1YmxpYyI6ICJpbTR5QUpvUHZTT2ZkUUc4Q093RVA4ZmQ
  5MjVldEp2OENZek1kUHJOSm1jMy1zWm4tUGtxCiAgZGd1Sm1UcHBSejJlbjJuS
  1NHQkxvWVlBIn19fSwKICAgICJLZXlBdXRoZW50aWNhdGlvbiI6IHsKICAgICA
  gIlVERiI6ICJNQTNWLUNESkUtTUROWC1OMkJTLUlSWUUtM08zRC1QSDJHIiwKI
  CAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUV
  DREgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQd
  WJsaWMiOiAiTExXb3FZMUE0dG1OVUhwZ0FxN1JjcTd0WkZsVDB4bGlrbGNZd3F
  uckJoalVrVV9oaWowagogIEhJQ1doMmt0aENhemtMSndxZFVlQmdjQSJ9fX19f
  Q",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MB2O-MYIT-SVZM-AP5P-N7XS-XPHN-CNYA",
            "signature": "Iu3PBwDlL_8tYTxhEAvABwfnvPHlGQgVjmACHGf1bPK
                L9bDJw
  Z41ct7tLm16II6yCHyoSWsPfgoAhiwuNGTmtdSiSnWPDcCqMED9mISXuzdvyKa
  vXC1WKCcGZ9xX2T6RQt_uwjIzQ14NOBJ_0Kq0DBkA"}],
        "PayloadDigest": "XOuVH5GtU_-ChBeUrSEpeunqcZI_T401sX0pP4L_dFL
            ey
  8vqINGvmKiFOQlLOH2cHmqAd26gfjEUOJtVzWIh6g"}]}}<a class="pilcrow" href="#s-4_2_4-7">&para;</a></pre>
    </section>
    
    <section id="n-dare-message-encapsulation">
      <h4 id="s-4_3">
        <a class="selfRef" href="#s-4_3">4.3.</a>
        <a class="selfRef" href="#n-dare-message-encapsulation">DARE Message Encapsulation</a>
      </h4>
      <p id="s-4_3-1">The payload of the HTTP requests and responses is a DARE Message whose payload contains the Mesh Service request or response.<a class="pilcrow" href="#s-4_3-1">&para;</a></p>
      <p id="s-4_3-2">The DARE Message encapsulation is used to authenticate the request or response data. The form of the authentication depending on the credentials available to the sender at the time the request is made.<a class="pilcrow" href="#s-4_3-2">&para;</a></p>
      <p id="s-4_3-3">Mesh Service <span class="bcp14">MUST</span> support the use of Mutually Authenticated Key Exchange <a class="xref" href="#draft-hallambaker-mesh-security">[draft-hallambaker-mesh-security]</a> to establish the Master Key used for authentication of requests and responses.<a class="pilcrow" href="#s-4_3-3">&para;</a></p>
      <p id="s-4_3-4">Requests and Responses <span class="bcp14">MUST</span> be authenticated. Requests and Responses <span class="bcp14">MUST</span> be encrypted if the transport is not encrypted and <span class="bcp14">MAY</span> be encrypted otherwise.<a class="pilcrow" href="#s-4_3-4">&para;</a></p>
    </section>
    
    <section id="n-null-authentication">
      <h5 id="s-4_3_1">
        <a class="selfRef" href="#s-4_3_1">4.3.1.</a>
        <a class="selfRef" href="#n-null-authentication">Null Authentication</a>
      </h5>
      <p id="s-4_3_1-1">Null Authentication <span class="bcp14">MAY</span> be used to make a <code>Hello</code> Request.<a class="pilcrow" href="#s-4_3_1-1">&para;</a></p>
      <p id="s-4_3_1-2">The Null Authentication mechanism <span class="bcp14">MUST NOT</span> be used for any Mesh Service request or response other than a <code>Hello</code> request.<a class="pilcrow" href="#s-4_3_1-2">&para;</a></p>
      <p id="s-4_3_1-3">Since the Mutually Authenticated key exchange requires both parties to know the public key of the other, it is not possible for a client to authenticate itself to the service until it has obtained the service public key. One means by which the client <span class="bcp14">MAY</span> obtain the service public key is by requesting the service return the credential in a <code>Hello</code> transaction.<a class="pilcrow" href="#s-4_3_1-3">&para;</a></p>
    </section>
    
    <section id="n-device-authentication">
      <h5 id="s-4_3_2">
        <a class="selfRef" href="#s-4_3_2">4.3.2.</a>
        <a class="selfRef" href="#n-device-authentication">Device Authentication</a>
      </h5>
      <p id="s-4_3_2-1">Device Authentication is used in two circumstances<a class="pilcrow" href="#s-4_3_2-1">&para;</a></p>
      <ul id="s-4_3_2-2-">
        <li id="s-4_3_2-2">When requesting creation of an account<a class="pilcrow" href="#s-4_3_2-2">&para;</a></li>
        <li id="s-4_3_2-3">When a device is requesting connection to a profile.<a class="pilcrow" href="#s-4_3_2-3">&para;</a></li>
      </ul>
      
      <section id="n-profile-authentication">
        <h5 id="s-4_3_3">
          <a class="selfRef" href="#s-4_3_3">4.3.3.</a>
          <a class="selfRef" href="#n-profile-authentication">Profile Authentication</a>
        </h5>
      </section>
      <p id="s-4_3_3-1">Profile Authentication has the same form as Device Authentication except that the client provides its Device Connection Assertion as part of the request:<a class="pilcrow" href="#s-4_3_3-1">&para;</a></p>
    </section>
    
    <section id="n-ticket-authentication">
      <h5 id="s-4_3_4">
        <a class="selfRef" href="#s-4_3_4">4.3.4.</a>
        <a class="selfRef" href="#n-ticket-authentication">Ticket Authentication</a>
      </h5>
      <p id="s-4_3_4-1">Ticket Authentication is used after a device has obtained an authentication ticket from a service. The ticket is returned in the response to a previous Profile Authentication exchange.<a class="pilcrow" href="#s-4_3_4-1">&para;</a></p>
    </section>
    
    <section id="n-payload-encoding">
      <h4 id="s-4_4">
        <a class="selfRef" href="#s-4_4">4.4.</a>
        <a class="selfRef" href="#n-payload-encoding">Payload Encoding</a>
      </h4>
      <p id="s-4_4-1">The Dare Message payload of a <code>Hello</code> request <span class="bcp14">MUST</span> be encoded in JSON encoding. The payload of all other requests <span class="bcp14">MUST</span> be in either JSON encoding or one of the encodings advertised as being accepted in a Hello response from the Service. Services <span class="bcp14">MUST</span> accept JSON encoding and <span class="bcp14">MAY</span> support the JSON-B or JSON-C encodings as specified in this document. Services <span class="bcp14">MUST</span> generate a response that is compatible with the DARE Message Content-Type specified in the request.<a class="pilcrow" href="#s-4_4-1">&para;</a></p>
      <p id="s-4_4-2">JSON was originally developed to provide a serialization format for the JavaScript programming language <a class="xref" href="#ECMA-262">[ECMA-262]</a>. While this approach is generally applicable to the type systems of scripting programming languages, it is less well matched to the richer type systems of modern object oriented programming languages such as Java and C#.<a class="pilcrow" href="#s-4_4-2">&para;</a></p>
      <p id="s-4_4-3">Working within a subset of the capabilities of JSON allows a Web Service protocol to be accessed with equal ease from either platform type. The following capabilities of JSON are avoided:<a class="pilcrow" href="#s-4_4-3">&para;</a></p>
      <p id="s-4_4-4">The ability to use arbitrary strings as field names.<a class="pilcrow" href="#s-4_4-4">&para;</a></p>
      <p id="s-4_4-5">The use of JSON objects to define maps directly<a class="pilcrow" href="#s-4_4-5">&para;</a></p>
      <p id="s-4_4-6">The following data field types are used:<a class="pilcrow" href="#s-4_4-6">&para;</a></p>
      <dl id="s-4_4-7-" class="nohang">
        <dt id="s-4_4-7">Integer<a class="pilcrow" href="#s-4_4-7">&para;</a></dt>
        <dd id="null">Integer values are encoded as JSON number values.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-8">String<a class="pilcrow" href="#s-4_4-8">&para;</a></dt>
        <dd id="null">Test strings are encoded as JSON text strings.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-9">Boolean<a class="pilcrow" href="#s-4_4-9">&para;</a></dt>
        <dd id="null">Boolean values are encoded as JSON ‘false’, ‘true’ or ‘null’ tokens according to value.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-10">Sequence<a class="pilcrow" href="#s-4_4-10">&para;</a></dt>
        <dd id="null">Sequences of data items that are encoded as JSON arrays<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-11">Object of known type<a class="pilcrow" href="#s-4_4-11">&para;</a></dt>
        <dd id="null">Objects whose type is known to the receiver are encoded as JSON objects<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-12">Object of variable type<a class="pilcrow" href="#s-4_4-12">&para;</a></dt>
        <dd id="null">Objects whose type is not known to the receiver are encoded as JSON objects containing a single field whose name describes the type of the object value and whose value contains the value.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-13">Binary Data<a class="pilcrow" href="#s-4_4-13">&para;</a></dt>
        <dd id="null">Byte sequences are converted to BASE64-url encoding <a class="xref" href="#RFC4648">[RFC4648]</a> and encoded as JSON string values.<a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-4_4-14">Date Time<a class="pilcrow" href="#s-4_4-14">&para;</a></dt>
        <dd id="null">Date Time values are converted to Internet time format as described in <a class="xref" href="#RFC3339">[RFC3339]</a> and encoded as JSON string values.<a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-error-handling-and-response-codes">
        <h4 id="s-4_5">
          <a class="selfRef" href="#s-4_5">4.5.</a>
          <a class="selfRef" href="#n-error-handling-and-response-codes">Error handling and response codes</a>
        </h4>
      </section>
      <p id="s-4_5-1">It is possible for an error to occur at any of the three layers in the Web Service binding:<a class="pilcrow" href="#s-4_5-1">&para;</a></p>
      <p id="s-4_5-2">Service Layer<a class="pilcrow" href="#s-4_5-2">&para;</a></p>
      <p id="s-4_5-3">HTTP Layer<a class="pilcrow" href="#s-4_5-3">&para;</a></p>
      <p id="s-4_5-4">Transport Layer<a class="pilcrow" href="#s-4_5-4">&para;</a></p>
      <p id="s-4_5-5">Services <span class="bcp14">SHOULD</span> always attempt to return error codes at the highest level possible. However, it is clearly impossible for a connection that is refused at the Transport layer to return an error code at the HTTP layer. It is however possible for a HTTP layer error response to contain a content body.<a class="pilcrow" href="#s-4_5-5">&para;</a></p>
      <p id="s-4_5-6">In the case that a response contains both a HTTP response code and a well-formed payload containing a response, the payload response <span class="bcp14">SHALL</span> have precedence.<a class="pilcrow" href="#s-4_5-6">&para;</a></p>
    </section>
    
    <section id="n-service-description">
      <h3 id="s-5">
        <a class="selfRef" href="#s-5">5.</a>
        <a class="selfRef" href="#n-service-description">Service Description</a>
      </h3>
      <p id="s-5-1">The Hello transaction is used to determine the features supported by the service and obtain the service credentials<a class="pilcrow" href="#s-5-1">&para;</a></p>
      <p id="s-5-2">The request payload: <a class="pilcrow" href="#s-5-2">&para;</a></p>
      <pre id="s-5-3">{
  "Hello": {}}<a class="pilcrow" href="#s-5-3">&para;</a></pre>
      <p id="s-5-4">The response payload: <a class="pilcrow" href="#s-5-4">&para;</a></p>
      <pre id="s-5-5">{
  "MeshHelloResponse": {
    "Status": 201,
    "Version": {
      "Major": 3,
      "Minor": 0,
      "Encodings": [{
          "ID": ["application/json"]}]},
    "EnvelopedProfileService": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlU2VydmljZSI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1CTlQtV09MNy1SNE42LVdOUTYtR
  FpHSC1OQVJVLVFYR1MiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICJCaGd0R2lOb3RBZXZLMWcycDlLd2V
  DcmJHa0lEY19lYzRnZmRSWDVqaEtPaWJMdjl4cmpTCiAgcDFrQ3EwX0RnMmJLe
  UxORUtQckdoek9BIn19fX19",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MBNT-WOL7-R4N6-WNQ6-DZGH-NARU-QXGS",
            "signature": "QaCCgc0s5SWqDS-ftqKShfu2cB_VJmuh4WuJQ-hBm3y
                lQYHgo
  siL6Ht80U0jQIludWJCx0InbB6AYyBGG9MeA6U7qZVuMEGvWTpVokuzeJX8n-f
  Tf2lfp5XSaxz0lcW6nr3JkbBbZnyG2fEc7sefHykA"}],
        "PayloadDigest": "e1HeM8pDoyymfVoAerBTHiXr7YlaO9Ojatj412YBhwO
            jg
  ATZy-RPuov4GPFxG30Okoj2TnGejIWJTgI8EeADEg"}],
    "EnvelopedProfileHost": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlSG9zdCI6IHsKICAgICJLZXlPZmZsaW5lU2lnbmF
  0dXJlIjogewogICAgICAiVURGIjogIk1CMk8tTVlJVC1TVlpNLUFQNVAtTjdYU
  y1YUEhOLUNOWUEiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICA
  gICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgIlB1YmxpYyI6ICJpbTR5QUpvUHZTT2ZkUUc4Q093RVA4ZmQ
  5MjVldEp2OENZek1kUHJOSm1jMy1zWm4tUGtxCiAgZGd1Sm1UcHBSejJlbjJuS
  1NHQkxvWVlBIn19fSwKICAgICJLZXlBdXRoZW50aWNhdGlvbiI6IHsKICAgICA
  gIlVERiI6ICJNQTNWLUNESkUtTUROWC1OMkJTLUlSWUUtM08zRC1QSDJHIiwKI
  CAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUV
  DREgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQd
  WJsaWMiOiAiTExXb3FZMUE0dG1OVUhwZ0FxN1JjcTd0WkZsVDB4bGlrbGNZd3F
  uckJoalVrVV9oaWowagogIEhJQ1doMmt0aENhemtMSndxZFVlQmdjQSJ9fX19f
  Q",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MB2O-MYIT-SVZM-AP5P-N7XS-XPHN-CNYA",
            "signature": "Iu3PBwDlL_8tYTxhEAvABwfnvPHlGQgVjmACHGf1bPK
                L9bDJw
  Z41ct7tLm16II6yCHyoSWsPfgoAhiwuNGTmtdSiSnWPDcCqMED9mISXuzdvyKa
  vXC1WKCcGZ9xX2T6RQt_uwjIzQ14NOBJ_0Kq0DBkA"}],
        "PayloadDigest": "XOuVH5GtU_-ChBeUrSEpeunqcZI_T401sX0pP4L_dFL
            ey
  8vqINGvmKiFOQlLOH2cHmqAd26gfjEUOJtVzWIh6g"}]}}<a class="pilcrow" href="#s-5-5">&para;</a></pre>
    </section>
    
    <section id="n-account-management">
      <h3 id="s-6">
        <a class="selfRef" href="#s-6">6.</a>
        <a class="selfRef" href="#n-account-management">Account Management</a>
      </h3>
      <p id="s-6-1">A Mesh Account is bound to a Mesh Service by completing a <code>CreateAccount</code> transaction with the service.<a class="pilcrow" href="#s-6-1">&para;</a></p>
      <p id="s-6-2">The client requesting the account creation specifies the <code>ProfileMesh</code> profile describing the requested account and lists of initial entries to populate the devices and contacts catalogs. Additional catalogs <span class="bcp14">MAY</span> be synchronized if the account creation request is accepted.<a class="pilcrow" href="#s-6-2">&para;</a></p>
      <p id="s-6-3">The request payload: <a class="pilcrow" href="#s-6-3">&para;</a></p>
      <pre id="s-6-4">{
  "CreateAccount": {
    "ServiceID": "alice@example.com",
    "SignedProfileMesh": [{},
      "ewogICJQcm9maWxlTWVzaCI6IHsKICAgICJLZXlPZ
  mZsaW5lU2lnbmF0dXJlIjogewogICAgICAiVURGIjogIk1ES0QtWFRVUi1HRlA
  0LVFENTItU1ROQi1RN0dTLU1FV1ciLAogICAgICAiUHVibGljUGFyYW1ldGVyc
  yI6IHsKICAgICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnY
  iOiAiRWQ0NDgiLAogICAgICAgICAgIlB1YmxpYyI6ICJZLUVZOVI0Xy1tR0h2S
  FVFSjQ4bFl0clViM3BFOTZWaWZ4SmVoRjZkWlFOWlJjMDdFR29XCiAgSWRrZjd
  qMXotMG82ZURDLVgtckJiVkNBIn19fSwKICAgICJLZXlzT25saW5lU2lnbmF0d
  XJlIjogW3sKICAgICAgICAiVURGIjogIk1BNkEtNUpFQS03UFJOLUhIRzYtR0N
  MUi1DWUhTLURSQUkiLAogICAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogI
  CAgICAgICAgIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAgICJjcnYiOiA
  iRWQ0NDgiLAogICAgICAgICAgICAiUHVibGljIjogIlJkWGwweEJ4SFR0cnpae
  jRvRzRDSVlXN3RnVFMtcDRWeFZ2UmxkLXkwQVpzZ0VBNS1yLWkKICBuZGxTVVN
  lWGM3WkxhR0Z5TGl3U3IwcUEifX19XSwKICAgICJLZXlFbmNyeXB0aW9uIjoge
  wogICAgICAiVURGIjogIk1ES0QtWFRVUi1HRlA0LVFENTItU1ROQi1RN0dTLU1
  FV1ciLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVib
  GljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICA
  gICAgIlB1YmxpYyI6ICJZLUVZOVI0Xy1tR0h2SFVFSjQ4bFl0clViM3BFOTZWa
  WZ4SmVoRjZkWlFOWlJjMDdFR29XCiAgSWRrZjdqMXotMG82ZURDLVgtckJiVkN
  BIn19fX19"],
    "SignedAssertionAccount": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlQWNjb3VudCI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1CQUwtNDRZWi1YNEdYLVVTQkwtS
  kFNVS1BVzMyLVNMQlEiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICItUkNVeG5RSWJDb0hnTlJWUU81TEl
  ERFVQQ3JvcjJxLU9MaDFGTlMzQVZ5QnJ3TzNCZWROCiAgYzduWHJOQ01yT1RhZ
  jFNRmUwWk1HcVlBIn19fSwKICAgICJLZXlzT25saW5lU2lnbmF0dXJlIjogW3s
  KICAgICAgICAiVURGIjogIk1BREUtSjNTRS1MT0FNLTdGNjQtU0paSy1CT05FL
  URSUEMiLAogICAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogICAgICAgICA
  gIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgICAiUHVibGljIjogIndvQW01X1hpVWtFdDA2a1Vpa1R1eGJ
  2QjdPdU1hc0lONDlTMzY0Ykpqc0o2WVMzZ3ZDM1EKICB4eDNxQUZBYVhGTjg0Z
  mNpMllOdklpeUEifX19XSwKICAgICJTZXJ2aWNlSURzIjogWyJhbGljZUBleGF
  tcGxlLmNvbSJdLAogICAgIk1lc2hQcm9maWxlVURGIjogIk1ES0QtWFRVUi1HR
  lA0LVFENTItU1ROQi1RN0dTLU1FV1ciLAogICAgIktleUVuY3J5cHRpb24iOiB
  7CiAgICAgICJVREYiOiAiTUJMUi1KQVNXLUlET1EtRFZIUS1RRjJOLVlQWVUtR
  VI0NiIsCiAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogICAgICAgICJQdWJ
  saWNLZXlFQ0RIIjogewogICAgICAgICAgImNydiI6ICJFZDQ0OCIsCiAgICAgI
  CAgICAiUHVibGljIjogInVnejk4Z3A0X3M4bnRiQ28wdlpxX1pJZU9iV25SNW1
  pZjRiclo5S2FXOXdLUWFjS0RfLWUKICBDcUdBUmg4Q2dLME1Ra0FqaXVXbG82d
  0EifX19fX0",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MA6A-5JEA-7PRN-HHG6-GCLR-CYHS-DRAI",
            "signature": "XOpsadhMHH_5eH8Np42s0_lp49a2Hc1tvspOIyYiHAh
                xwA0NZ
  VPAw1Mox6kwjfdntb3EyaHnFF2AxLrqI4GvwYjNmcuk2RDW9mCjj7uRZ38_jcX
  --9Ld_MYQucH8lankfDDRUlI6Vbglp_4Oub1oYgIA"}],
        "PayloadDigest": "woWiugDhBt-mBSTPaikozWhXk8oioq4ntulInpK9_cH
            r8
  vKt3PEX8rW96F5LFCGbNkd3u4Mp8cV9Lis45KJBjg"}]}}<a class="pilcrow" href="#s-6-4">&para;</a></pre>
      <p id="s-6-5">The response payload: <a class="pilcrow" href="#s-6-5">&para;</a></p>
      <pre id="s-6-6">{
  "CreateResponse": {
    "Status": 201,
    "StatusDescription": "Operation completed successfully"}}<a class="pilcrow" href="#s-6-6">&para;</a></pre>
      <p id="s-6-7">An account registration is deleted using the <code>DeleteAccount</code> transaction.<a class="pilcrow" href="#s-6-7">&para;</a></p>
    </section>
    
    <section id="n-container-synchronization">
      <h3 id="s-7">
        <a class="selfRef" href="#s-7">7.</a>
        <a class="selfRef" href="#n-container-synchronization">Container Synchronization</a>
      </h3>
      <p id="s-7-1">All the state associated with a Mesh profile is stored as a sequence of DARE Messages in a Dare Container. The Mesh Service holding the master copy of the persistence stores and the devices connected to the profile containing complete copies (replicas) or partial copies (redactions).<a class="pilcrow" href="#s-7-1">&para;</a></p>
      <p id="s-7-2">Thus, the only primitive needed to achieve synchronization of the profile state are those required for synchronization of a DARE Container. These steps are:<a class="pilcrow" href="#s-7-2">&para;</a></p>
      <ul id="s-7-3-">
        <li id="s-7-3">Obtain the status of the catalogs and spools associated with the account.<a class="pilcrow" href="#s-7-3">&para;</a></li>
        <li id="s-7-4">Download catalog and spool updates<a class="pilcrow" href="#s-7-4">&para;</a></li>
        <li id="s-7-5">Upload catalog updates.<a class="pilcrow" href="#s-7-5">&para;</a></li>
      </ul>
      <p id="s-7-6">To ensure a satisfactory user experience, Mesh Messages are intentionally limited in size to 64 KB or less, thus ensuring that an application can retrieve the most recent 100 messages almost instantaneously on a high bandwidth connection and without undue delay on a slower one.<a class="pilcrow" href="#s-7-6">&para;</a></p>
    </section>
    
    <section id="n-status-transaction">
      <h4 id="s-7_1">
        <a class="selfRef" href="#s-7_1">7.1.</a>
        <a class="selfRef" href="#n-status-transaction">Status Transaction</a>
      </h4>
      <p id="s-7_1-1">The status transaction returns the status of the containers the device is authorized to access for the specified account together with the updated Device Connection Entry if this has been modified since the entry presented to authenticate the request was issued.<a class="pilcrow" href="#s-7_1-1">&para;</a></p>
    </section>
    
    <section id="n-download-transaction">
      <h4 id="s-7_2">
        <a class="selfRef" href="#s-7_2">7.2.</a>
        <a class="selfRef" href="#n-download-transaction">Download Transaction</a>
      </h4>
      <p id="s-7_2-1">The download transaction returns a collection of entries from one or more containers associated with the profile.<a class="pilcrow" href="#s-7_2-1">&para;</a></p>
      <p id="s-7_2-2">Optional filtering criteria <span class="bcp14">MAY</span> be specified to only return objects matching specific criteria and/or only return certain parts of the selected messages.<a class="pilcrow" href="#s-7_2-2">&para;</a></p>
      <p id="s-7_2-3">The service <span class="bcp14">MAY</span> limit the number of entries returned in an individual response for performance reasons.<a class="pilcrow" href="#s-7_2-3">&para;</a></p>
    </section>
    
    <section id="n-conflict-detection">
      <h5 id="s-7_2_1">
        <a class="selfRef" href="#s-7_2_1">7.2.1.</a>
        <a class="selfRef" href="#n-conflict-detection">Conflict Detection</a>
      </h5>
      <p id="s-7_2_1-1">Clients <span class="bcp14">SHOULD</span> check to determine if updates to a container conflict with pending updates on the device waiting to be uploaded. For example, if a contact that the user modified on the device attempting to synchronize was subsequently deleted.<a class="pilcrow" href="#s-7_2_1-1">&para;</a></p>
      <p id="s-7_2_1-2">The means of resolving such conflicts is not in the scope of this specification.<a class="pilcrow" href="#s-7_2_1-2">&para;</a></p>
    </section>
    
    <section id="n-filtering">
      <h5 id="s-7_2_2">
        <a class="selfRef" href="#s-7_2_2">7.2.2.</a>
        <a class="selfRef" href="#n-filtering">Filtering</a>
      </h5>
      <p id="s-7_2_2-1">Clients may request container updates be filtered to redact catalog entries that have been updated or deleted or spool entries that have been read, deleted or were received before a certain date.<a class="pilcrow" href="#s-7_2_2-1">&para;</a></p>
    </section>
    
    <section id="n-upload-transaction">
      <h4 id="s-7_3">
        <a class="selfRef" href="#s-7_3">7.3.</a>
        <a class="selfRef" href="#n-upload-transaction">Upload Transaction</a>
      </h4>
      <p id="s-7_3-1">The upload transaction upload objects to a catalog or spool.<a class="pilcrow" href="#s-7_3-1">&para;</a></p>
      <p id="s-7_3-2">Multiple objects <span class="bcp14">MAY</span> be uploaded at once. Object updates <span class="bcp14">MAY</span> be conditional on the successful completion of other upload requests.<a class="pilcrow" href="#s-7_3-2">&para;</a></p>
      <p id="s-7_3-3">The transaction <span class="bcp14">MAY</span> be performed in one request/response round trip or with separate round trips to confirm that the transaction is accepted by the service before sending large number of updates.<a class="pilcrow" href="#s-7_3-3">&para;</a></p>
    </section>
    
    <section id="n-device-connection">
      <h3 id="s-8">
        <a class="selfRef" href="#s-8">8.</a>
        <a class="selfRef" href="#n-device-connection">Device Connection</a>
      </h3>
      <p id="s-8-1">Devices request connection to a Mesh profile using the <code>Connect</code> transaction. Three connection mechanisms are currently defined. All three of which offer strong mutual authentication.<a class="pilcrow" href="#s-8-1">&para;</a></p>
      <p id="s-8-2">Device Authenticated<a class="pilcrow" href="#s-8-2">&para;</a></p>
      <p id="s-8-3">Pin Authenticated<a class="pilcrow" href="#s-8-3">&para;</a></p>
      <p id="s-8-4">EARL Connection Mode<a class="pilcrow" href="#s-8-4">&para;</a></p>
      <p id="s-8-5">The first two of these mechanisms are initiated from the device being connected which requires that the Mesh Service Account it is being connected to be entered into it. Use of these mechanisms thus requires keyboard and display affordances or accessibility equivalents.<a class="pilcrow" href="#s-8-5">&para;</a></p>
      <p id="s-8-6">The last mechanism is initiated from an administration device that is already connected to the account. It is intended for use in circumstances where the device being connected does not have the necessary affordances to allow the Device or PIN authenticated modes.<a class="pilcrow" href="#s-8-6">&para;</a></p>
      <p id="s-8-7">In either case, the connection request is completed by the device requesting synchronization with the Mesh Account using its device credential for authentication. If the connection request was accepted, the device will be provisioned with the Device Connection Assertion allowing it to complete the process.<a class="pilcrow" href="#s-8-7">&para;</a></p>
      <p id="s-8-8">The Device Connection Assertion includes an overlay device profile containing a set of private key contributions to be used to perform key cogeneration on the original set of device keys to create a new device profile to be used for all purposes associated with the Mesh Profile to which it has just been connected. This assures the user that the keys the device uses for performing operation in the context of their profile are not affected by any compromise that might have occurred during manufacture or at any point after up to the time it was connected to their profile.<a class="pilcrow" href="#s-8-8">&para;</a></p>
    </section>
    
    <section id="n-device-authenticated">
      <h4 id="s-8_1">
        <a class="selfRef" href="#s-8_1">8.1.</a>
        <a class="selfRef" href="#n-device-authenticated">Device Authenticated</a>
      </h4>
      <p id="s-8_1-1">The direct connection mechanism requires that both the administration device and the device originating the connection request have data entry and output affordances and that it is possible for the user to compare the authentication codes presented by the two devices to check that they are identical. <a class="pilcrow" href="#s-8_1-1">&para;</a></p>
    </section>
    
    <section id="n-pin-authenticated">
      <h4 id="s-8_2">
        <a class="selfRef" href="#s-8_2">8.2.</a>
        <a class="selfRef" href="#n-pin-authenticated">PIN Authenticated</a>
      </h4>
      <p id="s-8_2-1">The PIN Connection mechanism is similar to the Direct connection mechanism except that the process is initiated on an administration device by requesting assignment of a new authentication PIN. The PIN is then input to the connecting device to authenticate the request.<a class="pilcrow" href="#s-8_2-1">&para;</a></p>
    </section>
    
    <section id="n-earl-connection-mode">
      <h4 id="s-8_3">
        <a class="selfRef" href="#s-8_3">8.3.</a>
        <a class="selfRef" href="#n-earl-connection-mode">EARL connection mode</a>
      </h4>
      <p id="s-8_3-1">The EARL/QR code connection mechanisms are used to connect a constrained device to a Mesh profile by means of an Encrypted Authenticated Resource Locator, typically presented as a QR code on the device itself or its packaging.<a class="pilcrow" href="#s-8_3-1">&para;</a></p>
    </section>
    
    <section id="n-mesh-messaging">
      <h3 id="s-9">
        <a class="selfRef" href="#s-9">9.</a>
        <a class="selfRef" href="#n-mesh-messaging">Mesh Messaging</a>
      </h3>
      <p id="s-9-1">Mesh Messages provide a means of communication between Mesh Service Accounts with capabilities that are not possible or poorly supported in traditional SMTP mail messaging:<a class="pilcrow" href="#s-9-1">&para;</a></p>
      <ul id="s-9-2-">
        <li id="s-9-2">End-to-end confidentiality and authentication by default.<a class="pilcrow" href="#s-9-2">&para;</a></li>
        <li id="s-9-3">Abuse mitigation by applying access control to every inbound and outbound message.<a class="pilcrow" href="#s-9-3">&para;</a></li>
        <li id="s-9-4">End-to-end secure group messaging.<a class="pilcrow" href="#s-9-4">&para;</a></li>
        <li id="s-9-5">Transfer of very large data sets (Terabytes).<a class="pilcrow" href="#s-9-5">&para;</a></li>
      </ul>
      <p id="s-9-6">Note that although Mesh Messaging is designed to facilitate the transfer of very large data sets, the size of Mesh Messages themselves is severely restricted. The current default maximum size being 64 KB. This approach allows Mesh <a class="pilcrow" href="#s-9-6">&para;</a></p>
      <p id="s-9-7">In addition, the platform anticipates but does not currently support additional cryptographic security capabilities:<a class="pilcrow" href="#s-9-7">&para;</a></p>
      <ul id="s-9-8-">
        <li id="s-9-8">Traffic analysis resistance using mix networks (Chaum).<a class="pilcrow" href="#s-9-8">&para;</a></li>
        <li id="s-9-9">Simultaneous contract binding using fair contract signing (Micali).<a class="pilcrow" href="#s-9-9">&para;</a></li>
      </ul>
      <p id="s-9-10">While these capabilities might in time cause Mesh Messaging to replace SMTP, this is not a near term goal. The short-term goal of Mesh Messaging is to support the Contact Exchange and Confirmation applications.<a class="pilcrow" href="#s-9-10">&para;</a></p>
      <p id="s-9-11">Two important classes of application that are not currently supported directly are payments and presence. While prototypes of these applications have been considered, it is not clear if these are best implemented as special cases of the Confirmation and Contact Exchange applications or as separate applications in their own right.<a class="pilcrow" href="#s-9-11">&para;</a></p>
    </section>
    
    <section id="n-message-exchange">
      <h4 id="s-9_1">
        <a class="selfRef" href="#s-9_1">9.1.</a>
        <a class="selfRef" href="#n-message-exchange">Message Exchange</a>
      </h4>
      <p id="s-9_1-1">To enable effective abuse mitigation, Mesh Messaging enforces a four corner communication model in which all outbound and inbound messages pass through a Mesh Service which accredits and authorizes the messages on the user's behalf.<a class="pilcrow" href="#s-9_1-1">&para;</a></p>
      <figure id="f-1">
        <div class="artwork art-svg" id="n-">
          <a class="pilcrow" href="#n-">&para;</a>
        </div>
        <figcaption>
          <a href="n-">Figure 1</a>
:          <a href="null" id="null" class="selfRef"></a>
        </figcaption>
      </figure>
      <p id="s-9_1-3">The Post transaction is used for client-service and service-service messaging transactions.<a class="pilcrow" href="#s-9_1-3">&para;</a></p>
    </section>
    
    <section id="n-clientservice-post-transaction">
      <h5 id="s-9_1_1">
        <a class="selfRef" href="#s-9_1_1">9.1.1.</a>
        <a class="selfRef" href="#n-clientservice-post-transaction">Client-Service (Post Transaction)</a>
      </h5>
      <p id="s-9_1_1-1">To send a message, the client creates the Mesh Message structure, encapsulates it in a DARE Message and forwards this to its service using a <code>Post</code> transaction.<a class="pilcrow" href="#s-9_1_1-1">&para;</a></p>
      <p id="s-9_1_1-2">The Post transaction is authenticated to the service by device using the usual means of profile or ticket authentication.<a class="pilcrow" href="#s-9_1_1-2">&para;</a></p>
      <p id="s-9_1_1-3">The DARE Message <span class="bcp14">MUST</span> be signed under a device signature key accredited by a Device Connection Assertion provided in the message signature block.<a class="pilcrow" href="#s-9_1_1-3">&para;</a></p>
    </section>
    
    <section id="n-serviceservice-post-transaction">
      <h5 id="s-9_1_2">
        <a class="selfRef" href="#s-9_1_2">9.1.2.</a>
        <a class="selfRef" href="#n-serviceservice-post-transaction">Service-Service (Post Transaction)</a>
      </h5>
      <p id="s-9_1_2-1">The Mesh Service receiving the message from the user's device <span class="bcp14">MAY</span> attempt immediate retransmission or queue it to be sent at a future time. Mesh Services <span class="bcp14">SHOULD</span> forward messages without undue delay.<a class="pilcrow" href="#s-9_1_2-1">&para;</a></p>
      <p id="s-9_1_2-2">The Post transaction forwarding the message to the destination service carries the same payload as the original request but is authenticated by the service forwarding it. This authentication <span class="bcp14">MAY</span> be my means of either profile or ticket authentication. <a class="pilcrow" href="#s-9_1_2-2">&para;</a></p>
    </section>
    
    <section id="n-denial-of-service-mitigation">
      <h6 id="s-9_1_2_1">
        <a class="selfRef" href="#s-9_1_2_1">9.1.2.1.</a>
        <a class="selfRef" href="#n-denial-of-service-mitigation">Denial of Service Mitigation</a>
      </h6>
      <p id="s-9_1_2_1-1">Services <span class="bcp14">SHOULD</span> implement Denial of Service mitigation strategies including limiting the maximum time taken to complete a transaction and refusing connections from clients that engage in patterns of behavior consistent with abuse.  <a class="pilcrow" href="#s-9_1_2_1-1">&para;</a></p>
      <p id="s-9_1_2_1-2">The limitation in message size allows Mesh Services to aggressively time out connections that take too long to complete a transaction. A Mesh Service that hosted on a 10Mb/s link should be able to transfer 20 messages a second. If the service is taking more than 5 seconds to complete a transaction, either the source or the destination service is overloaded or the message itself is an attack.<a class="pilcrow" href="#s-9_1_2_1-2">&para;</a></p>
      <p id="s-9_1_2_1-3">Imposing hard constraints on Mesh Service performance requires deployments to scale and apply resources appropriately. If a service is attempting to transfer 100 messages simultaneously and 40% are taking 4 seconds or more, this indicates that the number of simultaneous transfers being attempted should be reduced. Contrawise, if 90% are completinin less than a second, the number of threads allocated to sending outbound messages might be increased.<a class="pilcrow" href="#s-9_1_2_1-3">&para;</a></p>
    </section>
    
    <section id="n-access-control">
      <h6 id="s-9_1_2_2">
        <a class="selfRef" href="#s-9_1_2_2">9.1.2.2.</a>
        <a class="selfRef" href="#n-access-control">Access Control</a>
      </h6>
      <p id="s-9_1_2_2-1">The inbound service <span class="bcp14">MUST</span> subject inbound messages to Access Control according to the credentials presented in the DARE Message payload.<a class="pilcrow" href="#s-9_1_2_2-1">&para;</a></p>
      <p id="s-9_1_2_2-2">After verifying the signature and checking that the key is properly accredited in accordance with site policy, the service applies authorization controls taking account of:<a class="pilcrow" href="#s-9_1_2_2-2">&para;</a></p>
      <ul id="s-9_1_2_2-3-">
        <li id="s-9_1_2_2-3">The accreditation of the sender<a class="pilcrow" href="#s-9_1_2_2-3">&para;</a></li>
        <li id="s-9_1_2_2-4">The accreditation of the transmitting Service<a class="pilcrow" href="#s-9_1_2_2-4">&para;</a></li>
        <li id="s-9_1_2_2-5">The type of Mesh Message being sent<a class="pilcrow" href="#s-9_1_2_2-5">&para;</a></li>
        <li id="s-9_1_2_2-6">User policy as specified in their Contact Catalog<a class="pilcrow" href="#s-9_1_2_2-6">&para;</a></li>
        <li id="s-9_1_2_2-7">Site policy.<a class="pilcrow" href="#s-9_1_2_2-7">&para;</a></li>
      </ul>
      
      <section id="n-serviceclient-synchronization">
        <h5 id="s-9_1_3">
          <a class="selfRef" href="#s-9_1_3">9.1.3.</a>
          <a class="selfRef" href="#n-serviceclient-synchronization">Service-Client (Synchronization)</a>
        </h5>
      </section>
      <p id="s-9_1_3-1">The final recipient receives the message by synchronizing their inbound spool.<a class="pilcrow" href="#s-9_1_3-1">&para;</a></p>
    </section>
    
    <section id="n-protocol-schema">
      <h3 id="s-10">
        <a class="selfRef" href="#s-10">10.</a>
        <a class="selfRef" href="#n-protocol-schema">Protocol Schema</a>
      </h3>
      <dl id="s-10-1-" class="nohang">
        <dt id="s-10-1">HTTP Well Known Service Prefix: /.well-known/mmm <a class="pilcrow" href="#s-10-1">&para;</a></dt>
      </dl>
      <p id="s-10-2">Every Mesh Portal Service transaction consists of exactly one request followed by exactly one response. Mesh Service transactions MAY cause modification of the data stored in the Mesh Service or the Mesh itself but do not cause changes to the connection state. The protocol itself is thus idempotent. There is no set sequence in which operations are required to be performed. It is not necessary to perform a Hello transaction prior to any other transaction. <a class="pilcrow" href="#s-10-2">&para;</a></p>
    </section>
    
    <section id="n-request-messages-">
      <h4 id="s-10_1">
        <a class="selfRef" href="#s-10_1">10.1.</a>
        <a class="selfRef" href="#n-request-messages-">Request Messages </a>
      </h4>
      <p id="s-10_1-1">A Mesh Portal Service request consists of a payload object that inherits from the MeshRequest class. When using the  HTTP binding, the request MUST specify the portal DNS address in the HTTP Host field.  <a class="pilcrow" href="#s-10_1-1">&para;</a></p>
    </section>
    
    <section id="n-message-meshrequest-">
      <h5 id="s-10_1_1">
        <a class="selfRef" href="#s-10_1_1">10.1.1.</a>
        <a class="selfRef" href="#n-message-meshrequest-">Message: MeshRequest </a>
      </h5>
      <p id="s-10_1_1-1">Base class for all request messages. <a class="pilcrow" href="#s-10_1_1-1">&para;</a></p>
      <p id="s-10_1_1-2">[No fields] <a class="pilcrow" href="#s-10_1_1-2">&para;</a></p>
    </section>
    
    <section id="n-message-meshrequestuser-">
      <h5 id="s-10_1_2">
        <a class="selfRef" href="#s-10_1_2">10.1.2.</a>
        <a class="selfRef" href="#n-message-meshrequestuser-">Message: MeshRequestUser </a>
      </h5>
      <p id="s-10_1_2-1">Base class for all request messages made by a user. <a class="pilcrow" href="#s-10_1_2-1">&para;</a></p>
      <dl id="s-10_1_2-2-" class="nohang">
        <dt id="s-10_1_2-2">Inherits: MeshRequest  <a class="pilcrow" href="#s-10_1_2-2">&para;</a></dt>
        <dt id="s-10_1_2-3">Account: String (Optional) <a class="pilcrow" href="#s-10_1_2-3">&para;</a></dt>
        <dd id="null">The fully qualified account name (including DNS address) to which the request is directed. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_1_2-4">DeviceProfile: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_1_2-4">&para;</a></dt>
        <dd id="null">Device profile of the device making the request.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-response-messages-">
        <h4 id="s-10_2">
          <a class="selfRef" href="#s-10_2">10.2.</a>
          <a class="selfRef" href="#n-response-messages-">Response Messages </a>
        </h4>
      </section>
      <p id="s-10_2-1">A Mesh Portal Service response consists of a payload object that inherits from the MeshResponse class. When using the HTTP binding, the response SHOULD report the Status response code in the HTTP response  message. However the response code returned in the payload object MUST always be considered authoritative. <a class="pilcrow" href="#s-10_2-1">&para;</a></p>
    </section>
    
    <section id="n-message-meshresponse-">
      <h5 id="s-10_2_1">
        <a class="selfRef" href="#s-10_2_1">10.2.1.</a>
        <a class="selfRef" href="#n-message-meshresponse-">Message: MeshResponse </a>
      </h5>
      <p id="s-10_2_1-1">Base class for all response messages. Contains only the status code and status description fields. <a class="pilcrow" href="#s-10_2_1-1">&para;</a></p>
      <p id="s-10_2_1-2">[No fields] <a class="pilcrow" href="#s-10_2_1-2">&para;</a></p>
    </section>
    
    <section id="n-imported-objects-">
      <h4 id="s-10_3">
        <a class="selfRef" href="#s-10_3">10.3.</a>
        <a class="selfRef" href="#n-imported-objects-">Imported Objects </a>
      </h4>
      <p id="s-10_3-1">The Mesh Service protocol makes use of JSON objects defined in the JOSE Signatgure and Encryption specifications and in the DARE Data At Rest Encryption extensions to JOSE. <a class="pilcrow" href="#s-10_3-1">&para;</a></p>
    </section>
    
    <section id="n-common-structures-">
      <h4 id="s-10_4">
        <a class="selfRef" href="#s-10_4">10.4.</a>
        <a class="selfRef" href="#n-common-structures-">Common Structures </a>
      </h4>
      <p id="s-10_4-1">The following common structures are used in the protocol messages: <a class="pilcrow" href="#s-10_4-1">&para;</a></p>
    </section>
    
    <section id="n-structure-keyvalue-">
      <h5 id="s-10_4_1">
        <a class="selfRef" href="#s-10_4_1">10.4.1.</a>
        <a class="selfRef" href="#n-structure-keyvalue-">Structure: KeyValue </a>
      </h5>
      <p id="s-10_4_1-1">Describes a Key/Value structure used to make queries for records matching one or more selection criteria. <a class="pilcrow" href="#s-10_4_1-1">&para;</a></p>
      <dl id="s-10_4_1-2-" class="nohang">
        <dt id="s-10_4_1-2">Key: String (Optional) <a class="pilcrow" href="#s-10_4_1-2">&para;</a></dt>
        <dd id="null">The data retrieval key. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_1-3">Value: String (Optional) <a class="pilcrow" href="#s-10_4_1-3">&para;</a></dt>
        <dd id="null">The data value to match.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-structure-constraintsselect-">
        <h5 id="s-10_4_2">
          <a class="selfRef" href="#s-10_4_2">10.4.2.</a>
          <a class="selfRef" href="#n-structure-constraintsselect-">Structure: ConstraintsSelect </a>
        </h5>
      </section>
      <p id="s-10_4_2-1">Specifies constraints to be applied to a search result. These  allow a client to limit the number of records returned, the quantity of data returned, the earliest and latest data returned, etc. <a class="pilcrow" href="#s-10_4_2-1">&para;</a></p>
      <dl id="s-10_4_2-2-" class="nohang">
        <dt id="s-10_4_2-2">Container: String (Optional) <a class="pilcrow" href="#s-10_4_2-2">&para;</a></dt>
        <dd id="null">The container to be searched. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_2-3">IndexMin: Integer (Optional) <a class="pilcrow" href="#s-10_4_2-3">&para;</a></dt>
        <dd id="null">Only return objects with an index value that is equal to or higher than the value specified. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_2-4">IndexMax: Integer (Optional) <a class="pilcrow" href="#s-10_4_2-4">&para;</a></dt>
        <dd id="null">Only return objects with an index value that is equal to or lower than the value specified. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_2-5">NotBefore: DateTime (Optional) <a class="pilcrow" href="#s-10_4_2-5">&para;</a></dt>
        <dd id="null">Only data published on or after the specified time instant  is requested. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_2-6">Before: DateTime (Optional) <a class="pilcrow" href="#s-10_4_2-6">&para;</a></dt>
        <dd id="null">Only data published before the specified time instant is requested. This excludes data published at the specified time instant. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_2-7">PageKey: String (Optional) <a class="pilcrow" href="#s-10_4_2-7">&para;</a></dt>
        <dd id="null">Specifies a page key returned in a previous search operation in which the number of responses exceeded the specified bounds. <a class="pilcrow" href="#">&para;</a></dd>
        <dd id="null">When a page key is specified, all the other search parameters except for MaxEntries and MaxBytes are ignored and the service returns the next set of data responding to the earlier query.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-structure-constraintsdata-">
        <h5 id="s-10_4_3">
          <a class="selfRef" href="#s-10_4_3">10.4.3.</a>
          <a class="selfRef" href="#n-structure-constraintsdata-">Structure: ConstraintsData </a>
        </h5>
      </section>
      <p id="s-10_4_3-1">Specifies constraints on the data to be sent. <a class="pilcrow" href="#s-10_4_3-1">&para;</a></p>
      <dl id="s-10_4_3-2-" class="nohang">
        <dt id="s-10_4_3-2">MaxEntries: Integer (Optional) <a class="pilcrow" href="#s-10_4_3-2">&para;</a></dt>
        <dd id="null">Maximum number of entries to send. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_3-3">BytesOffset: Integer (Optional) <a class="pilcrow" href="#s-10_4_3-3">&para;</a></dt>
        <dd id="null">Specifies an offset to be applied to the payload data before it is sent.  This allows large payloads to be transferred incrementally. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_3-4">BytesMax: Integer (Optional) <a class="pilcrow" href="#s-10_4_3-4">&para;</a></dt>
        <dd id="null">Maximum number of payload bytes to send. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_3-5">Header: Boolean (Optional) <a class="pilcrow" href="#s-10_4_3-5">&para;</a></dt>
        <dd id="null">Return the entry header <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_3-6">Payload: Boolean (Optional) <a class="pilcrow" href="#s-10_4_3-6">&para;</a></dt>
        <dd id="null">Return the entry payload <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_3-7">Trailer: Boolean (Optional) <a class="pilcrow" href="#s-10_4_3-7">&para;</a></dt>
        <dd id="null">Return the entry trailer  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-structure-policyaccount-">
        <h5 id="s-10_4_4">
          <a class="selfRef" href="#s-10_4_4">10.4.4.</a>
          <a class="selfRef" href="#n-structure-policyaccount-">Structure: PolicyAccount </a>
        </h5>
      </section>
      <p id="s-10_4_4-1">Describes the account creation policy including constraints on  account names, whether there is an open account creation policy, etc. <a class="pilcrow" href="#s-10_4_4-1">&para;</a></p>
      <dl id="s-10_4_4-2-" class="nohang">
        <dt id="s-10_4_4-2">Minimum: Integer (Optional) <a class="pilcrow" href="#s-10_4_4-2">&para;</a></dt>
        <dd id="null">Specifies the minimum length of an account name. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_4-3">Maximum: Integer (Optional) <a class="pilcrow" href="#s-10_4_4-3">&para;</a></dt>
        <dd id="null">Specifies the maximum length of an account name. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_4_4-4">InvalidCharacters: String (Optional) <a class="pilcrow" href="#s-10_4_4-4">&para;</a></dt>
        <dd id="null">A list of characters that the service  does not accept in account names. The list of characters  MAY not be exhaustive but SHOULD include any illegal characters in the proposed account name.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-structure-containerstatus-">
        <h5 id="s-10_4_5">
          <a class="selfRef" href="#s-10_4_5">10.4.5.</a>
          <a class="selfRef" href="#n-structure-containerstatus-">Structure: ContainerStatus </a>
        </h5>
        <dt id="s-10_4_5-1">Container: String (Optional) <a class="pilcrow" href="#s-10_4_5-1">&para;</a></dt>
        <dt id="s-10_4_5-2">Index: Integer (Optional) <a class="pilcrow" href="#s-10_4_5-2">&para;</a></dt>
        <dt id="s-10_4_5-3">Digest: Binary (Optional)  <a class="pilcrow" href="#s-10_4_5-3">&para;</a></dt>
      </section>
      
      <section id="n-structure-containerupdate-">
        <h5 id="s-10_4_6">
          <a class="selfRef" href="#s-10_4_6">10.4.6.</a>
          <a class="selfRef" href="#n-structure-containerupdate-">Structure: ContainerUpdate </a>
        </h5>
        <dt id="s-10_4_6-1">Inherits: ContainerStatus  <a class="pilcrow" href="#s-10_4_6-1">&para;</a></dt>
        <dt id="s-10_4_6-2">Envelopes: DareEnvelope [0..Many] <a class="pilcrow" href="#s-10_4_6-2">&para;</a></dt>
        <dd id="null">The entries to be uploaded.   <a class="pilcrow" href="#">&para;</a></dd>
      </section>
      
      <section id="n-transaction-hello-">
        <h4 id="s-10_5">
          <a class="selfRef" href="#s-10_5">10.5.</a>
          <a class="selfRef" href="#n-transaction-hello-">Transaction: Hello </a>
        </h4>
        <dt id="s-10_5-1">Request: HelloRequest <a class="pilcrow" href="#s-10_5-1">&para;</a></dt>
        <dt id="s-10_5-2">Response: MeshHelloResponse  <a class="pilcrow" href="#s-10_5-2">&para;</a></dt>
      </section>
      <p id="s-10_5-3">Report service and version information.  <a class="pilcrow" href="#s-10_5-3">&para;</a></p>
      <p id="s-10_5-4">The Hello transaction provides a means of determining which protocol versions, message encodings and transport protocols are supported by the service. <a class="pilcrow" href="#s-10_5-4">&para;</a></p>
      <p id="s-10_5-5">The PostConstraints field MAY be used to advise senders of a maximum size of payload that MAY be sent in an initial Post request. <a class="pilcrow" href="#s-10_5-5">&para;</a></p>
    </section>
    
    <section id="n-message-meshhelloresponse-">
      <h5 id="s-10_5_1">
        <a class="selfRef" href="#s-10_5_1">10.5.1.</a>
        <a class="selfRef" href="#n-message-meshhelloresponse-">Message: MeshHelloResponse </a>
      </h5>
      <dl id="s-10_5_1-1-" class="nohang">
        <dt id="s-10_5_1-1">ConstraintsUpdate: ConstraintsData (Optional) <a class="pilcrow" href="#s-10_5_1-1">&para;</a></dt>
        <dd id="null">Specifies the default data constraints for updates. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_5_1-2">ConstraintsPost: ConstraintsData (Optional) <a class="pilcrow" href="#s-10_5_1-2">&para;</a></dt>
        <dd id="null">Specifies the default data constraints for message senders. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_5_1-3">PolicyAccount: PolicyAccount (Optional) <a class="pilcrow" href="#s-10_5_1-3">&para;</a></dt>
        <dd id="null">Specifies the account creation policy <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_5_1-4">EnvelopedProfileService: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_5_1-4">&para;</a></dt>
        <dd id="null">The enveloped master profile of the service. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_5_1-5">EnvelopedProfileHost: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_5_1-5">&para;</a></dt>
        <dd id="null">The enveloped profile of the host.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-transaction-createaccount-">
        <h4 id="s-10_6">
          <a class="selfRef" href="#s-10_6">10.6.</a>
          <a class="selfRef" href="#n-transaction-createaccount-">Transaction: CreateAccount </a>
        </h4>
        <dt id="s-10_6-1">Request: CreateRequest <a class="pilcrow" href="#s-10_6-1">&para;</a></dt>
        <dt id="s-10_6-2">Response: CreateResponse  <a class="pilcrow" href="#s-10_6-2">&para;</a></dt>
      </section>
      <p id="s-10_6-3">Request creation of a new service account. <a class="pilcrow" href="#s-10_6-3">&para;</a></p>
      <p id="s-10_6-4">Attempt  <a class="pilcrow" href="#s-10_6-4">&para;</a></p>
    </section>
    
    <section id="n-message-createrequest-">
      <h5 id="s-10_6_1">
        <a class="selfRef" href="#s-10_6_1">10.6.1.</a>
        <a class="selfRef" href="#n-message-createrequest-">Message: CreateRequest </a>
      </h5>
      <p id="s-10_6_1-1">Request binding of an account to a service address. <a class="pilcrow" href="#s-10_6_1-1">&para;</a></p>
      <dl id="s-10_6_1-2-" class="nohang">
        <dt id="s-10_6_1-2">Inherits: MeshRequest  <a class="pilcrow" href="#s-10_6_1-2">&para;</a></dt>
        <dt id="s-10_6_1-3">ServiceID: String (Optional) <a class="pilcrow" href="#s-10_6_1-3">&para;</a></dt>
        <dd id="null">The service account to bind to. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_6_1-4">SignedProfileMesh: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_6_1-4">&para;</a></dt>
        <dd id="null">The persistent profile that will be used to validate changes to the account assertion. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_6_1-5">SignedAssertionAccount: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_6_1-5">&para;</a></dt>
        <dd id="null">The signed assertion describing the account.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-message-createresponse-">
        <h5 id="s-10_6_2">
          <a class="selfRef" href="#s-10_6_2">10.6.2.</a>
          <a class="selfRef" href="#n-message-createresponse-">Message: CreateResponse </a>
        </h5>
        <dt id="s-10_6_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_6_2-1">&para;</a></dt>
      </section>
      <p id="s-10_6_2-2">Reports the success or failure of a Create transaction. <a class="pilcrow" href="#s-10_6_2-2">&para;</a></p>
      <dl id="s-10_6_2-3-" class="nohang">
        <dt id="s-10_6_2-3">Reason: String (Optional) <a class="pilcrow" href="#s-10_6_2-3">&para;</a></dt>
        <dd id="null">Text explaining the status of the creation request. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_6_2-4">URL: String (Optional) <a class="pilcrow" href="#s-10_6_2-4">&para;</a></dt>
        <dd id="null">A URL to which the user is directed to complete the account creation  request.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-transaction-deleteaccount-">
        <h4 id="s-10_7">
          <a class="selfRef" href="#s-10_7">10.7.</a>
          <a class="selfRef" href="#n-transaction-deleteaccount-">Transaction: DeleteAccount </a>
        </h4>
        <dt id="s-10_7-1">Request: DeleteRequest <a class="pilcrow" href="#s-10_7-1">&para;</a></dt>
        <dt id="s-10_7-2">Response: DeleteResponse  <a class="pilcrow" href="#s-10_7-2">&para;</a></dt>
      </section>
      <p id="s-10_7-3">Request deletion of a service account. <a class="pilcrow" href="#s-10_7-3">&para;</a></p>
    </section>
    
    <section id="n-message-deleterequest-">
      <h5 id="s-10_7_1">
        <a class="selfRef" href="#s-10_7_1">10.7.1.</a>
        <a class="selfRef" href="#n-message-deleterequest-">Message: DeleteRequest </a>
      </h5>
      <p id="s-10_7_1-1">Request creation of a new portal account. The request specifies the requested account identifier and the Mesh profile to be associated  with the account. <a class="pilcrow" href="#s-10_7_1-1">&para;</a></p>
      <dl id="s-10_7_1-2-" class="nohang">
        <dt id="s-10_7_1-2">Inherits: MeshRequestUser  <a class="pilcrow" href="#s-10_7_1-2">&para;</a></dt>
      </dl>
      <p id="s-10_7_1-3">[No fields] <a class="pilcrow" href="#s-10_7_1-3">&para;</a></p>
    </section>
    
    <section id="n-message-deleteresponse-">
      <h5 id="s-10_7_2">
        <a class="selfRef" href="#s-10_7_2">10.7.2.</a>
        <a class="selfRef" href="#n-message-deleteresponse-">Message: DeleteResponse </a>
      </h5>
      <dl id="s-10_7_2-1-" class="nohang">
        <dt id="s-10_7_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_7_2-1">&para;</a></dt>
      </dl>
      <p id="s-10_7_2-2">Reports the success or failure of a Delete transaction. <a class="pilcrow" href="#s-10_7_2-2">&para;</a></p>
      <p id="s-10_7_2-3">[No fields] <a class="pilcrow" href="#s-10_7_2-3">&para;</a></p>
    </section>
    
    <section id="n-transaction-complete-">
      <h4 id="s-10_8">
        <a class="selfRef" href="#s-10_8">10.8.</a>
        <a class="selfRef" href="#n-transaction-complete-">Transaction: Complete </a>
      </h4>
      <dl id="s-10_8-1-" class="nohang">
        <dt id="s-10_8-1">Request: CompleteRequest <a class="pilcrow" href="#s-10_8-1">&para;</a></dt>
        <dt id="s-10_8-2">Response: CompleteResponse  <a class="pilcrow" href="#s-10_8-2">&para;</a></dt>
      </dl>
      
      <section id="n-message-completerequest-">
        <h5 id="s-10_8_1">
          <a class="selfRef" href="#s-10_8_1">10.8.1.</a>
          <a class="selfRef" href="#n-message-completerequest-">Message: CompleteRequest </a>
        </h5>
        <dt id="s-10_8_1-1">Inherits: StatusRequest  <a class="pilcrow" href="#s-10_8_1-1">&para;</a></dt>
        <dt id="s-10_8_1-2">ServiceID: String (Optional) <a class="pilcrow" href="#s-10_8_1-2">&para;</a></dt>
        <dt id="s-10_8_1-3">ResponseID: String (Optional)  <a class="pilcrow" href="#s-10_8_1-3">&para;</a></dt>
      </section>
      
      <section id="n-message-completeresponse-">
        <h5 id="s-10_8_2">
          <a class="selfRef" href="#s-10_8_2">10.8.2.</a>
          <a class="selfRef" href="#n-message-completeresponse-">Message: CompleteResponse </a>
        </h5>
        <dt id="s-10_8_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_8_2-1">&para;</a></dt>
        <dt id="s-10_8_2-2">SignedResponse: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_8_2-2">&para;</a></dt>
        <dd id="null">The signed assertion describing the result of the connect request  <a class="pilcrow" href="#">&para;</a></dd>
      </section>
      
      <section id="n-transaction-status-">
        <h4 id="s-10_9">
          <a class="selfRef" href="#s-10_9">10.9.</a>
          <a class="selfRef" href="#n-transaction-status-">Transaction: Status </a>
        </h4>
        <dt id="s-10_9-1">Request: StatusRequest <a class="pilcrow" href="#s-10_9-1">&para;</a></dt>
        <dt id="s-10_9-2">Response: StatusResponse  <a class="pilcrow" href="#s-10_9-2">&para;</a></dt>
      </section>
      
      <section id="n-message-statusrequest-">
        <h5 id="s-10_9_1">
          <a class="selfRef" href="#s-10_9_1">10.9.1.</a>
          <a class="selfRef" href="#n-message-statusrequest-">Message: StatusRequest </a>
        </h5>
        <dt id="s-10_9_1-1">Inherits: MeshRequestUser  <a class="pilcrow" href="#s-10_9_1-1">&para;</a></dt>
        <dt id="s-10_9_1-2">DeviceUDF: String (Optional) <a class="pilcrow" href="#s-10_9_1-2">&para;</a></dt>
        <dt id="s-10_9_1-3">ProfileMasterDigest: Binary (Optional) <a class="pilcrow" href="#s-10_9_1-3">&para;</a></dt>
        <dt id="s-10_9_1-4">Catalogs: String [0..Many] <a class="pilcrow" href="#s-10_9_1-4">&para;</a></dt>
        <dt id="s-10_9_1-5">Spools: String [0..Many]  <a class="pilcrow" href="#s-10_9_1-5">&para;</a></dt>
      </section>
      
      <section id="n-message-statusresponse-">
        <h5 id="s-10_9_2">
          <a class="selfRef" href="#s-10_9_2">10.9.2.</a>
          <a class="selfRef" href="#n-message-statusresponse-">Message: StatusResponse </a>
        </h5>
        <dt id="s-10_9_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_9_2-1">&para;</a></dt>
        <dt id="s-10_9_2-2">EnvelopedProfileMaster: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_9_2-2">&para;</a></dt>
        <dd id="null">The master profile that provides the root of trust for this Mesh <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_9_2-3">EnvelopedCatalogEntryDevice: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_9_2-3">&para;</a></dt>
        <dd id="null">The catalog device entry <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_9_2-4">ContainerStatus: ContainerStatus [0..Many]  <a class="pilcrow" href="#s-10_9_2-4">&para;</a></dt>
      </section>
      
      <section id="n-transaction-download-">
        <h4 id="s-10_10">
          <a class="selfRef" href="#s-10_10">10.10.</a>
          <a class="selfRef" href="#n-transaction-download-">Transaction: Download </a>
        </h4>
        <dt id="s-10_10-1">Request: DownloadRequest <a class="pilcrow" href="#s-10_10-1">&para;</a></dt>
        <dt id="s-10_10-2">Response: DownloadResponse  <a class="pilcrow" href="#s-10_10-2">&para;</a></dt>
      </section>
      <p id="s-10_10-3">Request objects from the specified container with the specified search criteria. <a class="pilcrow" href="#s-10_10-3">&para;</a></p>
    </section>
    
    <section id="n-message-downloadrequest-">
      <h5 id="s-10_10_1">
        <a class="selfRef" href="#s-10_10_1">10.10.1.</a>
        <a class="selfRef" href="#n-message-downloadrequest-">Message: DownloadRequest </a>
      </h5>
      <dl id="s-10_10_1-1-" class="nohang">
        <dt id="s-10_10_1-1">Inherits: MeshRequestUser  <a class="pilcrow" href="#s-10_10_1-1">&para;</a></dt>
      </dl>
      <p id="s-10_10_1-2">Request objects from the specified container(s). <a class="pilcrow" href="#s-10_10_1-2">&para;</a></p>
      <p id="s-10_10_1-3">A client MAY request only objects matching specified search criteria be returned and MAY request that only specific fields or parts of the  payload be returned. <a class="pilcrow" href="#s-10_10_1-3">&para;</a></p>
      <dl id="s-10_10_1-4-" class="nohang">
        <dt id="s-10_10_1-4">Select: ConstraintsSelect [0..Many] <a class="pilcrow" href="#s-10_10_1-4">&para;</a></dt>
        <dd id="null">Specifies constraints to be applied to a search result. These  allow a client to limit the number of records returned, the quantity of data returned, the earliest and latest data returned, etc. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_10_1-5">ConstraintsPost: ConstraintsData (Optional) <a class="pilcrow" href="#s-10_10_1-5">&para;</a></dt>
        <dd id="null">Specifies the data constraints to be applied to the responses.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-message-downloadresponse-">
        <h5 id="s-10_10_2">
          <a class="selfRef" href="#s-10_10_2">10.10.2.</a>
          <a class="selfRef" href="#n-message-downloadresponse-">Message: DownloadResponse </a>
        </h5>
        <dt id="s-10_10_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_10_2-1">&para;</a></dt>
      </section>
      <p id="s-10_10_2-2">Return the set of objects requested. <a class="pilcrow" href="#s-10_10_2-2">&para;</a></p>
      <p id="s-10_10_2-3">Services SHOULD NOT return a response that is disproportionately large relative to the speed of the network connection without a clear indication from the client that it is relevant. A service MAY limit the number of  objects returned. A service MAY limit the scope of each response.  <a class="pilcrow" href="#s-10_10_2-3">&para;</a></p>
      <dl id="s-10_10_2-4-" class="nohang">
        <dt id="s-10_10_2-4">Updates: ContainerUpdate [0..Many] <a class="pilcrow" href="#s-10_10_2-4">&para;</a></dt>
        <dd id="null">The updated data  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-transaction-upload-">
        <h4 id="s-10_11">
          <a class="selfRef" href="#s-10_11">10.11.</a>
          <a class="selfRef" href="#n-transaction-upload-">Transaction: Upload </a>
        </h4>
        <dt id="s-10_11-1">Request: UploadRequest <a class="pilcrow" href="#s-10_11-1">&para;</a></dt>
        <dt id="s-10_11-2">Response: UploadResponse  <a class="pilcrow" href="#s-10_11-2">&para;</a></dt>
      </section>
      <p id="s-10_11-3">Request objects from the specified container with the specified search criteria. <a class="pilcrow" href="#s-10_11-3">&para;</a></p>
    </section>
    
    <section id="n-message-uploadrequest-">
      <h5 id="s-10_11_1">
        <a class="selfRef" href="#s-10_11_1">10.11.1.</a>
        <a class="selfRef" href="#n-message-uploadrequest-">Message: UploadRequest </a>
      </h5>
      <dl id="s-10_11_1-1-" class="nohang">
        <dt id="s-10_11_1-1">Inherits: MeshRequestUser  <a class="pilcrow" href="#s-10_11_1-1">&para;</a></dt>
      </dl>
      <p id="s-10_11_1-2">Upload entries to a container. This request is only valid if it is issued by the owner of the account <a class="pilcrow" href="#s-10_11_1-2">&para;</a></p>
      <dl id="s-10_11_1-3-" class="nohang">
        <dt id="s-10_11_1-3">Updates: ContainerUpdate [0..Many] <a class="pilcrow" href="#s-10_11_1-3">&para;</a></dt>
        <dd id="null">The data to be updated <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_11_1-4">Self: DareEnvelope [0..Many] <a class="pilcrow" href="#s-10_11_1-4">&para;</a></dt>
        <dd id="null">Entries to be added to the inbound spool on the account, e.g. completion messages.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-message-uploadresponse-">
        <h5 id="s-10_11_2">
          <a class="selfRef" href="#s-10_11_2">10.11.2.</a>
          <a class="selfRef" href="#n-message-uploadresponse-">Message: UploadResponse </a>
        </h5>
        <dt id="s-10_11_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_11_2-1">&para;</a></dt>
      </section>
      <p id="s-10_11_2-2">Response to an upload request.  <a class="pilcrow" href="#s-10_11_2-2">&para;</a></p>
      <dl id="s-10_11_2-3-" class="nohang">
        <dt id="s-10_11_2-3">Entries: EntryResponse [0..Many] <a class="pilcrow" href="#s-10_11_2-3">&para;</a></dt>
        <dd id="null">The responses to the entries. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_11_2-4">ConstraintsData: ConstraintsData (Optional) <a class="pilcrow" href="#s-10_11_2-4">&para;</a></dt>
        <dd id="null">If the upload request contains redacted entries, specifies constraints  that apply to the redacted entries as a group. Thus the total payloads of all the messages must not exceed the specified value.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-structure-entryresponse-">
        <h5 id="s-10_11_3">
          <a class="selfRef" href="#s-10_11_3">10.11.3.</a>
          <a class="selfRef" href="#n-structure-entryresponse-">Structure: EntryResponse </a>
        </h5>
        <dt id="s-10_11_3-1">IndexRequest: Integer (Optional) <a class="pilcrow" href="#s-10_11_3-1">&para;</a></dt>
        <dd id="null">The index value of the entry in the request. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_11_3-2">IndexContainer: Integer (Optional) <a class="pilcrow" href="#s-10_11_3-2">&para;</a></dt>
        <dd id="null">The index value assigned to the entry in the container. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_11_3-3">Result: String (Optional) <a class="pilcrow" href="#s-10_11_3-3">&para;</a></dt>
        <dd id="null">Specifies the result of attempting to add the entry to a catalog or spool. Valid values for a message are 'Accept', 'Reject'. Valid  values for an entry are 'Accept', 'Reject' and 'Conflict'. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_11_3-4">ConstraintsData: ConstraintsData (Optional) <a class="pilcrow" href="#s-10_11_3-4">&para;</a></dt>
        <dd id="null">If the entry was redacted, specifies constraints  that apply to the redacted entries as a group. Thus the total payloads of all the messages must not exceed the specified value.	  <a class="pilcrow" href="#">&para;</a></dd>
      </section>
      
      <section id="n-transaction-post-">
        <h4 id="s-10_12">
          <a class="selfRef" href="#s-10_12">10.12.</a>
          <a class="selfRef" href="#n-transaction-post-">Transaction: Post </a>
        </h4>
        <dt id="s-10_12-1">Request: PostRequest <a class="pilcrow" href="#s-10_12-1">&para;</a></dt>
        <dt id="s-10_12-2">Response: PostResponse  <a class="pilcrow" href="#s-10_12-2">&para;</a></dt>
      </section>
      <p id="s-10_12-3">Request to post to a spool from an external party. The request and response messages are extensions of the corresponding messages for the Upload transaction. It is expected that additional fields will be added as the need arises. <a class="pilcrow" href="#s-10_12-3">&para;</a></p>
    </section>
    
    <section id="n-message-postrequest-">
      <h5 id="s-10_12_1">
        <a class="selfRef" href="#s-10_12_1">10.12.1.</a>
        <a class="selfRef" href="#n-message-postrequest-">Message: PostRequest </a>
      </h5>
      <dl id="s-10_12_1-1-" class="nohang">
        <dt id="s-10_12_1-1">Inherits: MeshRequest  <a class="pilcrow" href="#s-10_12_1-1">&para;</a></dt>
        <dt id="s-10_12_1-2">Accounts: String [0..Many] <a class="pilcrow" href="#s-10_12_1-2">&para;</a></dt>
        <dd id="null">The account(s) to which the request is directed. <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_12_1-3">Message: DareEnvelope [0..Many] <a class="pilcrow" href="#s-10_12_1-3">&para;</a></dt>
        <dd id="null">The entries to be uploaded. These MAY be either complete messages or redacted messages. In either case, the messages MUST conform to the ConstraintsUpdate specified by the  service  <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_12_1-4">Self: DareEnvelope [0..Many] <a class="pilcrow" href="#s-10_12_1-4">&para;</a></dt>
        <dd id="null">Messages to be appended to the user's self spool. this is typically used to post notifications to the user to mark messages as having been read or responded to.  <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-message-postresponse-">
        <h5 id="s-10_12_2">
          <a class="selfRef" href="#s-10_12_2">10.12.2.</a>
          <a class="selfRef" href="#n-message-postresponse-">Message: PostResponse </a>
        </h5>
        <dt id="s-10_12_2-1">Inherits: UploadResponse  <a class="pilcrow" href="#s-10_12_2-1">&para;</a></dt>
      </section>
      <p id="s-10_12_2-2">[No fields] <a class="pilcrow" href="#s-10_12_2-2">&para;</a></p>
    </section>
    
    <section id="n-transaction-connect-">
      <h4 id="s-10_13">
        <a class="selfRef" href="#s-10_13">10.13.</a>
        <a class="selfRef" href="#n-transaction-connect-">Transaction: Connect </a>
      </h4>
      <dl id="s-10_13-1-" class="nohang">
        <dt id="s-10_13-1">Request: ConnectRequest <a class="pilcrow" href="#s-10_13-1">&para;</a></dt>
        <dt id="s-10_13-2">Response: ConnectResponse  <a class="pilcrow" href="#s-10_13-2">&para;</a></dt>
      </dl>
      <p id="s-10_13-3">Request information necessary to begin making a connection request. <a class="pilcrow" href="#s-10_13-3">&para;</a></p>
    </section>
    
    <section id="n-message-connectrequest-">
      <h5 id="s-10_13_1">
        <a class="selfRef" href="#s-10_13_1">10.13.1.</a>
        <a class="selfRef" href="#n-message-connectrequest-">Message: ConnectRequest </a>
      </h5>
      <dl id="s-10_13_1-1-" class="nohang">
        <dt id="s-10_13_1-1">Inherits: MeshRequest  <a class="pilcrow" href="#s-10_13_1-1">&para;</a></dt>
        <dt id="s-10_13_1-2">MessageConnectionRequestClient: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_13_1-2">&para;</a></dt>
        <dd id="null">The connection request generated by the client   <a class="pilcrow" href="#">&para;</a></dd>
      </dl>
      
      <section id="n-message-connectresponse-">
        <h5 id="s-10_13_2">
          <a class="selfRef" href="#s-10_13_2">10.13.2.</a>
          <a class="selfRef" href="#n-message-connectresponse-">Message: ConnectResponse </a>
        </h5>
        <dt id="s-10_13_2-1">Inherits: MeshResponse  <a class="pilcrow" href="#s-10_13_2-1">&para;</a></dt>
        <dt id="s-10_13_2-2">EnvelopedConnectionResponse: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_13_2-2">&para;</a></dt>
        <dd id="null">The connection request generated by the client <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_13_2-3">EnvelopedProfileMaster: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_13_2-3">&para;</a></dt>
        <dd id="null">The master profile that provides the root of trust for this Mesh <a class="pilcrow" href="#">&para;</a></dd>
        <dt id="s-10_13_2-4">EnvelopedAccountAssertion: DareEnvelope (Optional) <a class="pilcrow" href="#s-10_13_2-4">&para;</a></dt>
        <dd id="null">The current account assertion  <a class="pilcrow" href="#">&para;</a></dd>
      </section>
      
      <section id="n-security-considerations">
        <h3 id="s-11">
          <a class="selfRef" href="#s-11">11.</a>
          <a class="selfRef" href="#n-security-considerations">Security Considerations</a>
        </h3>
      </section>
      <p id="s-11-1">The security considerations for use and implementation of Mesh services and applications are described in the Mesh Security Considerations guide <a class="xref" href="#draft-hallambaker-mesh-security">[draft-hallambaker-mesh-security]</a>.<a class="pilcrow" href="#s-11-1">&para;</a></p>
    </section>
    
    <section id="n-iana-considerations">
      <h3 id="s-12">
        <a class="selfRef" href="#s-12">12.</a>
        <a class="selfRef" href="#n-iana-considerations">IANA Considerations</a>
      </h3>
      <p id="s-12-1">All the IANA considerations for the Mesh documents are specified in this document<a class="pilcrow" href="#s-12-1">&para;</a></p>
    </section>
    
    <section id="n-acknowledgements">
      <h3 id="s-13">
        <a class="selfRef" href="#s-13">13.</a>
        <a class="selfRef" href="#n-acknowledgements">Acknowledgements</a>
      </h3>
      <p id="s-13-1">A list of people who have contributed to the design of the Mesh is presented in <a class="xref" href="#draft-hallambaker-mesh-architecture">[draft-hallambaker-mesh-architecture]</a>.<a class="pilcrow" href="#s-13-1">&para;</a></p>
    </section>
    
    <section id="n-references">
      <h2>
        <a class="selfRef" href="#n-references">References</a>
      </h2>
      <section id="n-normative">
        <h3>
          <a class="selfRef" href="#n-normative">Normative References</a>
        </h3>
        <dl class="reference">
          <dt id="RFC2119">[RFC2119]</dt>
          <dd>
            <span class="refAuthor">S. Bradner</span>
            "<span class="refTitle">Key words for use in RFCs to Indicate Requirement Levels</span>"
            <span Class="refSeries">
              <span class="refSeriesName">BCP</span>
              <span class="refSeriesValue">14</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">RFC</span>
              <span class="refSeriesValue">2119</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">DOI</span>
              <span class="refSeriesValue">10.17487/RFC2119</span>
            </span>
            <time class="refDate" datetime="1997-03">March 1997</time>
          </dd>
          <dt id="RFC4648">[RFC4648]</dt>
          <dd>
            <span class="refAuthor">S. Josefsson</span>
            "<span class="refTitle">The Base16, Base32, and Base64 Data Encodings</span>"
            <span Class="refSeries">
              <span class="refSeriesName">RFC</span>
              <span class="refSeriesValue">4648</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">DOI</span>
              <span class="refSeriesValue">10.17487/RFC4648</span>
            </span>
            <time class="refDate" datetime="2006-10">October 2006</time>
          </dd>
          <dt id="RFC8446">[RFC8446]</dt>
          <dd>
            <span class="refAuthor">E. Rescorla</span>
            "<span class="refTitle">The Transport Layer Security (TLS) Protocol Version 1.3</span>"
            <span Class="refSeries">
              <span class="refSeriesName">RFC</span>
              <span class="refSeriesValue">8446</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">DOI</span>
              <span class="refSeriesValue">10.17487/RFC8446</span>
            </span>
            <time class="refDate" datetime="2018-08">August 2018</time>
          </dd>
          <dt id="RFC7230">[RFC7230]</dt>
          <dd>
            <span class="refAuthor">R. Fielding</span>
            <span>and</span>
            <span class="refAuthor">J. Reschke</span>
            "<span class="refTitle">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</span>"
            <span Class="refSeries">
              <span class="refSeriesName">RFC</span>
              <span class="refSeriesValue">7230</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">DOI</span>
              <span class="refSeriesValue">10.17487/RFC7230</span>
            </span>
            <time class="refDate" datetime="2014-06">June 2014</time>
          </dd>
          <dt id="RFC3339">[RFC3339]</dt>
          <dd>
            <span class="refAuthor">G. Klyne</span>
            <span>and</span>
            <span class="refAuthor">C. Newman</span>
            "<span class="refTitle">Date and Time on the Internet: Timestamps</span>"
            <span Class="refSeries">
              <span class="refSeriesName">RFC</span>
              <span class="refSeriesValue">3339</span>
            </span>
            <span Class="refSeries">
              <span class="refSeriesName">DOI</span>
              <span class="refSeriesValue">10.17487/RFC3339</span>
            </span>
            <time class="refDate" datetime="2002-07">July 2002</time>
          </dd>
          <dt id="draft-hallambaker-mesh-architecture">[draft-hallambaker-mesh-architecture]</dt>
          <dd>
            <span class="refAuthor">Phillip Hallam-Baker</span>
            "<span class="refTitle">Mathematical Mesh 3.0 Part I: Architecture Guide</span>"
            <span Class="refSeries">
              <span class="refSeriesName">Internet-Draft</span>
              <span class="refSeriesValue">draft-hallambaker-mesh-architecture-12</span>
            </span>
            &lt;<a class="refTarget">http://www.ietf.org/internet-drafts/draft-hallambaker-mesh-architecture-12.txt</a>&gt;
            <time class="refDate" datetime="2020-01-16">16 January 2020</time>
          </dd>
          <dt id="draft-hallambaker-mesh-security">[draft-hallambaker-mesh-security]</dt>
          <dd>
            <span class="refAuthor">Phillip Hallam-Baker</span>
            "<span class="refTitle">Mathematical Mesh 3.0 Part VII: Security Considerations</span>"
            <span Class="refSeries">
              <span class="refSeriesName">Internet-Draft</span>
              <span class="refSeriesValue">draft-hallambaker-mesh-security-03</span>
            </span>
            &lt;<a class="refTarget">http://www.ietf.org/internet-drafts/draft-hallambaker-mesh-security-03.txt</a>&gt;
            <time class="refDate" datetime="2020-01-16">16 January 2020</time>
          </dd>
        </dl>
      </section>
      
      <section id="n-informative">
        <h3>
          <a class="selfRef" href="#n-informative">Informative References</a>
        </h3>
        <dl class="reference">
          <dt id="ECMA-262">[ECMA-262]</dt>
          <dd>
            "<span class="refTitle">ECMAScript® 2017 Language Specification </span>"
            &lt;<a class="refTarget">https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf</a>&gt;
            <time class="refDate" datetime="2017-06">June 2017</time>
          </dd>
          <dt id="draft-hallambaker-mesh-developer">[draft-hallambaker-mesh-developer]</dt>
          <dd>
            <span class="refAuthor">Phillip Hallam-Baker</span>
            "<span class="refTitle">Mathematical Mesh: Reference Implementation</span>"
            <span Class="refSeries">
              <span class="refSeriesName">Internet-Draft</span>
              <span class="refSeriesValue">draft-hallambaker-mesh-developer-09</span>
            </span>
            &lt;<a class="refTarget">http://www.ietf.org/internet-drafts/draft-hallambaker-mesh-developer-09.txt</a>&gt;
            <time class="refDate" datetime="2019-10-23">23 October 2019</time>
          </dd>
        </dl>
      </section>
      
    </section>
    
    <section id="n-authors">
      <h2>
        <a class="selfRef" href="#n-authors">Author's Address</a>
      </h2>
      <hr class="addr"/>
      <address class="vcard">
        <div class="nameRole">
          <span class="fn">Phillip Hallam-Baker</span>
        </div>
        <div class="org">ThresholdSecrets.com</div>
        <div>
          <span>Email:</span>
          <a class="email" href="mailto:phill@hallambaker.com     ">phill@hallambaker.com     </a>
        </div>
      </address>
    </section>
    
    <div class="docInfo">
      <span class="prepared">
        Prepared: 
        <time datetime="2020-03-09">2020-03-09</time>
      </span>
      <span class="rendered">
        Rendered: 
        <time datetime="2020-03-09">2020-03-09</time>
      </span>
    </div>
    
    <script src="xml2rfc.js" type="text/javascript"></script>
  </body>
</html>
