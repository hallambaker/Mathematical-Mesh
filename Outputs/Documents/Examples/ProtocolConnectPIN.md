>>>> Unfinished ProtocolConnectPIN



### Phase 1:


~~~~
<div="terminal">
<cmd>Alice> account pin /threshold
<rsp>PIN=ACDZ-SMU6-YWHK-A5AJ-X3L2-UZVQ-MQ
 (Expires=2021-09-17T23:48:19Z)
</div>
~~~~

The registration of this PIN value was shown earlier in section $$$

The URI containing the account address and PIN is:

~~~~
mcu://alice@example.com/ACDZ-SMU6-YWHK-A5AJ-X3L2-UZVQ-MQ
~~~~

### Phase 2:

The onboarding device scans the QR code to obtain the account address and PIN code.
The PIN code is used to authenticate a connection request:


~~~~
<div="terminal">
<cmd>Alice3> device request alice@example.com /pin ^
    ACDZ-SMU6-YWHK-A5AJ-X3L2-UZVQ-MQ
<rsp>   Device UDF = MCCJ-GLUQ-6AOS-XQEI-G4AM-GTL4-UBSZ
   Witness value = ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN
</div>
~~~~

The device issues a connection request to the service corresponding to the account. 
This specifies the device profile, the account to which the device is to be 
connected and the client nonce value:


~~~~
{
  "ConnectRequest":{
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MBSL-DYP6-K72Q-ABXL-UWIB-N5WC-COSW",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQlZZLUxETFotR1
  k2Ri1BQ01PLURTRlgtR1hEWi1MREw2IiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wOS0xNlQyMzo0ODoxOVoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkJWWS1MRExaLUdZNkYtQUNNTy1EU0ZYLUdYRFotTERMNiIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1DQ0otR0xV
  US02QU9TLVhRRUktRzRBTS1HVEw0LVVCU1oiLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RME5LTFVkTVZWRXROa0ZQVXkxCiAgWVVVVkpMVWMwUVUwdFIxUk1OQzF
  WUWxOYUlpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTVMVEUyVkRJek9qUT
  RPakU1V2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVORFNpMUhURlZSTFRaQlQxTXRXCiAgRkZGU1MxSE5FRk5MVWRVV
  ERRdFZVSlRXaUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lteHhORmRoUVVkYVdsZHJaSFF4ZEZRCiAgMVlsZERSekZYUjJsS2JXU
  kRhMWx2V1doUGIxcHFWMXBOY3kxTU1qQkxZekF3U0ZFS0lDQnFVRlJLUW1ONGUKIC
  BWaFhjM0EyU21wamFYbHBaMUpMT0VFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVUZUV1MxQlNGaFVMVmszUWtN
  dFRFaFZXaTFWVTAxUUxVeFRUVVV0VDFSWlRTSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpY3pSTVExOVRWVTVpVkdOYWFFMVpZ
  MGxHZVhwcWJqQk1MWFpaWmxBNE56Qm5NRkpqVEdkCiAgMU56Vm5PVFV3VjBwdFpGR
  k9VZ29nSUd0SVJVdGljV1V6WkhkalduWTBWVFJJZEVORFNuZ3dRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxRVM
  wWXRUVVJRVUMxRU1rdAogIENMVkpOV1VvdFNsZElUQzFTU2xwV0xUYzFSVE1pTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSkVjM1p
  1TlVkbGJsWjBlR1F6TwogIEcxbWRtSnlOVlJHWTJKWmRuRXlaMDA1Y0RGcFkyMVBM
  VkZUVGpWM1pYVkRTVGhIT1hodUNpQWdTMFE1VEU1CiAgR1JHNTBaMng0WkdzNVUwZ
  FllR2RpWVdOQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlJGSlFMVFZTV1VFdFFVbFVWUzFYTWpKYUx
  WRkVRVTh0UTB0UVZpMQogIEZRVlpHSWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSXpkbVZ3UnpjNGVIZzRhbGRMUnpKTFREaHVWemM
  1U1V4R2IxUmxUMFZCTgogIGxKYVdXMVpiakpoVW0xTk1HeEJaMlZoWlZGNUNpQWda
  VkkzU1RWeFIxSXlURnBmWTBSc1VubzJNbDl0YkhGCiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQ0NKLUdMVVEtNkFPUy1YUUVJLUc
  0QU0tR1RMNC1VQlNaIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICI4cnhoeU5q
  Q3JBT2pJYnlrNjJsN0w4dnVDWDJtRHEzMHZDT285bExHbjVpZGlNXzJzCiAgX2lrc
  Gs3MUhSejRwQjgtWU5QaHdPOFlXZi1BYXAxRks0WmRCb3BBLUt3Wl91a3VCVmp1MF
  9RWExaM1VSaF8KICBOMG1DaVBBNjJVcy1KeGRpYWxlNzFEdUN0YkNyb080aXJRVE1
  6SkFzQSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJoOHoySzNON3Q0MU16
  dXdUdkYzMWpDQm1EYjdFSjZZTnI1YTZaX1hMWFA5RjQKICB5Y0ZjajJsZU5ZMlJ5d
  kJXNVg4Sk1fMTJSWG9vNVUyb1V4eGE2a1cwQSJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJaNC1tZGdXdFVPNWp1QlpfcHc4NnBnIiwKICAgICJQaW5JZCI6ICJBQlRDLUJ
  TU0ctVzZNTS1GVERGLUREVEUtT1FLRC1HWEw0IiwKICAgICJQaW5XaXRuZXNzIjog
  InJ6d1VQY1Iwd3NydXh1SjMwMy0yVm0tM01PeDhMdHlrUkFhN0pHNC0tSWR2NmwtU
  gogIExvUGFJZDdyNGJkQWJyRmJGZUk1Nk9tV0JSZnVEeFVPQUpDcEp3IiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ]}}
~~~~


The service generates the service nonce value and uses it to create the 
AcknowledgeConnection message.

~~~~
{
  "AcknowledgeConnection":{
    "MessageId":"ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN",
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MBSL-DYP6-K72Q-ABXL-UWIB-N5WC-COSW",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQlZZLUxETFotR1
  k2Ri1BQ01PLURTRlgtR1hEWi1MREw2IiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wOS0xNlQyMzo0ODoxOVoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkJWWS1MRExaLUdZNkYtQUNNTy1EU0ZYLUdYRFotTERMNiIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1DQ0otR0xV
  US02QU9TLVhRRUktRzRBTS1HVEw0LVVCU1oiLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RME5LTFVkTVZWRXROa0ZQVXkxCiAgWVVVVkpMVWMwUVUwdFIxUk1OQzF
  WUWxOYUlpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTVMVEUyVkRJek9qUT
  RPakU1V2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVORFNpMUhURlZSTFRaQlQxTXRXCiAgRkZGU1MxSE5FRk5MVWRVV
  ERRdFZVSlRXaUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lteHhORmRoUVVkYVdsZHJaSFF4ZEZRCiAgMVlsZERSekZYUjJsS2JXU
  kRhMWx2V1doUGIxcHFWMXBOY3kxTU1qQkxZekF3U0ZFS0lDQnFVRlJLUW1ONGUKIC
  BWaFhjM0EyU21wamFYbHBaMUpMT0VFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVUZUV1MxQlNGaFVMVmszUWtN
  dFRFaFZXaTFWVTAxUUxVeFRUVVV0VDFSWlRTSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpY3pSTVExOVRWVTVpVkdOYWFFMVpZ
  MGxHZVhwcWJqQk1MWFpaWmxBNE56Qm5NRkpqVEdkCiAgMU56Vm5PVFV3VjBwdFpGR
  k9VZ29nSUd0SVJVdGljV1V6WkhkalduWTBWVFJJZEVORFNuZ3dRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxRVM
  wWXRUVVJRVUMxRU1rdAogIENMVkpOV1VvdFNsZElUQzFTU2xwV0xUYzFSVE1pTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSkVjM1p
  1TlVkbGJsWjBlR1F6TwogIEcxbWRtSnlOVlJHWTJKWmRuRXlaMDA1Y0RGcFkyMVBM
  VkZUVGpWM1pYVkRTVGhIT1hodUNpQWdTMFE1VEU1CiAgR1JHNTBaMng0WkdzNVUwZ
  FllR2RpWVdOQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlJGSlFMVFZTV1VFdFFVbFVWUzFYTWpKYUx
  WRkVRVTh0UTB0UVZpMQogIEZRVlpHSWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSXpkbVZ3UnpjNGVIZzRhbGRMUnpKTFREaHVWemM
  1U1V4R2IxUmxUMFZCTgogIGxKYVdXMVpiakpoVW0xTk1HeEJaMlZoWlZGNUNpQWda
  VkkzU1RWeFIxSXlURnBmWTBSc1VubzJNbDl0YkhGCiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQ0NKLUdMVVEtNkFPUy1YUUVJLUc
  0QU0tR1RMNC1VQlNaIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICI4cnhoeU5q
  Q3JBT2pJYnlrNjJsN0w4dnVDWDJtRHEzMHZDT285bExHbjVpZGlNXzJzCiAgX2lrc
  Gs3MUhSejRwQjgtWU5QaHdPOFlXZi1BYXAxRks0WmRCb3BBLUt3Wl91a3VCVmp1MF
  9RWExaM1VSaF8KICBOMG1DaVBBNjJVcy1KeGRpYWxlNzFEdUN0YkNyb080aXJRVE1
  6SkFzQSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJoOHoySzNON3Q0MU16
  dXdUdkYzMWpDQm1EYjdFSjZZTnI1YTZaX1hMWFA5RjQKICB5Y0ZjajJsZU5ZMlJ5d
  kJXNVg4Sk1fMTJSWG9vNVUyb1V4eGE2a1cwQSJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJaNC1tZGdXdFVPNWp1QlpfcHc4NnBnIiwKICAgICJQaW5JZCI6ICJBQlRDLUJ
  TU0ctVzZNTS1GVERGLUREVEUtT1FLRC1HWEw0IiwKICAgICJQaW5XaXRuZXNzIjog
  InJ6d1VQY1Iwd3NydXh1SjMwMy0yVm0tM01PeDhMdHlrUkFhN0pHNC0tSWR2NmwtU
  gogIExvUGFJZDdyNGJkQWJyRmJGZUk1Nk9tV0JSZnVEeFVPQUpDcEp3IiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ],
    "ServerNonce":"25BVj-2b-RSE1yHK-yTIfw",
    "Witness":"ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN"}}
~~~~

The AcknowledgeConnection message is appended to the Inbound spool of the account
to which connection was requested so that the user can approve the request. The
ConnectResponse message is returned to the device containing the AcknowledgeConnection 
message and the profile of the account.


~~~~
{
  "ConnectResponse":{
    "Status":201,
    "StatusDescription":"Operation completed successfully",
    "EnvelopedAcknowledgeConnection":[{
        "EnvelopeId":"MBPB-DD4W-6XXH-SQOJ-BIFW-PD5U-5EP7",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJJTFdRLTJEN0ctU1
  lONi1WUTc0LVQzRk8tVlZNVC1OUllOIiwKICAiTWVzc2FnZVR5cGUiOiAiQWNrbm9
  3bGVkZ2VDb25uZWN0aW9uIiwKICAiY3R5IjogImFwcGxpY2F0aW9uL21tbS9vYmpl
  Y3QiLAogICJDcmVhdGVkIjogIjIwMjEtMDktMTZUMjM6NDg6MTlaIn0",
        "SequenceInfo":{
          "Index":6,
          "TreePosition":11822},
        "Received":"2021-09-16T23:48:19Z"},
      "ewogICJBY2tub3dsZWRnZUNvbm5lY3Rpb24iOiB7CiAgICAiTWVzc2FnZU
  lkIjogIklMV1EtMkQ3Ry1TWU42LVZRNzQtVDNGTy1WVk1ULU5SWU4iLAogICAgIkV
  udmVsb3BlZFJlcXVlc3RDb25uZWN0aW9uIjogW3sKICAgICAgICAiRW52ZWxvcGVJ
  ZCI6ICJNQlNMLURZUDYtSzcyUS1BQlhMLVVXSUItTjVXQy1DT1NXIiwKICAgICAgI
  CAiQ29udGVudE1ldGFEYXRhIjogImV3b2dJQ0pWYm1seGRXVkpaQ0k2SUNKT1FsWl
  pMVXhFVEZvdFIxazJSaTEKICBCUTAxUExVUlRSbGd0UjFoRVdpMU1SRXcySWl3S0l
  DQWlUV1Z6YzJGblpWUjVjR1VpT2lBaVVtVnhkV1Z6ZAogIEVOdmJtNWxZM1JwYjI0
  aUxBb2dJQ0pqZEhraU9pQWlZWEJ3YkdsallYUnBiMjR2YlcxdEwyOWlhbVZqZENJC
  iAgc0NpQWdJa055WldGMFpXUWlPaUFpTWpBeU1TMHdPUzB4TmxReU16bzBPRG94T1
  ZvaWZRIn0sCiAgICAgICJld29nSUNKU1pYRjFaWE4wUTI5dWJtVmpkR2x2YmlJNkl
  Ic0tJQ0FnSUNKCiAgTlpYTnpZV2RsU1dRaU9pQWlUa0pXV1MxTVJFeGFMVWRaTmtZ
  dFFVTk5UeTFFVTBaWUxVZFlSRm90VEVSTU4KICBpSXNDaUFnSUNBaVFYVjBhR1Z1Z
  EdsallYUmxaRVJoZEdFaU9pQmJld29nSUNBZ0lDQWdJQ0pGYm5abGJHOQogIHdaVW
  xrSWpvZ0lrMURRMG90UjB4VlVTMDJRVTlUTFZoUlJVa3RSelJCVFMxSFZFdzBMVlZ
  DVTFvaUxBb2dJCiAgQ0FnSUNBZ0lDSmthV2NpT2lBaVV6VXhNaUlzQ2lBZ0lDQWdJ
  Q0FnSWtOdmJuUmxiblJOWlhSaFJHRjBZU0kKICA2SUNKbGQyOW5TVU5LVm1KdGJIa
  GtWMVpLV2tOSk5rbERTazVSTUU1TFRGVmtUVlpXUlhST2EwWlFWWGt4QwogIGlBZ1
  dWVlZWa3BNVldNd1VWVXdkRkl4VWsxT1F6RldVV3hPWVVscGQwdEpRMEZwVkZkV2V
  tTXlSbTVhVmxJCiAgMVkwZFZhVTlwUVdsVlNFcDJXbTFzYzFvS0lDQlZVbXhrYld4
  cVdsTkpjME5wUVdkSmJVNHdaVk5KTmtsRFMKICBtaGpTRUp6WVZkT2FHUkhiSFppY
  VRsMFlsY3dkbUl5U25GYVYwNHdTV2wzUzBsRFFRb2dJR2xSTTBwc1dWaAogIFNiRn
  BEU1RaSlEwbDVUVVJKZUV4VVFUVk1WRVV5VmtSSmVrOXFVVFJQYWtVMVYybEtPU0o
  5TEFvZ0lDQWdJCiAgQ0FpWlhkdlowbERTbEZqYlRsdFlWZDRiRkpIVmpKaFYwNXNT
  V3B2WjJWM2IyZEpRMEZuU1d4Q2VXSXlXZ28KICBnSUhCaVIxWlVZVmRrZFZsWVVqR
  mpiVlZwVDJsQ04wTnBRV2RKUTBGblNVTktWbHBIV1dsUGFVRnBWRlZPUgogIEZOcE
  1VaFVSbFpTVEZSYVFsUXhUWFJYQ2lBZ1JrWkdVMU14U0U1RlJrNU1WV1JWVkVSUmR
  GWlZTbFJYYVVsCiAgelEybEJaMGxEUVdkSlEwcFJaRmRLYzJGWFRsRlpXRXBvWWxk
  V01GcFlTbnBKYW04S0lDQm5aWGR2WjBsRFEKICBXZEpRMEZuU1VOS1VXUlhTbk5oV
  jA1TVdsaHNSbEV3VWtsSmFtOW5aWGR2WjBsRFFXZEpRMEZuU1VOQlowbAogIHRUbm
  xrYVVrMlNRb2dJRU5LUmxwRVVUQlBRMGx6UTJsQlowbERRV2RKUTBGblNVTkJhVlZ
  JVm1saVIyeHFTCiAgV3B2WjBsdGVIaE9SbVJvVVZWa1lWZHNaSEphU0ZGNFpFWlJD
  aUFnTVZsc1pFUlNla1pZVWpKc1MySlhVa1IKICBoTVd4MlYxZG9VR0l4Y0hGV01YQ
  k9ZM2t4VFUxcVFreFpla0YzVTBaRlMwbERRbkZWUmxKTFVXMU9OR1VLSQogIENCV2
  FGaGpNMEV5VTIxd2FtRlliSEJhTVVwTVQwVkZhV1pZTVRsTVFXOW5TVU5CWjBsclZ
  uVlpNMG8xWTBoCiAgU2NHSXlOR2xQYVVJM1EybEJaMGxEUVFvZ0lHZEpRMHBXV2tk
  WmFVOXBRV2xVVlVaVVYxTXhRbE5HYUZWTVYKICBtc3pVV3ROZEZSRmFGWlhhVEZXV
  lRBeFVVeFZlRlJVVlZWMFZERlNXbFJUU1hORENpQWdhVUZuU1VOQlowbAogIERTbE
  ZrVjBwellWZE9VVmxZU21oaVYxWXdXbGhLZWtscWIyZGxkMjluU1VOQlowbERRV2R
  KUTBwUlpGZEtjCiAgMkZYVGt4YVdHd0tJQ0JHVVRCU1NVbHFiMmRsZDI5blNVTkJa
  MGxEUVdkSlEwRm5TVzFPZVdScFNUWkpRMHAKICBaVGtSUk5FbHBkMHRKUTBGblNVT
  kJaMGxEUVdkSlEwcFJaQW9nSUZkS2MyRlhUV2xQYVVGcFkzcFNUVkV4TwogIFZSV1
  ZUVnBWa2RPWVdGRk1WcFpNR3hIWlZod2NXSnFRazFNV0ZwYVdteEJORTU2UW01TlJ
  rcHFWRWRrQ2lBCiAgZ01VNTZWbTVQVkZWM1ZqQndkRnBHUms5VloyOW5TVWQwU1ZK
  VmRHbGpWMVY2V2toa2FsZHVXVEJXVkZKSloKICBFVk9SRk51WjNkUlUwbzVabGd3Y
  zBNS0lDQnBRV2RKUTBGcFZUSnNibUp0UmpCa1dFcHNTV3B2WjJWM2IyZAogIEpRME
  ZuU1VOQmFWWlhVbTFKYW05blNXc3hSVk13V1hSVVZWSlJWVU14UlUxcmRBb2dJRU5
  NVmtwT1YxVnZkCiAgRk5zWkVsVVF6RlRVMnh3VjB4VVl6RlNWRTFwVEVGdlowbERR
  V2RKUTBGcFZVaFdhV0pIYkdwVlIwWjVXVmMKICB4YkdSSFZubGpDaUFnZVVrMlNVa
  HpTMGxEUVdkSlEwRm5TVU5CYVZWSVZtbGlSMnhxVXpKV05WSlZUa1ZUUQogIDBrMl
  NVaHpTMGxEUVdkSlEwRm5TVU5CWjBsRFNtcGpibGtLSUNCcFQybEJhVkpYVVRCT1J
  HZHBURUZ2WjBsCiAgRFFXZEpRMEZuU1VOQlowbHNRakZaYlhod1dYbEpOa2xEU2tW
  ak0xcDFUbFZrYkdKc1dqQmxSMUY2VHdvZ0kKICBFY3hiV1J0U25sT1ZsSkhXVEpLV
  21SdVJYbGFNREExWTBSR2NGa3lNVkJNVmtaVVZHcFdNMXBZVmtSVFZHaAogIElUMW
  hvZFVOcFFXZFRNRkUxVkVVMUNpQWdSMUpITlRCYU1uZzBXa2R6TlZVd1pGbGxSMlJ
  wV1ZkT1FrbHVNCiAgVGxtVTNkTFNVTkJaMGxEU2tKa1dGSnZXbGMxTUdGWFRtaGtS
  MngyWW1sSk5ra0tJQ0JJYzB0SlEwRm5TVU4KICBCWjBsc1ZtdGFhVWsyU1VOS1RsS
  kdTbEZNVkZaVFYxVkZkRkZWYkZWV1V6RllUV3BLWVV4V1JrVlJWVGgwVQogIFRCMF
  VWWnBNUW9nSUVaUlZscEhTV2wzUzBsRFFXZEpRMEZuU1d4Q01WbHRlSEJaTVVKb1k
  yMUdkRnBZVW14CiAgamJrMXBUMmxDTjBOcFFXZEpRMEZuU1VOQlowbHNRakZaQ2lB
  Z2JYaHdXVEIwYkdWVlZrUlNSV2RwVDJsQ04KICAwTnBRV2RKUTBGblNVTkJaMGxEU
  VdsWk0wb3lTV3B2WjBsc1p6Qk9SR2RwVEVGdlowbERRV2RKUTBFS0lDQgogIG5TVU
  5CWjBsc1FqRlpiWGh3V1hsSk5rbERTWHBrYlZaM1VucGpOR1ZJWnpSaGJHUk1VbnB
  LVEZSRWFIVldlCiAgbU0xVTFWNFIySXhVbXhVTUZaQ1Rnb2dJR3hLWVZkWE1WcGlh
  a3BvVlcweFRrMUhlRUphTWxab1dsWkdOVU4KICBwUVdkYVZra3pVMVJXZUZJeFNYb
  FVSbkJtV1RCU2MxVnViekpOYkRsMFlraEdDaUFnUWtsdU1UbG1XREU1SQogIGl3S0
  lDQWdJQ0FnZXdvZ0lDQWdJQ0FnSUNKemFXZHVZWFIxY21Weklqb2dXM3NLSUNBZ0l
  DQWdJQ0FnSUNBCiAgZ0ltRnNaeUk2SUNKVE5URXlJaXdLSUNBZ0lDQWdJQ0FnSUNB
  Z0ltdHBaQ0k2SUNKTlEwTktMVWRNVlZFdE4KICBrRlBVeTFZVVVWSkxVYzBRVTB0U
  jFSTU5DMVZRbE5hSWl3S0lDQWdJQ0FnSUNBZ0lDQWdJbk5wWjI1aGRIVgogIHlaU0
  k2SUNJNGNuaG9lVTVxUTNKQlQycEpZbmxyTmpKc04wdzRkblZEV0RKdFJIRXpNSFp
  EVDI4NWJFeEhiCiAgalZwWkdsTlh6SnpDaUFnWDJscmNHczNNVWhTZWpSd1FqZ3RX
  VTVRYUhkUE9GbFhaaTFCWVhBeFJrczBXbVIKICBDYjNCQkxVdDNXbDkxYTNWQ1Ztc
  DFNRjlSV0V4YU0xVlNhRjhLSUNCT01HMURhVkJCTmpKVmN5MUtlR1JwWQogIFd4bE
  56RkVkVU4wWWtOeWIwODBhWEpSVkUxNlNrRnpRU0o5WFN3S0lDQWdJQ0FnSUNBaVV
  HRjViRzloWkVSCiAgcFoyVnpkQ0k2SUNKb09Ib3lTek5PTjNRME1VMTZkWGRVZGtZ
  ek1XcERRbTFFWWpkRlNqWlpUbkkxWVRaYVgKICAxaE1XRkE1UmpRS0lDQjVZMFpqY
  WpKc1pVNVpNbEo1ZGtKWE5WZzRTazFmTVRKU1dHOXZOVlV5YjFWNGVHRQogIDJhMW
  N3UVNKOVhTd0tJQ0FnSUNKRGJHbGxiblJPYjI1alpTSTZJQ0phTkMxdFpHZFhkRlZ
  QTldwMVFscGZjCiAgSGM0Tm5Cbklpd0tJQ0FnSUNKUWFXNUpaQ0k2SUNKQlFsUkRM
  VUpUVTBjdFZ6Wk5UUzFHVkVSR0xVUkVWRVUKICB0VDFGTFJDMUhXRXcwSWl3S0lDQ
  WdJQ0pRYVc1WGFYUnVaWE56SWpvZ0luSjZkMVZRWTFJd2QzTnlkWGgxUwogIGpNd0
  15MHlWbTB0TTAxUGVEaE1kSGxyVWtGaE4wcEhOQzB0U1dSMk5td3RVZ29nSUV4dlV
  HRkpaRGR5TkdKCiAga1FXSnlSbUpHWlVrMU5rOXRWMEpTWm5WRWVGVlBRVXBEY0Vw
  M0lpd0tJQ0FnSUNKQlkyTnZkVzUwUVdSa2MKICBtVnpjeUk2SUNKaGJHbGpaVUJsZ
  UdGdGNHeGxMbU52YlNKOWZRIl0sCiAgICAiU2VydmVyTm9uY2UiOiAiMjVCVmotMm
  ItUlNFMXlISy15VElmdyIsCiAgICAiV2l0bmVzcyI6ICJJTFdRLTJEN0ctU1lONi1
  WUTc0LVQzRk8tVlZNVC1OUllOIn19",
      {}
      ],
    "EnvelopedProfileAccount":[{
        "EnvelopeId":"MBY6-FNTT-WQ5K-KXN4-OCCK-XXHF-DU3O",
        "dig":"S512",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJNQlk2LUZOVFQtV1
  E1Sy1LWE40LU9DQ0stWFhIRi1EVTNPIiwKICAiTWVzc2FnZVR5cGUiOiAiUHJvZml
  sZVVzZXIiLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIsCiAgIkNy
  ZWF0ZWQiOiAiMjAyMS0wOS0xNlQyMzo0Nzo1OVoifQ"},
      "ewogICJQcm9maWxlVXNlciI6IHsKICAgICJQcm9maWxlU2lnbmF0dXJlIj
  ogewogICAgICAiVWRmIjogIk1CWTYtRk5UVC1XUTVLLUtYTjQtT0NDSy1YWEhGLUR
  VM08iLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGlj
  S2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgI
  lB1YmxpYyI6ICJqb1ZxYkZnZ0FDSklvb3gyNlBiMmp1NmhnQVNaOV81QmxXS1cwT2
  RkTFZWSlRRY0FjTy14CiAgWkQzcjlBMG1hcWN5NlIwQ0pmOGtmallBIn19fSwKICA
  gICJBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSIsCiAgICAiU2Vy
  dmljZVVkZiI6ICJNREpYLTc3VUctWTQ2TC1VQ09RLUNYT00tWEJLMy03TTRBIiwKI
  CAgICJBY2NvdW50RW5jcnlwdGlvbiI6IHsKICAgICAgIlVkZiI6ICJNQlVOLVVSSU
  YtVkg1Ti1GWUdELUk2M0MtRlNISi1ZVFZXIiwKICAgICAgIlB1YmxpY1BhcmFtZXR
  lcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAiY3J2
  IjogIlg0NDgiLAogICAgICAgICAgIlB1YmxpYyI6ICIyYjVpOTdEVWhNa0QwZTlYd
  GNqOGZvQ2RJUU5OYW9tM3VKYlhsQkZFVlVkalNfb0wtS3NGCiAgUC1jTWk3czNzZV
  pTM1JnV3VxVEdRd3dBIn19fSwKICAgICJBZG1pbmlzdHJhdG9yU2lnbmF0dXJlIjo
  gewogICAgICAiVWRmIjogIk1DQ1otUzVCQy0yVkNKLUNTRjctREZNSi1NU0ZMLVo3
  VlYiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGljS
  2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgIl
  B1YmxpYyI6ICJQOXgxTG5OckMyWjJRc1U5OFFqSV9HLV8taE8zQ212MEYxY08tOXB
  KbVdYb2dTUFZfVVVUCiAgbEF4X0VBVXZDT0tYeWQ4dWFLRnktQ2lBIn19fSwKICAg
  ICJBY2NvdW50QXV0aGVudGljYXRpb24iOiB7CiAgICAgICJVZGYiOiAiTUNFSy0yQ
  0hQLVlYVDUtSlFQSi1aTlk0LVZITVgtRUdXVCIsCiAgICAgICJQdWJsaWNQYXJhbW
  V0ZXJzIjogewogICAgICAgICJQdWJsaWNLZXlFQ0RIIjogewogICAgICAgICAgImN
  ydiI6ICJYNDQ4IiwKICAgICAgICAgICJQdWJsaWMiOiAiNzNQbm94ZnBOOVRxeUow
  Z3BsbFlSWURCenN3NE5SVC1jeTFMNVFRUVExZjAxVXQzWlQ1RAogIE1hSmZNc1lHT
  VoyZVR4MVdYaEpWNWJzQSJ9fX0sCiAgICAiQWNjb3VudFNpZ25hdHVyZSI6IHsKIC
  AgICAgIlVkZiI6ICJNQlhHLVZWUlktTzMySi1VQ083LVY1SE8tVkc0Uy1TQk5VIiw
  KICAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVD
  REgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQdWJsa
  WMiOiAiSDVRTWNER2FTcTZ2WGd0X1JYYjJka2RpNktDbWU1X2RXNzlmWWtlamFDZj
  JDbGF3ZFc3LQogIEstZ0ZxQk5laldES1F0LUV5UC1iTFotQSJ9fX19fQ",
      {
        "signatures":[{
            "alg":"S512",
            "kid":"MBY6-FNTT-WQ5K-KXN4-OCCK-XXHF-DU3O",
            "signature":"9YswlxcUfPoX_MYxElIlxqyI2Uvdymt1pbrL5q9j
  uEW1np8sCAbWLuQGsqp7D0rhGMq1aae4jlcA9nwrgK6lzGn7A5CPEle5JlY4yZvAN
  jgwgcMg3T2NT38kMM4hM2_DJ9P2za46TH0bdlNJvQT-gwYA"}
          ],
        "PayloadDigest":"r2EitiUCRtSrz1oxG_D1DtVcdIv7KcaDJCeS1BF_
  8gqzGVm7Z2Zkjzbp754v9TeAJS-v2GkLW0PCDM62SKLGQA"}
      ]}}
~~~~


The device generates the witness value and presents it to the user as shown above.

### Phase 3:

The user synchronizes their pending messages:


~~~~
<div="terminal">
<cmd>Alice> message pending
<rsp>MessageID: ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN
        Connection Request::
        MessageID: ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN
        To:  From: 
        Device:  MCCJ-GLUQ-6AOS-XQEI-G4AM-GTL4-UBSZ
        Witness: ILWQ-2D7G-SYN6-VQ74-T3FO-VVMT-NRYN
MessageID: NDRK-CD6D-FBJD-YIH6-BYY4-Z7BA-M7MO
        Group invitation::
        MessageID: NDRK-CD6D-FBJD-YIH6-BYY4-Z7BA-M7MO
        To: alice@example.com From: alice@example.com
MessageID: NAXE-WSLA-JWEX-RTRT-HZM4-M4KP-TOBO
        Confirmation Request::
        MessageID: NAXE-WSLA-JWEX-RTRT-HZM4-M4KP-TOBO
        To: alice@example.com From: console@example.com
        Text: start
MessageID: ND3I-2RS4-U2S7-3RSB-I3FX-QI3C-6I2Q
        Contact Request::
        MessageID: ND3I-2RS4-U2S7-3RSB-I3FX-QI3C-6I2Q
        To: alice@example.com From: bob@example.com
        PIN: AB6E-HJJY-444X-JNT5-JST2-MQ7U-UJ3Q
<cmd>Alice> account sync /auto
<rsp>ERROR - An attempt was made to create an object with an existing obje
ct identifier
</div>
~~~~

The administration device determines that the device connection request is authenticated
by a PIN code. The PIN code is retrieved and the message authenticated. This is shown in
the PIN registration interation example in section $$$ above.


The Cataloged device record is created from the public key values corresponding to the
combination of the public keys in the device profile and those defined by the activation:


The ActivationDevice and CatalogedDevice records are ???


### Phase 4

The device periodically polls for completion of the connection request using the
Complete transaction.

To provide a final check on the process, the command line tool presents the UDF of 
the account profile to which the device has connected if successful:


~~~~
<div="terminal">
<cmd>Alice3> device complete
<rsp>   Device UDF = MCCJ-GLUQ-6AOS-XQEI-G4AM-GTL4-UBSZ
   Account = alice@example.com
   Account UDF = MBY6-FNTT-WQ5K-KXN4-OCCK-XXHF-DU3O
<cmd>Alice3> account sync
</div>
~~~~

The completion request specified the device requesting completion:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MAZZ-XSRE-5AD6-JA7N-S26F-SRBZ-MINI"}}
~~~~


The response contains the information the device requires to complete the connection
to the mesh:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MAZZ-XSRE-5AD6-JA7N-S26F-SRBZ-MINI"}}
~~~~



