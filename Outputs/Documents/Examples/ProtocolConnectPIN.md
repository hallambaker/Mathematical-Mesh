

### Phase 1:


~~~~
<div="terminal">
<cmd>Alice> account pin
<rsp>PIN=AB23-ZBOI-CEIZ-MTD4-VQ
 (Expires=2021-01-14T16:38:30Z)
</div>
~~~~

The registration of this PIN value was shown earlier in section $$$

The URI containing the account address and PIN is:

~~~~
mcu://alice@example.com/AB23-ZBOI-CEIZ-MTD4-VQ
~~~~

### Phase 2:

The onboarding device scans the QR code to obtain the account address and PIN code.
The PIN code is used to authenticate a connection request:


~~~~
<div="terminal">
<cmd>Alice3> device request alice@example.com /pin AB23-ZBOI-CEIZ-MTD4-VQ
<rsp>   Device UDF = MCNR-5XZX-CCZC-XTMJ-RYP2-PACV-HCBM
   Witness value = B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF
</div>
~~~~

The device issues a connection request to the service corresponding to the account. 
This specifies the device profile, the account to which the device is to be 
connected and the client nonce value:


~~~~
{
  "ConnectRequest":{
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MAD4-DQE5-PU4Y-QCTJ-D5U2-ZZVS-WBYC",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQlBTLVRFMkstNU
  JRWi0zSFdBLVBKTlUtV1lPWC1EQU1XIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wMS0xM1QxNjozODozMFoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkJQUy1URTJLLTVCUVotM0hXQS1QSk5VLVdZT1gtREFNVyIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1DTlItNVha
  WC1DQ1pDLVhUTUotUllQMi1QQUNWLUhDQk0iLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RMDVTTFRWWVdsZ3RRME5hUXkxCiAgWVZFMUtMVkpaVURJdFVFRkRWaTF
  JUTBKTklpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQXhMVEV6VkRFMk9qTT
  RPak13V2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVOT1VpMDFXRnBZTFVORFdrTXRXCiAgRlJOU2kxU1dWQXlMVkJCU
  TFZdFNFTkNUU0lzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0luUnBkV2h6VTNZM2RuUmFhR1pCU0dSCiAgTlVqbFVObmN5TXpnM2JHO
  UNaRjlsTUZocGVsOXhhRE5OUVVsd1oyUXlWVzlGZHpRS0lDQnFZekZ1YVhKaFkKIC
  AzTkVSVUpqUzB4WVJHSnBPWFZ4ZVVFaWZYMTlMQW9nSUNBZ0lrSmhjMlZGYm1OeWV
  YQjBhVzl1SWpvZ2V3bwogIGdJQ0FnSUNBaVZXUm1Jam9nSWsxRVdVVXRRMDlDVXkx
  S1VEVkRMVEkzVUVZdFNrRXpWUzFETms1V0xVZEtTCiAgRU1pTEFvZ0lDQWdJQ0FpV
  UhWaWJHbGpVR0Z5WVcxbGRHVnljeUk2SUhzS0lDQWdJQ0FnSUNBaVVIVmliR2wKIC
  BqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjbllpT2lBaVdEUTBPQ0l
  zQ2lBZ0lDQWdJQ0FnSQogIENBaVVIVmliR2xqSWpvZ0ltMURReTAwZUhWTFZIRkJT
  R2h1ZEY5cFoycEVSakJQZW1nM1JGbzFkVU5WY2pFCiAgNFowTnRaMGhDUzBkcU5EV
  mFURWhvZDBrS0lDQkthRUpDVkcxTFFtdDZiM2RyTlY5M2RFbzNNVTR3Y1VFaWYKIC
  BYMTlMQW9nSUNBZ0lrSmhjMlZCZFhSb1pXNTBhV05oZEdsdmJpSTZJSHNLSUNBZ0l
  DQWdJbFZrWmlJNklDSgogIE5RMDVMTFRNelNFNHRSRVZKVUMxYVRWUTBMVEpCV0Rj
  dFExZFVVaTAxVFZrMElpd0tJQ0FnSUNBZ0lsQjFZCiAgbXhwWTFCaGNtRnRaWFJsY
  25NaU9pQjdDaUFnSUNBZ0lDQWdJbEIxWW14cFkwdGxlVVZEUkVnaU9pQjdDaUEKIC
  BnSUNBZ0lDQWdJQ0FpWTNKMklqb2dJbGcwTkRnaUxBb2dJQ0FnSUNBZ0lDQWdJbEI
  xWW14cFl5STZJQ0pCVQogIEhWdU0wMW5OMHhvTUVwaWEzaGtOQzF0ZVdOS1kzTmZa
  V3BNUTJGMFlYa3lSM05wU0ZKR1MwOXVSbk14ZDFkCiAgWE5tWnpDaUFnVW05SWIzY
  3Rja3M0U2pWa2RtbERaakZuWWxGVVFVbEJJbjE5ZlN3S0lDQWdJQ0pDWVhObFUKIC
  AybG5ibUYwZFhKbElqb2dld29nSUNBZ0lDQWlWV1JtSWpvZ0lrMUVOa1F0TWxKUlV
  pMVNTVTFXTFV3M1J6TQogIHRORFpRU3kwM1ExbzBMVGRDVkUwaUxBb2dJQ0FnSUNB
  aVVIVmliR2xqVUdGeVlXMWxkR1Z5Y3lJNklIc0tJCiAgQ0FnSUNBZ0lDQWlVSFZpY
  kdsalMyVjVSVU5FU0NJNklIc0tJQ0FnSUNBZ0lDQWdJQ0pqY25ZaU9pQWlSV1EKIC
  AwTkRnaUxBb2dJQ0FnSUNBZ0lDQWdJbEIxWW14cFl5STZJQ0pDU0hSdU4zZDNXazF
  4WkdGbFZGYzJNME0wYgogIGxKV2REaEtTSFY1ZDJaNWFGZHpkMHN4WVVwMVdUSk1X
  RUV6Ym5weGRGQllDaUFnTUZrd1dFcHpiek5oVFhGCiAgcWFqVkpSSGRRVkcxQ1p6S
  kJJbjE5ZlgxOSIsCiAgICAgIHsKICAgICAgICAic2lnbmF0dXJlcyI6IFt7CiAgIC
  AgICAgICAgICJhbGciOiAiUzUxMiIsCiAgICAgICAgICAgICJraWQiOiAiTUNOUi0
  1WFpYLUNDWkMtWFRNSi1SWVAyLVBBQ1YtSENCTSIsCiAgICAgICAgICAgICJzaWdu
  YXR1cmUiOiAiTnpuTlNSTlZGV3I1Z1VtWXhxV01tUkJaRkJHTS1BaGRmclhndEVvU
  E5vUE5tOC01LQogIHJTbDNiMVJ6Q1N5Y0E2aVhJb2VPRmtYaWJDQUtHbzNPMW5Wel
  YxV3k1cUZ1MzRwVlhVSDRveHVIM2FjOTU3CiAgX1VnVHRHanlwYlJhMTB4cVBFbmx
  GV2Jmck1WQ2lsdUhhNEp5ZDFSRUEifV0sCiAgICAgICAgIlBheWxvYWREaWdlc3Qi
  OiAialVWNVJHejJQRHl2YmdyT25kSmxjQkVwUjFZVjUzSTVicEVKS0tueXoteEMxC
  iAgQkltcmxjSTN4N20wVUNFRnhfYW5DLXRqc3JsM0NxYnhLakNOOGdQY1EifV0sCi
  AgICAiQ2xpZW50Tm9uY2UiOiAicXVJcFBjeGxfS2drV3ctWE1BUWVBUSIsCiAgICA
  iUGluSWQiOiAiQUFBVS02SFZNLTdBQTYtVE5FRy1QRlVTLUlYWjMtQk1ZTCIsCiAg
  ICAiUGluV2l0bmVzcyI6ICI1ekZCb1RHbGVYd1NnSmM2OGdSTkI1ekt1b0p0V3JsY
  VA5ZlpZVFlVcG0yNkFHUUQKICBZZ0xBU2NvVlZxNk9vTnMtOVlOUWxDVWR1b2E5eU
  R0YlZqLWRLZyIsCiAgICAiQWNjb3VudEFkZHJlc3MiOiAiYWxpY2VAZXhhbXBsZS5
  jb20ifX0"
      ]}}
~~~~


The service generates the service nonce value and uses it to create the 
AcknowledgeConnection message.

~~~~
{
  "AcknowledgeConnection":{
    "MessageId":"B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF",
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MAD4-DQE5-PU4Y-QCTJ-D5U2-ZZVS-WBYC",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQlBTLVRFMkstNU
  JRWi0zSFdBLVBKTlUtV1lPWC1EQU1XIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wMS0xM1QxNjozODozMFoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkJQUy1URTJLLTVCUVotM0hXQS1QSk5VLVdZT1gtREFNVyIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1DTlItNVha
  WC1DQ1pDLVhUTUotUllQMi1QQUNWLUhDQk0iLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RMDVTTFRWWVdsZ3RRME5hUXkxCiAgWVZFMUtMVkpaVURJdFVFRkRWaTF
  JUTBKTklpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQXhMVEV6VkRFMk9qTT
  RPak13V2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVOT1VpMDFXRnBZTFVORFdrTXRXCiAgRlJOU2kxU1dWQXlMVkJCU
  TFZdFNFTkNUU0lzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0luUnBkV2h6VTNZM2RuUmFhR1pCU0dSCiAgTlVqbFVObmN5TXpnM2JHO
  UNaRjlsTUZocGVsOXhhRE5OUVVsd1oyUXlWVzlGZHpRS0lDQnFZekZ1YVhKaFkKIC
  AzTkVSVUpqUzB4WVJHSnBPWFZ4ZVVFaWZYMTlMQW9nSUNBZ0lrSmhjMlZGYm1OeWV
  YQjBhVzl1SWpvZ2V3bwogIGdJQ0FnSUNBaVZXUm1Jam9nSWsxRVdVVXRRMDlDVXkx
  S1VEVkRMVEkzVUVZdFNrRXpWUzFETms1V0xVZEtTCiAgRU1pTEFvZ0lDQWdJQ0FpV
  UhWaWJHbGpVR0Z5WVcxbGRHVnljeUk2SUhzS0lDQWdJQ0FnSUNBaVVIVmliR2wKIC
  BqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjbllpT2lBaVdEUTBPQ0l
  zQ2lBZ0lDQWdJQ0FnSQogIENBaVVIVmliR2xqSWpvZ0ltMURReTAwZUhWTFZIRkJT
  R2h1ZEY5cFoycEVSakJQZW1nM1JGbzFkVU5WY2pFCiAgNFowTnRaMGhDUzBkcU5EV
  mFURWhvZDBrS0lDQkthRUpDVkcxTFFtdDZiM2RyTlY5M2RFbzNNVTR3Y1VFaWYKIC
  BYMTlMQW9nSUNBZ0lrSmhjMlZCZFhSb1pXNTBhV05oZEdsdmJpSTZJSHNLSUNBZ0l
  DQWdJbFZrWmlJNklDSgogIE5RMDVMTFRNelNFNHRSRVZKVUMxYVRWUTBMVEpCV0Rj
  dFExZFVVaTAxVFZrMElpd0tJQ0FnSUNBZ0lsQjFZCiAgbXhwWTFCaGNtRnRaWFJsY
  25NaU9pQjdDaUFnSUNBZ0lDQWdJbEIxWW14cFkwdGxlVVZEUkVnaU9pQjdDaUEKIC
  BnSUNBZ0lDQWdJQ0FpWTNKMklqb2dJbGcwTkRnaUxBb2dJQ0FnSUNBZ0lDQWdJbEI
  xWW14cFl5STZJQ0pCVQogIEhWdU0wMW5OMHhvTUVwaWEzaGtOQzF0ZVdOS1kzTmZa
  V3BNUTJGMFlYa3lSM05wU0ZKR1MwOXVSbk14ZDFkCiAgWE5tWnpDaUFnVW05SWIzY
  3Rja3M0U2pWa2RtbERaakZuWWxGVVFVbEJJbjE5ZlN3S0lDQWdJQ0pDWVhObFUKIC
  AybG5ibUYwZFhKbElqb2dld29nSUNBZ0lDQWlWV1JtSWpvZ0lrMUVOa1F0TWxKUlV
  pMVNTVTFXTFV3M1J6TQogIHRORFpRU3kwM1ExbzBMVGRDVkUwaUxBb2dJQ0FnSUNB
  aVVIVmliR2xqVUdGeVlXMWxkR1Z5Y3lJNklIc0tJCiAgQ0FnSUNBZ0lDQWlVSFZpY
  kdsalMyVjVSVU5FU0NJNklIc0tJQ0FnSUNBZ0lDQWdJQ0pqY25ZaU9pQWlSV1EKIC
  AwTkRnaUxBb2dJQ0FnSUNBZ0lDQWdJbEIxWW14cFl5STZJQ0pDU0hSdU4zZDNXazF
  4WkdGbFZGYzJNME0wYgogIGxKV2REaEtTSFY1ZDJaNWFGZHpkMHN4WVVwMVdUSk1X
  RUV6Ym5weGRGQllDaUFnTUZrd1dFcHpiek5oVFhGCiAgcWFqVkpSSGRRVkcxQ1p6S
  kJJbjE5ZlgxOSIsCiAgICAgIHsKICAgICAgICAic2lnbmF0dXJlcyI6IFt7CiAgIC
  AgICAgICAgICJhbGciOiAiUzUxMiIsCiAgICAgICAgICAgICJraWQiOiAiTUNOUi0
  1WFpYLUNDWkMtWFRNSi1SWVAyLVBBQ1YtSENCTSIsCiAgICAgICAgICAgICJzaWdu
  YXR1cmUiOiAiTnpuTlNSTlZGV3I1Z1VtWXhxV01tUkJaRkJHTS1BaGRmclhndEVvU
  E5vUE5tOC01LQogIHJTbDNiMVJ6Q1N5Y0E2aVhJb2VPRmtYaWJDQUtHbzNPMW5Wel
  YxV3k1cUZ1MzRwVlhVSDRveHVIM2FjOTU3CiAgX1VnVHRHanlwYlJhMTB4cVBFbmx
  GV2Jmck1WQ2lsdUhhNEp5ZDFSRUEifV0sCiAgICAgICAgIlBheWxvYWREaWdlc3Qi
  OiAialVWNVJHejJQRHl2YmdyT25kSmxjQkVwUjFZVjUzSTVicEVKS0tueXoteEMxC
  iAgQkltcmxjSTN4N20wVUNFRnhfYW5DLXRqc3JsM0NxYnhLakNOOGdQY1EifV0sCi
  AgICAiQ2xpZW50Tm9uY2UiOiAicXVJcFBjeGxfS2drV3ctWE1BUWVBUSIsCiAgICA
  iUGluSWQiOiAiQUFBVS02SFZNLTdBQTYtVE5FRy1QRlVTLUlYWjMtQk1ZTCIsCiAg
  ICAiUGluV2l0bmVzcyI6ICI1ekZCb1RHbGVYd1NnSmM2OGdSTkI1ekt1b0p0V3JsY
  VA5ZlpZVFlVcG0yNkFHUUQKICBZZ0xBU2NvVlZxNk9vTnMtOVlOUWxDVWR1b2E5eU
  R0YlZqLWRLZyIsCiAgICAiQWNjb3VudEFkZHJlc3MiOiAiYWxpY2VAZXhhbXBsZS5
  jb20ifX0"
      ],
    "ServerNonce":"LP3WDlQdCtBrNUFaTaUvXA",
    "Witness":"B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF"}}
~~~~

The AcknowledgeConnection message is appended to the Inbound spool of the account
to which connection was requested so that the user can approve the request. The
ConnectResponse message is returned to the device containing the AcknowledgeConnection 
message and the profile of the account.


~~~~
{
  "ConnectResponse":{
    "Status":201,
    "StatusDescription":"Operation completed successfully",
    "EnvelopedAcknowledgeConnection":[{
        "EnvelopeId":"MC3V-VXL7-NE6V-7YMB-FEOM-SJWU-SFQO",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJCNEFFLVJOWEstWT
  JPQy1aUzdSLVpRWkstVlVCSS1aRlBGIiwKICAiTWVzc2FnZVR5cGUiOiAiQWNrbm9
  3bGVkZ2VDb25uZWN0aW9uIiwKICAiY3R5IjogImFwcGxpY2F0aW9uL21tbS9vYmpl
  Y3QiLAogICJDcmVhdGVkIjogIjIwMjEtMDEtMTNUMTY6Mzg6MzBaIn0",
        "SequenceInfo":{
          "Index":6,
          "TreePosition":11843},
        "Received":"2021-01-13T16:38:30Z"},
      "ewogICJBY2tub3dsZWRnZUNvbm5lY3Rpb24iOiB7CiAgICAiTWVzc2FnZU
  lkIjogIkI0QUUtUk5YSy1ZMk9DLVpTN1ItWlFaSy1WVUJJLVpGUEYiLAogICAgIkV
  udmVsb3BlZFJlcXVlc3RDb25uZWN0aW9uIjogW3sKICAgICAgICAiRW52ZWxvcGVJ
  ZCI6ICJNQUQ0LURRRTUtUFU0WS1RQ1RKLUQ1VTItWlpWUy1XQllDIiwKICAgICAgI
  CAiQ29udGVudE1ldGFEYXRhIjogImV3b2dJQ0pWYm1seGRXVkpaQ0k2SUNKT1FsQl
  RMVlJGTWtzdE5VSlJXaTAKICB6U0ZkQkxWQktUbFV0VjFsUFdDMUVRVTFYSWl3S0l
  DQWlUV1Z6YzJGblpWUjVjR1VpT2lBaVVtVnhkV1Z6ZAogIEVOdmJtNWxZM1JwYjI0
  aUxBb2dJQ0pqZEhraU9pQWlZWEJ3YkdsallYUnBiMjR2YlcxdEwyOWlhbVZqZENJC
  iAgc0NpQWdJa055WldGMFpXUWlPaUFpTWpBeU1TMHdNUzB4TTFReE5qb3pPRG96TU
  ZvaWZRIn0sCiAgICAgICJld29nSUNKU1pYRjFaWE4wUTI5dWJtVmpkR2x2YmlJNkl
  Ic0tJQ0FnSUNKCiAgTlpYTnpZV2RsU1dRaU9pQWlUa0pRVXkxVVJUSkxMVFZDVVZv
  dE0waFhRUzFRU2s1VkxWZFpUMWd0UkVGTlYKICB5SXNDaUFnSUNBaVFYVjBhR1Z1Z
  EdsallYUmxaRVJoZEdFaU9pQmJld29nSUNBZ0lDQWdJQ0pGYm5abGJHOQogIHdaVW
  xrSWpvZ0lrMURUbEl0TlZoYVdDMURRMXBETFZoVVRVb3RVbGxRTWkxUVFVTldMVWh
  EUWswaUxBb2dJCiAgQ0FnSUNBZ0lDSmthV2NpT2lBaVV6VXhNaUlzQ2lBZ0lDQWdJ
  Q0FnSWtOdmJuUmxiblJOWlhSaFJHRjBZU0kKICA2SUNKbGQyOW5TVU5LVm1KdGJIa
  GtWMVpLV2tOSk5rbERTazVSTURWVFRGUldXVmRzWjNSUk1FNWhVWGt4QwogIGlBZ1
  dWWkZNVXRNVmtwYVZVUkpkRlZGUmtSV2FURkpVVEJLVGtscGQwdEpRMEZwVkZkV2V
  tTXlSbTVhVmxJCiAgMVkwZFZhVTlwUVdsVlNFcDJXbTFzYzFvS0lDQlZVbXhrYld4
  cVdsTkpjME5wUVdkSmJVNHdaVk5KTmtsRFMKICBtaGpTRUp6WVZkT2FHUkhiSFppY
  VRsMFlsY3dkbUl5U25GYVYwNHdTV2wzUzBsRFFRb2dJR2xSTTBwc1dWaAogIFNiRn
  BEU1RaSlEwbDVUVVJKZUV4VVFYaE1WRVY2VmtSRk1rOXFUVFJQYWsxM1YybEtPU0o
  5TEFvZ0lDQWdJCiAgQ0FpWlhkdlowbERTbEZqYlRsdFlWZDRiRkpIVmpKaFYwNXNT
  V3B2WjJWM2IyZEpRMEZuU1d4Q2VXSXlXZ28KICBnSUhCaVIxWlVZVmRrZFZsWVVqR
  mpiVlZwVDJsQ04wTnBRV2RKUTBGblNVTktWbHBIV1dsUGFVRnBWRlZPVAogIDFWcE
  1ERlhSbkJaVEZWT1JGZHJUWFJYQ2lBZ1JsSk9VMmt4VTFkV1FYbE1Wa0pDVVRGWmR
  GTkZUa05VVTBsCiAgelEybEJaMGxEUVdkSlEwcFJaRmRLYzJGWFRsRlpXRXBvWWxk
  V01GcFlTbnBKYW04S0lDQm5aWGR2WjBsRFEKICBXZEpRMEZuU1VOS1VXUlhTbk5oV
  jA1TVdsaHNSbEV3VWtsSmFtOW5aWGR2WjBsRFFXZEpRMEZuU1VOQlowbAogIHRUbm
  xrYVVrMlNRb2dJRU5LUmxwRVVUQlBRMGx6UTJsQlowbERRV2RKUTBGblNVTkJhVlZ
  JVm1saVIyeHFTCiAgV3B2WjBsdVVuQmtWMmg2VlROWk0yUnVVbUZoUjFwQ1UwZFND
  aUFnVGxWcWJGVk9ibU41VFhwbk0ySkhPVU4KICBhUmpsc1RVWm9jR1ZzT1hoaFJFN
  U9VVlZzZDFveVVYbFdWemxHWkhwUlMwbERRbkZaZWtaMVlWaEthRmtLSQogIENBel
  RrVlNWVXBxVXpCNFdWSkhTbkJQV0ZaNFpWVkZhV1pZTVRsTVFXOW5TVU5CWjBsclN
  taGpNbFpHWW0xCiAgT2VXVllRakJoVnpsMVNXcHZaMlYzYndvZ0lHZEpRMEZuU1VO
  QmFWWlhVbTFKYW05blNXc3hSVmRWVlhSUk0KICBEbERWWGt4UzFWRVZrUk1WRWt6V
  lVWWmRGTnJSWHBXVXpGRVRtczFWMHhWWkV0VENpQWdSVTFwVEVGdlowbAogIERRV2
  RKUTBGcFZVaFdhV0pIYkdwVlIwWjVXVmN4YkdSSFZubGplVWsyU1VoelMwbERRV2R
  KUTBGblNVTkJhCiAgVlZJVm1saVIyd0tJQ0JxVXpKV05WSlZUa1ZUUTBrMlNVaHpT
  MGxEUVdkSlEwRm5TVU5CWjBsRFNtcGpibGwKICBwVDJsQmFWZEVVVEJQUTBselEyb
  EJaMGxEUVdkSlEwRm5TUW9nSUVOQmFWVklWbWxpUjJ4cVNXcHZaMGx0TQogIFVSUm
  VUQXdaVWhXVEZaSVJrSlRSMmgxWkVZNWNGb3ljRVZTYWtKUVpXMW5NMUpHYnpGa1Z
  VNVdZMnBGQ2lBCiAgZ05Gb3dUblJhTUdoRFV6QmtjVTVFVm1GVVJXaHZaREJyUzBs
  RFFrdGhSVXBEVmtjeFRGRnRkRFppTTJSeVQKICBsWTVNMlJGYnpOTlZUUjNZMVZGY
  VdZS0lDQllNVGxNUVc5blNVTkJaMGxyU21oak1sWkNaRmhTYjFwWE5UQgogIGhWMD
  VvWkVkc2RtSnBTVFpKU0hOTFNVTkJaMGxEUVdkSmJGWnJXbWxKTmtsRFNnb2dJRTV
  STURWTVRGUk5lCiAgbE5GTkhSU1JWWktWVU14WVZSV1VUQk1WRXBDVjBSamRGRXha
  RlZWYVRBeFZGWnJNRWxwZDB0SlEwRm5TVU4KICBCWjBsc1FqRlpDaUFnYlhod1dUR
  kNhR050Um5SYVdGSnNZMjVOYVU5cFFqZERhVUZuU1VOQlowbERRV2RKYgogIEVJeF
  dXMTRjRmt3ZEd4bFZWWkVVa1ZuYVU5cFFqZERhVUVLSUNCblNVTkJaMGxEUVdkSlE
  wRnBXVE5LTWtsCiAgcWIyZEpiR2N3VGtSbmFVeEJiMmRKUTBGblNVTkJaMGxEUVdk
  SmJFSXhXVzE0Y0ZsNVNUWkpRMHBDVlFvZ0kKICBFaFdkVTB3TVc1T01IaHZUVVZ3Y
  VdFemFHdE9RekYwWlZkT1Mxa3pUbVphVjNCTlVUSkdNRmxZYTNsU00wNQogIHdVMF
  pLUjFNd09YVlNiazE0WkRGa0NpQWdXRTV0V25wRGFVRm5WVzA1U1dJelkzUmphM00
  wVTJwV2EyUnRiCiAgRVJhYWtadVdXeEdWVkZWYkVKSmJqRTVabE4zUzBsRFFXZEpR
  MHBEV1ZoT2JGVUtJQ0F5Ykc1aWJVWXdaRmgKICBLYkVscWIyZGxkMjluU1VOQlowb
  ERRV2xXVjFKdFNXcHZaMGxyTVVWT2ExRjBUV3hLVWxWcE1WTlRWVEZYVAogIEZWM0
  0xSjZUUW9nSUhST1JGcFJVM2t3TTFFeGJ6Qk1WR1JEVmtVd2FVeEJiMmRKUTBGblN
  VTkJhVlZJVm1sCiAgaVIyeHFWVWRHZVZsWE1XeGtSMVo1WTNsSk5rbEljMHRKQ2lB
  Z1EwRm5TVU5CWjBsRFFXbFZTRlpwWWtkc2EKICBsTXlWalZTVlU1RlUwTkpOa2xJY
  zB0SlEwRm5TVU5CWjBsRFFXZEpRMHBxWTI1WmFVOXBRV2xTVjFFS0lDQQogIHdUa1
  JuYVV4QmIyZEpRMEZuU1VOQlowbERRV2RKYkVJeFdXMTRjRmw1U1RaSlEwcERVMGh
  TZFU0elpETlhhCiAgekY0V2tkR2JGWkdZekpOTUUwd1lnb2dJR3hLVjJSRWFFdFRT
  RlkxWkRKYU5XRkdaSHBrTUhONFdWVndNVmQKICBVU2sxWFJVVjZZbTV3ZUdSR1Fsb
  ERhVUZuVFVacmQxZEZjSHBpZWs1b1ZGaEdDaUFnY1dGcVZrcFNTR1JSVgogIGtjeF
  ExcDZTa0pKYmpFNVpsZ3hPU0lzQ2lBZ0lDQWdJSHNLSUNBZ0lDQWdJQ0FpYzJsbmJ
  tRjBkWEpsY3lJCiAgNklGdDdDaUFnSUNBZ0lDQWdJQ0FnSUNKaGJHY2lPaUFpVXpV
  eE1pSXNDaUFnSUNBZ0lDQWdJQ0FnSUNKcmEKICBXUWlPaUFpVFVOT1VpMDFXRnBZT
  FVORFdrTXRXRlJOU2kxU1dWQXlMVkJCUTFZdFNFTkNUU0lzQ2lBZ0lDQQogIGdJQ0
  FnSUNBZ0lDSnphV2R1WVhSMWNtVWlPaUFpVG5wdVRsTlNUbFpHVjNJMVoxVnRXWGh
  4VjAxdFVrSmFSCiAga0pIVFMxQmFHUm1jbGhuZEVWdlVFNXZVRTV0T0MwMUxRb2dJ
  SEpUYkROaU1WSjZRMU41WTBFMmFWaEpiMlYKICBQUm10WWFXSkRRVXRIYnpOUE1XN
  VdlbFl4VjNrMWNVWjFNelJ3VmxoVlNEUnZlSFZJTTJGak9UVTNDaUFnWAogIDFWbl
  ZIUkhhbmx3WWxKaE1UQjRjVkJGYm14R1YySm1jazFXUTJsc2RVaGhORXA1WkRGU1J
  VRWlmVjBzQ2lBCiAgZ0lDQWdJQ0FnSWxCaGVXeHZZV1JFYVdkbGMzUWlPaUFpYWxW
  V05WSkhlakpRUkhsMlltZHlUMjVrU214alEKICBrVndVakZaVmpVelNUVmljRVZLU
  zB0dWVYb3RlRU14Q2lBZ1FrbHRjbXhqU1RONE4yMHdWVU5GUm5oZllXNQogIERMWF
  JxYzNKc00wTnhZbmhMYWtOT09HZFFZMUVpZlYwc0NpQWdJQ0FpUTJ4cFpXNTBUbTl
  1WTJVaU9pQWljCiAgWFZKY0ZCamVHeGZTMmRyVjNjdFdFMUJVV1ZCVVNJc0NpQWdJ
  Q0FpVUdsdVNXUWlPaUFpUVVGQlZTMDJTRloKICBOTFRkQlFUWXRWRTVGUnkxUVJsV
  lRMVWxZV2pNdFFrMVpUQ0lzQ2lBZ0lDQWlVR2x1VjJsMGJtVnpjeUk2SQogIENJMW
  VrWkNiMVJIYkdWWWQxTm5TbU0yT0dkU1RrSTFla3QxYjBwMFYzSnNZVkE1WmxwWlZ
  GbFZjRzB5TmtGCiAgSFVVUUtJQ0JaWjB4QlUyTnZWbFp4Tms5dlRuTXRPVmxPVVd4
  RFZXUjFiMkU1ZVVSMFlsWnFMV1JMWnlJc0MKICBpQWdJQ0FpUVdOamIzVnVkRUZrW
  khKbGMzTWlPaUFpWVd4cFkyVkFaWGhoYlhCc1pTNWpiMjBpZlgwIl0sCiAgICAiU2
  VydmVyTm9uY2UiOiAiTFAzV0RsUWRDdEJyTlVGYVRhVXZYQSIsCiAgICAiV2l0bmV
  zcyI6ICJCNEFFLVJOWEstWTJPQy1aUzdSLVpRWkstVlVCSS1aRlBGIn19",
      {}
      ],
    "EnvelopedProfileAccount":[{
        "EnvelopeId":"MAMU-5QXP-TWCD-7PKI-S4FC-IB76-XASH",
        "dig":"S512",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJNQU1VLTVRWFAtVF
  dDRC03UEtJLVM0RkMtSUI3Ni1YQVNIIiwKICAiTWVzc2FnZVR5cGUiOiAiUHJvZml
  sZVVzZXIiLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIsCiAgIkNy
  ZWF0ZWQiOiAiMjAyMS0wMS0xM1QxNjozODoxOVoifQ"},
      "ewogICJQcm9maWxlVXNlciI6IHsKICAgICJQcm9maWxlU2lnbmF0dXJlIj
  ogewogICAgICAiVWRmIjogIk1BTVUtNVFYUC1UV0NELTdQS0ktUzRGQy1JQjc2LVh
  BU0giLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGlj
  S2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgI
  lB1YmxpYyI6ICJjM2w5NmhGTlZiWHpRYTdkb2hncF9YOVlJSXphUjRVMGRQQ2Z5b2
  NxdUZXblp1aUZkdTl2CiAgbDlVSWd0WXYtdGpGVnBtazZxUkRqN21BIn19fSwKICA
  gICJBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSIsCiAgICAiU2Vy
  dmljZVVkZiI6ICJNQTM2LVRVSkwtUVJaSi0zTTNMLVNSQlEtQlJZUS1XMllNIiwKI
  CAgICJBY2NvdW50RW5jcnlwdGlvbiI6IHsKICAgICAgIlVkZiI6ICJNRExPLUpKNE
  ItUkJZNS1WWUQ3LUxKWlktUzNSSy1EQk0yIiwKICAgICAgIlB1YmxpY1BhcmFtZXR
  lcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAiY3J2
  IjogIlg0NDgiLAogICAgICAgICAgIlB1YmxpYyI6ICI0TWk5WDhtWEk5bUdoXzdza
  kdaUDBhRlBSWEpOU0ZleFBCbklBSzFCTl9fU1hSeHRXUVRzCiAgWHNnejFmbDVKYz
  M4Wll4N01WZTJYOXdBIn19fSwKICAgICJBZG1pbmlzdHJhdG9yU2lnbmF0dXJlIjo
  gewogICAgICAiVWRmIjogIk1DQ0stRjJXWi1RQUFDLUMzTkEtRVZBVy1TQkw3LUlI
  RVEiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGljS
  2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgIl
  B1YmxpYyI6ICI4VFNaN0ROVE03RnVnSnFBRmZ0NEZKRDRXZGpBOW9tSFVEYTd0bnR
  uSkJrUTRrTldfdHlTCiAgNlFNR01ZbHk0d0hSMVdGblVadkk1UW1BIn19fSwKICAg
  ICJBY2NvdW50QXV0aGVudGljYXRpb24iOiB7CiAgICAgICJVZGYiOiAiTUJCMy03M
  jNLLURKS1EtRzRISC03UFROLTVKWEstWlY2QSIsCiAgICAgICJQdWJsaWNQYXJhbW
  V0ZXJzIjogewogICAgICAgICJQdWJsaWNLZXlFQ0RIIjogewogICAgICAgICAgImN
  ydiI6ICJYNDQ4IiwKICAgICAgICAgICJQdWJsaWMiOiAibDY3NF9uOWloZzkxcmpn
  UGlzYjNYdUE3OEVfOGhXenNIdFlmb0ZRdkdCMmtaM08xeFNCRgogIEUycHBGamhTN
  GhzbEE0NXl6N1dwQnpnQSJ9fX0sCiAgICAiQWNjb3VudFNpZ25hdHVyZSI6IHsKIC
  AgICAgIlVkZiI6ICJNREE2LUVMRTItVDJBTS01MlJULUFOM1ItTFVEUy1HSkdYIiw
  KICAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVD
  REgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQdWJsa
  WMiOiAiQUhTdFc4S0dwYnJvWnQ1ZXotd3ZiQ19GTXI5QWpxSThnTGlnQzVwM3doSG
  NFUTRqUDlkVwogIDF4RHdaMzRqNzdxWE5JZkZFdk9FV0pNQSJ9fX19fQ",
      {
        "signatures":[{
            "alg":"S512",
            "kid":"MAMU-5QXP-TWCD-7PKI-S4FC-IB76-XASH",
            "signature":"_9tIDk5KvjeIuasHaXDawBB1VTw2YIzxBUxpLn78
  a0qfO9CjuWh7auyUMHrCGvpuQRjjQrDR_OeATnhDzrIG5xcQbFwvfge_rfqvUjqQc
  -CZqvT8lLDQ2clW6THP1Z0GcIZmxNEpYVkyyR-9AACDQAcA"}
          ],
        "PayloadDigest":"fb_iksIe0dM4IWIWZjmKlYQSF-XttjIAg8Bww4tJ
  jpOE0P9bxX42pkNorLfHQ8XyD8x9IHT-FKh-_lhLJNAUzA"}
      ]}}
~~~~


The device generates the witness value and presents it to the user as shown above.

### Phase 3:

The user synchronizes their pending messages:


~~~~
<div="terminal">
<cmd>Alice> message pending
<rsp>MessageID: B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF
        Connection Request::
        MessageID: B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF
        To:  From: 
        Device:  MCNR-5XZX-CCZC-XTMJ-RYP2-PACV-HCBM
        Witness: B4AE-RNXK-Y2OC-ZS7R-ZQZK-VUBI-ZFPF
MessageID: NAL6-QEBL-5JF7-TEX3-AIM7-HV74-MPYQ
        Group invitation::
        MessageID: NAL6-QEBL-5JF7-TEX3-AIM7-HV74-MPYQ
        To: alice@example.com From: alice@example.com
MessageID: NCHB-PAFY-23JU-UWSK-Q4NK-LEKY-MFZX
        Confirmation Request::
        MessageID: NCHB-PAFY-23JU-UWSK-Q4NK-LEKY-MFZX
        To: alice@example.com From: console@example.com
        Text: start
MessageID: NBPI-ULGE-MSPK-FUE2-CBDB-WTNY-NJDZ
        Contact Request::
        MessageID: NBPI-ULGE-MSPK-FUE2-CBDB-WTNY-NJDZ
        To: alice@example.com From: bob@example.com
        PIN: ADHF-R2A7-SV2S-XUBQ-C7CU-HA6Y-JBVA
<cmd>Alice> account sync /auto
<rsp>ERROR - An attempt was made to create an object with an existing obje
ct identifier
</div>
~~~~

The administration device determines that the device connection request is authenticated
by a PIN code. The PIN code is retrieved and the message authenticated. This is shown in
the PIN registration interation example in section $$$ above.


The Cataloged device record is created from the public key values corresponding to the
combination of the public keys in the device profile and those defined by the activation:


The ActivationDevice and CatalogedDevice records are ???


### Phase 4

The device periodically polls for completion of the connection request using the
Complete transaction.

To provide a final check on the process, the command line tool presents the UDF of 
the account profile to which the device has connected if successful:


~~~~
<div="terminal">
<cmd>Alice3> device complete
<rsp>   Device UDF = MCNR-5XZX-CCZC-XTMJ-RYP2-PACV-HCBM
   Account = alice@example.com
   Account UDF = MAMU-5QXP-TWCD-7PKI-S4FC-IB76-XASH
<cmd>Alice3> account sync
</div>
~~~~

The completion request specified the device requesting completion:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MADI-J7SC-HSPL-UREO-Z5NC-CWK6-KZIB"}}
~~~~


The response contains the information the device requires to complete the connection
to the mesh:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MADI-J7SC-HSPL-UREO-Z5NC-CWK6-KZIB"}}
~~~~



