>>>> Unfinished ProtocolConnectPIN



### Phase 1:


~~~~
<div="terminal">
<cmd>Alice> account pin /threshold
<rsp>PIN=ABUT-CB72-7OD7-RCTA-ZKQK-HTBK-QI
 (Expires=2021-09-18T13:08:46Z)
</div>
~~~~

The registration of this PIN value was shown earlier in section $$$

The URI containing the account address and PIN is:

~~~~
mcu://alice@example.com/ABUT-CB72-7OD7-RCTA-ZKQK-HTBK-QI
~~~~

### Phase 2:

The onboarding device scans the QR code to obtain the account address and PIN code.
The PIN code is used to authenticate a connection request:


~~~~
<div="terminal">
<cmd>Alice3> device request alice@example.com /pin ^
    ABUT-CB72-7OD7-RCTA-ZKQK-HTBK-QI
<rsp>   Device UDF = MAM5-JIA7-DSS2-HXXB-63TD-RDS5-U4XN
   Witness value = AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS
</div>
~~~~

The device issues a connection request to the service corresponding to the account. 
This specifies the device profile, the account to which the device is to be 
connected and the client nonce value:


~~~~
{
  "ConnectRequest":{
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MCWP-54AZ-RPHE-WUW6-CXHP-WGKV-2SYB",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQzNMLTNYTDYtSF
  EyWS1ITE5VLVg0NkgtVlJRRS1RTkhBIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wOS0xN1QxMzowODo0NloifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkMzTC0zWEw2LUhRMlktSExOVS1YNDZILVZSUUUtUU5IQSIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1BTTUtSklB
  Ny1EU1MyLUhYWEItNjNURC1SRFM1LVU0WE4iLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RVTAxTFVwSlFUY3RSRk5UTWkxCiAgSVdGaENMVFl6VkVRdFVrUlROUzF
  WTkZoT0lpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTVMVEUzVkRFek9qQT
  RPalEyV2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVGTk5TMUtTVUUzTFVSVFV6SXRTCiAgRmhZUWkwMk0xUkVMVkpFV
  XpVdFZUUllUaUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lqWkVNMjk0WW1rME5YVlROekJ6ZG1zCiAgekxWTTJPRzA0VGs1MVVGU
  ndXV3hMYzBwSldHRjRabkJNWTJrNWVsRkNaaTFSV0VVS0lDQkNWV0ZKYVhWYWMKIC
  AxRnJUbDlPTTI1dE9XSlRTV1pQZDBFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVVF5VGkxYVZGUTFMVW8xV2tZ
  dFVsUlRTQzFCVFVVM0xVcFNSMVV0V2tkSVdpSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpTFZOb1VDMWlOM2RSUVdsVU1IUk5N
  REUyUkhjNVRISjVVRk5qVUVKM016ZHNRMDh0TlZoCiAgS1QyVTJRVmxCZUcxclVWQ
  k5TZ29nSUdodE1uZG1kQzFFTUVaQk1qQmxTSE0zUkVGemJFVjNRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxQ1Z
  ETXRSbGxDTkMxUlFVMQogIFdMVU5FVWpZdFFrNVNWQzFTUVZNMkxVdEdVellpTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSkJjRmw
  0Vm5SUFVVeDVaV3hRTwogIEdkak5rdENhMmR2Vlc1VmMybzJVMlpoUzNOM2VuRllj
  M2hwWDI0eVVFUXRVMFl4UW5aRUNpQWdhRlZGVGtKCiAgSlVqUktVRzk1VG1KcFVra
  GhiMFppVm5GQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlFWY3lMVkJPTWtjdFFWY3lUaTFSVkVoWUx
  WaFJSVkl0VFZGSk1pMAogIHlUMVJISWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSnNhMmRPVUc1bVJsQlFYMVpVVVhCVk9WZDRaMHR
  ITFMwMk1Wa3lSSFpIYQogIGxOeFYySnJWVVpsY25SUUxWSlFkVWhoWTNkSkNpQWdM
  VFF0UkZWVVJHbG9NM1J2VVRZelZXcG9XWEpRUWt0CiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQU01LUpJQTctRFNTMi1IWFhCLTY
  zVEQtUkRTNS1VNFhOIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJQb1MyU1VQ
  RG9HWmVLTTR6d2puTkRVMXVySG85QmZxUXFoSndJM3hxaUFLSE1vTUN4CiAgU0JKL
  UtNYXJna3NvellWWmE1UWNaRzhqd1lBOF94ZEFMamZ4bDBFOUU4U3RjNEdhajZYa3
  ZlM3g3TEwyMUEKICByWXRJRXJtcnpDQWRMUTFrNnVyaVFrVkxCYUtEYzl3Z1NFM2p
  HYkN3QSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJqeG00dS0wLW5wV2VN
  MjhhUHFyVEViM2R2eWM0dERwbWpkRE9YQ0hKOTNsYlgKICBRdkJBQnAyX2gtU0FPR
  0NBWGl6aU9FTXZMOEQzd2J5M1BhaHF0d2hNZyJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJFdEVrZjA1d211cUQ2VzFpWXM1NnVBIiwKICAgICJQaW5JZCI6ICJBRDZFLVM
  3T0MtWFRRSy02SVFZLVBDRTItRkVPQi1DN1U1IiwKICAgICJQaW5XaXRuZXNzIjog
  IlJlSjJPTVVDVFp3R1VfTTBCb0paMWNUaU8yamN4dFZiR2dQR0NoVlhkSFY5OUJTO
  QogIHZjMGdLcWlkQ0VsU1BrT1BzWm0yN2F3UTc5bk9NcmxTYzdmdE5nIiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ]}}
~~~~


The service generates the service nonce value and uses it to create the 
AcknowledgeConnection message.

~~~~
{
  "AcknowledgeConnection":{
    "MessageId":"AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS",
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MCWP-54AZ-RPHE-WUW6-CXHP-WGKV-2SYB",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQzNMLTNYTDYtSF
  EyWS1ITE5VLVg0NkgtVlJRRS1RTkhBIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wOS0xN1QxMzowODo0NloifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkMzTC0zWEw2LUhRMlktSExOVS1YNDZILVZSUUUtUU5IQSIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1BTTUtSklB
  Ny1EU1MyLUhYWEItNjNURC1SRFM1LVU0WE4iLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RVTAxTFVwSlFUY3RSRk5UTWkxCiAgSVdGaENMVFl6VkVRdFVrUlROUzF
  WTkZoT0lpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTVMVEUzVkRFek9qQT
  RPalEyV2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVGTk5TMUtTVUUzTFVSVFV6SXRTCiAgRmhZUWkwMk0xUkVMVkpFV
  XpVdFZUUllUaUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lqWkVNMjk0WW1rME5YVlROekJ6ZG1zCiAgekxWTTJPRzA0VGs1MVVGU
  ndXV3hMYzBwSldHRjRabkJNWTJrNWVsRkNaaTFSV0VVS0lDQkNWV0ZKYVhWYWMKIC
  AxRnJUbDlPTTI1dE9XSlRTV1pQZDBFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVVF5VGkxYVZGUTFMVW8xV2tZ
  dFVsUlRTQzFCVFVVM0xVcFNSMVV0V2tkSVdpSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpTFZOb1VDMWlOM2RSUVdsVU1IUk5N
  REUyUkhjNVRISjVVRk5qVUVKM016ZHNRMDh0TlZoCiAgS1QyVTJRVmxCZUcxclVWQ
  k5TZ29nSUdodE1uZG1kQzFFTUVaQk1qQmxTSE0zUkVGemJFVjNRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxQ1Z
  ETXRSbGxDTkMxUlFVMQogIFdMVU5FVWpZdFFrNVNWQzFTUVZNMkxVdEdVellpTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSkJjRmw
  0Vm5SUFVVeDVaV3hRTwogIEdkak5rdENhMmR2Vlc1VmMybzJVMlpoUzNOM2VuRllj
  M2hwWDI0eVVFUXRVMFl4UW5aRUNpQWdhRlZGVGtKCiAgSlVqUktVRzk1VG1KcFVra
  GhiMFppVm5GQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlFWY3lMVkJPTWtjdFFWY3lUaTFSVkVoWUx
  WaFJSVkl0VFZGSk1pMAogIHlUMVJISWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSnNhMmRPVUc1bVJsQlFYMVpVVVhCVk9WZDRaMHR
  ITFMwMk1Wa3lSSFpIYQogIGxOeFYySnJWVVpsY25SUUxWSlFkVWhoWTNkSkNpQWdM
  VFF0UkZWVVJHbG9NM1J2VVRZelZXcG9XWEpRUWt0CiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQU01LUpJQTctRFNTMi1IWFhCLTY
  zVEQtUkRTNS1VNFhOIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJQb1MyU1VQ
  RG9HWmVLTTR6d2puTkRVMXVySG85QmZxUXFoSndJM3hxaUFLSE1vTUN4CiAgU0JKL
  UtNYXJna3NvellWWmE1UWNaRzhqd1lBOF94ZEFMamZ4bDBFOUU4U3RjNEdhajZYa3
  ZlM3g3TEwyMUEKICByWXRJRXJtcnpDQWRMUTFrNnVyaVFrVkxCYUtEYzl3Z1NFM2p
  HYkN3QSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJqeG00dS0wLW5wV2VN
  MjhhUHFyVEViM2R2eWM0dERwbWpkRE9YQ0hKOTNsYlgKICBRdkJBQnAyX2gtU0FPR
  0NBWGl6aU9FTXZMOEQzd2J5M1BhaHF0d2hNZyJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJFdEVrZjA1d211cUQ2VzFpWXM1NnVBIiwKICAgICJQaW5JZCI6ICJBRDZFLVM
  3T0MtWFRRSy02SVFZLVBDRTItRkVPQi1DN1U1IiwKICAgICJQaW5XaXRuZXNzIjog
  IlJlSjJPTVVDVFp3R1VfTTBCb0paMWNUaU8yamN4dFZiR2dQR0NoVlhkSFY5OUJTO
  QogIHZjMGdLcWlkQ0VsU1BrT1BzWm0yN2F3UTc5bk9NcmxTYzdmdE5nIiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ],
    "ServerNonce":"gIZfNvOdcsvB0Q2RwLlrJA",
    "Witness":"AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS"}}
~~~~

The AcknowledgeConnection message is appended to the Inbound spool of the account
to which connection was requested so that the user can approve the request. The
ConnectResponse message is returned to the device containing the AcknowledgeConnection 
message and the profile of the account.


~~~~
{
  "ConnectResponse":{
    "Status":201,
    "StatusDescription":"Operation completed successfully",
    "EnvelopedAcknowledgeConnection":[{
        "EnvelopeId":"MBT3-M67K-2YWI-II5P-FXOK-BDYP-LOP4",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJBSUxILVVNSFAtTl
  M3Uy1DUzVYLVRPRUstUlIzQy1XWUJTIiwKICAiTWVzc2FnZVR5cGUiOiAiQWNrbm9
  3bGVkZ2VDb25uZWN0aW9uIiwKICAiY3R5IjogImFwcGxpY2F0aW9uL21tbS9vYmpl
  Y3QiLAogICJDcmVhdGVkIjogIjIwMjEtMDktMTdUMTM6MDg6NDZaIn0",
        "SequenceInfo":{
          "Index":6,
          "TreePosition":11822},
        "Received":"2021-09-17T13:08:46Z"},
      "ewogICJBY2tub3dsZWRnZUNvbm5lY3Rpb24iOiB7CiAgICAiTWVzc2FnZU
  lkIjogIkFJTEgtVU1IUC1OUzdTLUNTNVgtVE9FSy1SUjNDLVdZQlMiLAogICAgIkV
  udmVsb3BlZFJlcXVlc3RDb25uZWN0aW9uIjogW3sKICAgICAgICAiRW52ZWxvcGVJ
  ZCI6ICJNQ1dQLTU0QVotUlBIRS1XVVc2LUNYSFAtV0dLVi0yU1lCIiwKICAgICAgI
  CAiQ29udGVudE1ldGFEYXRhIjogImV3b2dJQ0pWYm1seGRXVkpaQ0k2SUNKT1F6Tk
  1MVE5ZVERZdFNGRXlXUzEKICBJVEU1VkxWZzBOa2d0VmxKUlJTMVJUa2hCSWl3S0l
  DQWlUV1Z6YzJGblpWUjVjR1VpT2lBaVVtVnhkV1Z6ZAogIEVOdmJtNWxZM1JwYjI0
  aUxBb2dJQ0pqZEhraU9pQWlZWEJ3YkdsallYUnBiMjR2YlcxdEwyOWlhbVZqZENJC
  iAgc0NpQWdJa055WldGMFpXUWlPaUFpTWpBeU1TMHdPUzB4TjFReE16b3dPRG8wTm
  xvaWZRIn0sCiAgICAgICJld29nSUNKU1pYRjFaWE4wUTI5dWJtVmpkR2x2YmlJNkl
  Ic0tJQ0FnSUNKCiAgTlpYTnpZV2RsU1dRaU9pQWlUa016VEMweldFdzJMVWhSTWxr
  dFNFeE9WUzFZTkRaSUxWWlNVVVV0VVU1SVEKICBTSXNDaUFnSUNBaVFYVjBhR1Z1Z
  EdsallYUmxaRVJoZEdFaU9pQmJld29nSUNBZ0lDQWdJQ0pGYm5abGJHOQogIHdaVW
  xrSWpvZ0lrMUJUVFV0U2tsQk55MUVVMU15TFVoWVdFSXROak5VUkMxU1JGTTFMVlU
  wV0U0aUxBb2dJCiAgQ0FnSUNBZ0lDSmthV2NpT2lBaVV6VXhNaUlzQ2lBZ0lDQWdJ
  Q0FnSWtOdmJuUmxiblJOWlhSaFJHRjBZU0kKICA2SUNKbGQyOW5TVU5LVm1KdGJIa
  GtWMVpLV2tOSk5rbERTazVSVlRBeFRGVndTbEZVWTNSU1JrNVVUV2t4QwogIGlBZ1
  NWZEdhRU5NVkZsNlZrVlJkRlZyVWxST1V6RldUa1pvVDBscGQwdEpRMEZwVkZkV2V
  tTXlSbTVhVmxJCiAgMVkwZFZhVTlwUVdsVlNFcDJXbTFzYzFvS0lDQlZVbXhrYld4
  cVdsTkpjME5wUVdkSmJVNHdaVk5KTmtsRFMKICBtaGpTRUp6WVZkT2FHUkhiSFppY
  VRsMFlsY3dkbUl5U25GYVYwNHdTV2wzUzBsRFFRb2dJR2xSTTBwc1dWaAogIFNiRn
  BEU1RaSlEwbDVUVVJKZUV4VVFUVk1WRVV6VmtSRmVrOXFRVFJQYWxFeVYybEtPU0o
  5TEFvZ0lDQWdJCiAgQ0FpWlhkdlowbERTbEZqYlRsdFlWZDRiRkpIVmpKaFYwNXNT
  V3B2WjJWM2IyZEpRMEZuU1d4Q2VXSXlXZ28KICBnSUhCaVIxWlVZVmRrZFZsWVVqR
  mpiVlZwVDJsQ04wTnBRV2RKUTBGblNVTktWbHBIV1dsUGFVRnBWRlZHVAogIGs1VE
  1VdFRWVVV6VEZWU1ZGVjZTWFJUQ2lBZ1JtaFpVV2t3TWsweFVrVk1Wa3BGVlhwVmR
  GWlVVbGxVYVVsCiAgelEybEJaMGxEUVdkSlEwcFJaRmRLYzJGWFRsRlpXRXBvWWxk
  V01GcFlTbnBKYW04S0lDQm5aWGR2WjBsRFEKICBXZEpRMEZuU1VOS1VXUlhTbk5oV
  jA1TVdsaHNSbEV3VWtsSmFtOW5aWGR2WjBsRFFXZEpRMEZuU1VOQlowbAogIHRUbm
  xrYVVrMlNRb2dJRU5LUmxwRVVUQlBRMGx6UTJsQlowbERRV2RKUTBGblNVTkJhVlZ
  JVm1saVIyeHFTCiAgV3B2WjBscVdrVk5NamswV1cxck1FNVlWbFJPZWtKNlpHMXpD
  aUFnZWt4V1RUSlBSekEwVkdzMU1WVkdVbmQKICBYVjNoTVl6QndTbGRIUmpSYWJrS
  k5XVEpyTldWc1JrTmFhVEZTVjBWVlMwbERRa05XVjBaS1lWaFdZV01LSQogIENBeF
  JuSlViRGxQVFRJMWRFOVhTbFJUVjFwUVpEQkZhV1pZTVRsTVFXOW5TVU5CWjBsclZ
  uVlpNMG8xWTBoCiAgU2NHSXlOR2xQYVVJM1EybEJaMGxEUVFvZ0lHZEpRMHBXV2tk
  WmFVOXBRV2xVVlZGNVZHa3hZVlpHVVRGTVYKICBXOHhWMnRaZEZWc1VsUlRRekZDV
  kZWVk0weFZjRk5TTVZWMFYydGtTVmRwU1hORENpQWdhVUZuU1VOQlowbAogIERTbE
  ZrVjBwellWZE9VVmxZU21oaVYxWXdXbGhLZWtscWIyZGxkMjluU1VOQlowbERRV2R
  KUTBwUlpGZEtjCiAgMkZYVGt4YVdHd0tJQ0JHVVRCU1NVbHFiMmRsZDI5blNVTkJa
  MGxEUVdkSlEwRm5TVzFPZVdScFNUWkpRMHAKICBaVGtSUk5FbHBkMHRKUTBGblNVT
  kJaMGxEUVdkSlEwcFJaQW9nSUZkS2MyRlhUV2xQYVVGcFRGWk9iMVZETQogIFdsT0
  0yUlNVVmRzVlUxSVVrNU5SRVV5VWtoak5WUklTalZWUms1cVZVVktNMDE2WkhOUk1
  EaDBUbFpvQ2lBCiAgZ1MxUXlWVEpSVm14Q1pVY3hjbFZXUWs1VFoyOW5TVWRvZEUx
  dVpHMWtRekZGVFVWYVFrMXFRbXhUU0UwelUKICBrVkdlbUpGVmpOUlUwbzVabGd3Y
  zBNS0lDQnBRV2RKUTBGcFZUSnNibUp0UmpCa1dFcHNTV3B2WjJWM2IyZAogIEpRME
  ZuU1VOQmFWWlhVbTFKYW05blNXc3hRMVpFVFhSU2JHeERUa014VWxGVk1Rb2dJRmR
  NVlU1RlZXcFpkCiAgRkZyTlZOV1F6RlRVVlpOTWt4VmRFZFZlbGxwVEVGdlowbERR
  V2RKUTBGcFZVaFdhV0pIYkdwVlIwWjVXVmMKICB4YkdSSFZubGpDaUFnZVVrMlNVa
  HpTMGxEUVdkSlEwRm5TVU5CYVZWSVZtbGlSMnhxVXpKV05WSlZUa1ZUUQogIDBrMl
  NVaHpTMGxEUVdkSlEwRm5TVU5CWjBsRFNtcGpibGtLSUNCcFQybEJhVkpYVVRCT1J
  HZHBURUZ2WjBsCiAgRFFXZEpRMEZuU1VOQlowbHNRakZaYlhod1dYbEpOa2xEU2tK
  alJtdzBWbTVTVUZWVmVEVmFWM2hSVHdvZ0kKICBFZGthazVyZEVOaE1tUjJWbGMxV
  m1NeWJ6SlZNbHBvVXpOT00yVnVSbGxqTTJod1dESTBlVlZGVVhSVk1GbAogIDRVVz
  VhUlVOcFFXZGhSbFpHVkd0S0NpQWdTbFZxVWt0VlJ6azFWRzFLY0ZWcmFHaGlNRnB
  wVm01R1FrbHVNCiAgVGxtVTNkTFNVTkJaMGxEU2tKa1dGSnZXbGMxTUdGWFRtaGtS
  MngyWW1sSk5ra0tJQ0JJYzB0SlEwRm5TVU4KICBCWjBsc1ZtdGFhVWsyU1VOS1RsR
  ldZM2xNVmtKUFRXdGpkRkZXWTNsVWFURlNWa1ZvV1V4V2FGSlNWa2wwVgogIEZaR1
  NrMXBNQW9nSUhsVU1WSklTV2wzUzBsRFFXZEpRMEZuU1d4Q01WbHRlSEJaTVVKb1k
  yMUdkRnBZVW14CiAgamJrMXBUMmxDTjBOcFFXZEpRMEZuU1VOQlowbHNRakZaQ2lB
  Z2JYaHdXVEIwYkdWVlZrUlNSV2RwVDJsQ04KICAwTnBRV2RKUTBGblNVTkJaMGxEU
  VdsWk0wb3lTV3B2WjBsc1p6Qk9SR2RwVEVGdlowbERRV2RKUTBFS0lDQgogIG5TVU
  5CWjBsc1FqRlpiWGh3V1hsSk5rbERTbk5oTW1SUFZVYzFiVkpzUWxGWU1WcFZWVmh
  DVms5V1pEUmFNCiAgSFJJVEZNd01rMVdhM2xTU0ZwSVlRb2dJR3hPZUZZeVNuSldW
  VnBzWTI1U1VVeFdTbEZrVldob1dUTmtTa04KICBwUVdkTVZGRjBVa1pXVlZKSGJHO
  U5NMUoyVlZSWmVsWlhjRzlYV0VwUlVXdDBDaUFnUWtsdU1UbG1XREU1SQogIGl3S0
  lDQWdJQ0FnZXdvZ0lDQWdJQ0FnSUNKemFXZHVZWFIxY21Weklqb2dXM3NLSUNBZ0l
  DQWdJQ0FnSUNBCiAgZ0ltRnNaeUk2SUNKVE5URXlJaXdLSUNBZ0lDQWdJQ0FnSUNB
  Z0ltdHBaQ0k2SUNKTlFVMDFMVXBKUVRjdFIKICBGTlRNaTFJV0ZoQ0xUWXpWRVF0V
  WtSVE5TMVZORmhPSWl3S0lDQWdJQ0FnSUNBZ0lDQWdJbk5wWjI1aGRIVgogIHlaU0
  k2SUNKUWIxTXlVMVZRUkc5SFdtVkxUVFI2ZDJwdVRrUlZNWFZ5U0c4NVFtWnhVWEZ
  vU25kSk0zaHhhCiAgVUZMU0UxdlRVTjRDaUFnVTBKS0xVdE5ZWEpuYTNOdmVsbFdX
  bUUxVVdOYVJ6aHFkMWxCT0Y5NFpFRk1hbVoKICA0YkRCRk9VVTRVM1JqTkVkaGFqW
  llhM1psTTNnM1RFd3lNVUVLSUNCeVdYUkpSWEp0Y25wRFFXUk1VVEZyTgogIG5WeW
  FWRnJWa3hDWVV0RVl6bDNaMU5GTTJwSFlrTjNRU0o5WFN3S0lDQWdJQ0FnSUNBaVV
  HRjViRzloWkVSCiAgcFoyVnpkQ0k2SUNKcWVHMDBkUzB3TFc1d1YyVk5NamhoVUhG
  eVZFVmlNMlIyZVdNMGRFUndiV3BrUkU5WVEKICAwaEtPVE5zWWxnS0lDQlJka0pCU
  W5BeVgyZ3RVMEZQUjBOQldHbDZhVTlGVFhaTU9FUXpkMko1TTFCaGFIRgogIDBkMm
  hOWnlKOVhTd0tJQ0FnSUNKRGJHbGxiblJPYjI1alpTSTZJQ0pGZEVWclpqQTFkMjE
  xY1VRMlZ6RnBXCiAgWE0xTm5WQklpd0tJQ0FnSUNKUWFXNUpaQ0k2SUNKQlJEWkZM
  Vk0zVDBNdFdGUlJTeTAyU1ZGWkxWQkRSVEkKICB0UmtWUFFpMUROMVUxSWl3S0lDQ
  WdJQ0pRYVc1WGFYUnVaWE56SWpvZ0lsSmxTakpQVFZWRFZGcDNSMVZmVAogIFRCQ2
  IwcGFNV05VYVU4eWFtTjRkRlppUjJkUVIwTm9WbGhrU0ZZNU9VSlRPUW9nSUhaak1
  HZExjV2xrUTBWCiAgc1UxQnJUMUJ6V20weU4yRjNVVGM1Yms5TmNteFRZemRtZEU1
  bklpd0tJQ0FnSUNKQlkyTnZkVzUwUVdSa2MKICBtVnpjeUk2SUNKaGJHbGpaVUJsZ
  UdGdGNHeGxMbU52YlNKOWZRIl0sCiAgICAiU2VydmVyTm9uY2UiOiAiZ0laZk52T2
  Rjc3ZCMFEyUndMbHJKQSIsCiAgICAiV2l0bmVzcyI6ICJBSUxILVVNSFAtTlM3Uy1
  DUzVYLVRPRUstUlIzQy1XWUJTIn19",
      {}
      ],
    "EnvelopedProfileAccount":[{
        "EnvelopeId":"MC76-AK7P-CEKP-ILKC-MEXU-EOIF-I6BF",
        "dig":"S512",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJNQzc2LUFLN1AtQ0
  VLUC1JTEtDLU1FWFUtRU9JRi1JNkJGIiwKICAiTWVzc2FnZVR5cGUiOiAiUHJvZml
  sZVVzZXIiLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIsCiAgIkNy
  ZWF0ZWQiOiAiMjAyMS0wOS0xN1QxMzowODoyNloifQ"},
      "ewogICJQcm9maWxlVXNlciI6IHsKICAgICJQcm9maWxlU2lnbmF0dXJlIj
  ogewogICAgICAiVWRmIjogIk1DNzYtQUs3UC1DRUtQLUlMS0MtTUVYVS1FT0lGLUk
  2QkYiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGlj
  S2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgI
  lB1YmxpYyI6ICJicm1xS1VoWkJxRl9JZzNqR09OM3NvR1ZTU0UxTmFuYTU4TDYwMF
  NtUzltZkpwZG5IS2Q2CiAgUGFxRDY1WDJiMzFWTWNFNlA0aGpRa3NBIn19fSwKICA
  gICJBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSIsCiAgICAiU2Vy
  dmljZVVkZiI6ICJNQzZQLVYyQ00tU0FCVC1BSDVXLVZWTTQtQTVKTy1GWVNBIiwKI
  CAgICJBY2NvdW50RW5jcnlwdGlvbiI6IHsKICAgICAgIlVkZiI6ICJNQTI3LTdYVl
  ctR0RKTC1TWTZILTZIWlctRUtNQy1URkQzIiwKICAgICAgIlB1YmxpY1BhcmFtZXR
  lcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAiY3J2
  IjogIlg0NDgiLAogICAgICAgICAgIlB1YmxpYyI6ICJvd3lCa3AxSXZULXVjNFA0a
  WxKTy04Q0xMY0hMbVJEY3Y3NnUzQjNKcUxJRjd1M2RCTDdECiAgY3ZiNGNKeHN6Q2
  VzUklUak44Y0VMUGtBIn19fSwKICAgICJBZG1pbmlzdHJhdG9yU2lnbmF0dXJlIjo
  gewogICAgICAiVWRmIjogIk1CS1otMlZaVS1MRDJDLTIyQU8tRUdQNi01T01WLUwy
  N1IiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGljS
  2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgIl
  B1YmxpYyI6ICJZTkhRRFAwcUMzYnZKTHdZLXI3eGdYWVM3QUF6elk1N2wxYmhwa19
  mNmVTRTd5VFhwOXF1CiAgNkE1TXVPM3M5MHdwNzFVeUNNMUF3cXlBIn19fSwKICAg
  ICJBY2NvdW50QXV0aGVudGljYXRpb24iOiB7CiAgICAgICJVZGYiOiAiTUFCWS0zS
  EpYLVhKVVotNVhORy1PSFlYLTY1TEotREpVViIsCiAgICAgICJQdWJsaWNQYXJhbW
  V0ZXJzIjogewogICAgICAgICJQdWJsaWNLZXlFQ0RIIjogewogICAgICAgICAgImN
  ydiI6ICJYNDQ4IiwKICAgICAgICAgICJQdWJsaWMiOiAiTmx1WUVjNzNxYlZ5NnVx
  RVBCajl1bC1rU25TNmNzRHk5ZDgwTjRIdVpkV0xvMS1iWFBWVwogIGxlem5veWRna
  WNsWlpUMmlockxiekJHQSJ9fX0sCiAgICAiQWNjb3VudFNpZ25hdHVyZSI6IHsKIC
  AgICAgIlVkZiI6ICJNQVdNLTc3S0gtNUpCNS1aS0JELUJLWlgtQk0zNy1TRk1GIiw
  KICAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVD
  REgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQdWJsa
  WMiOiAicWZlTklVVGVEYTBtdFVNN0c4dk54bFYzMWZBYnhmRGtQdng2R1h1XzJpYz
  Z4NDdJbzU5NgogIHl5WVkxVVlNcTRlM3QtT25zZklUcFVRQSJ9fX19fQ",
      {
        "signatures":[{
            "alg":"S512",
            "kid":"MC76-AK7P-CEKP-ILKC-MEXU-EOIF-I6BF",
            "signature":"vdWB6lGS_14cl6fkhWq-IlngBh_Ai24Pkj2z4nGX
  aL8BFhXj-q3q021lbDph2ZNA_xfLkIz6B3WAlLynGR4ecX1wpcOc_OsMlA-Jyec_Z
  sBVPEPDsZSEpVTeSJptHqr-MPp-J7qidQB8YDfLOiqKzQIA"}
          ],
        "PayloadDigest":"6zcAXWEZ6iQp9fAAzJUSaS6oX9qpaGaJB6vvYp1-
  rwbh0rf9-G-uEzGxUF38JcTBw1HFl99ZBvxIuK8lPaoSsw"}
      ]}}
~~~~


The device generates the witness value and presents it to the user as shown above.

### Phase 3:

The user synchronizes their pending messages:


~~~~
<div="terminal">
<cmd>Alice> message pending
<rsp>MessageID: AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS
        Connection Request::
        MessageID: AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS
        To:  From: 
        Device:  MAM5-JIA7-DSS2-HXXB-63TD-RDS5-U4XN
        Witness: AILH-UMHP-NS7S-CS5X-TOEK-RR3C-WYBS
MessageID: NDRJ-MUA4-ZHUD-3PHK-MLJJ-EPLX-46FD
        Group invitation::
        MessageID: NDRJ-MUA4-ZHUD-3PHK-MLJJ-EPLX-46FD
        To: alice@example.com From: alice@example.com
MessageID: NA4W-P4SA-YCM2-VPZO-NGVS-MKNS-S7VM
        Confirmation Request::
        MessageID: NA4W-P4SA-YCM2-VPZO-NGVS-MKNS-S7VM
        To: alice@example.com From: console@example.com
        Text: start
MessageID: NDUB-2UQF-ABWX-FVM3-5BX6-XFEG-WNEB
        Contact Request::
        MessageID: NDUB-2UQF-ABWX-FVM3-5BX6-XFEG-WNEB
        To: alice@example.com From: bob@example.com
        PIN: ADTM-XGIY-KTVA-CXXP-T64M-NUXC-A2OQ
<cmd>Alice> account sync /auto
<rsp>ERROR - An attempt was made to create an object with an existing obje
ct identifier
</div>
~~~~

The administration device determines that the device connection request is authenticated
by a PIN code. The PIN code is retrieved and the message authenticated. This is shown in
the PIN registration interation example in section $$$ above.


The Cataloged device record is created from the public key values corresponding to the
combination of the public keys in the device profile and those defined by the activation:


The ActivationDevice and CatalogedDevice records are ???


### Phase 4

The device periodically polls for completion of the connection request using the
Complete transaction.

To provide a final check on the process, the command line tool presents the UDF of 
the account profile to which the device has connected if successful:


~~~~
<div="terminal">
<cmd>Alice3> device complete
<rsp>   Device UDF = MAM5-JIA7-DSS2-HXXB-63TD-RDS5-U4XN
   Account = alice@example.com
   Account UDF = MC76-AK7P-CEKP-ILKC-MEXU-EOIF-I6BF
<cmd>Alice3> account sync
</div>
~~~~

The completion request specified the device requesting completion:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MDW6-33OF-Z3NV-GCFK-KTD3-SSYM-DFA5"}}
~~~~


The response contains the information the device requires to complete the connection
to the mesh:


~~~~
{
  "CompleteRequest":{
    "AccountAddress":"alice@example.com",
    "ResponseID":"MDW6-33OF-Z3NV-GCFK-KTD3-SSYM-DFA5"}}
~~~~



