

### Phase 1:


~~~~
<div="terminal">
<cmd>Alice> account pin
<rsp>PIN=AAG5-W46I-6ZU6-TSRM-CY
 (Expires=2021-04-10T18:13:14Z)
</div>
~~~~

The registration of this PIN value was shown earlier in section $$$

The URI containing the account address and PIN is:

~~~~
mcu://alice@example.com/AAG5-W46I-6ZU6-TSRM-CY
~~~~

### Phase 2:

The onboarding device scans the QR code to obtain the account address and PIN code.
The PIN code is used to authenticate a connection request:


~~~~
<div="terminal">
<cmd>Alice3> device request alice@example.com /pin AAG5-W46I-6ZU6-TSRM-CY
<rsp>   Device UDF = MAKM-BWNG-RIHB-KQPM-EBDO-4FE4-2TIK
   Witness value = G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2
</div>
~~~~

The device issues a connection request to the service corresponding to the account. 
This specifies the device profile, the account to which the device is to be 
connected and the client nonce value:


~~~~
{
  "ConnectRequest":{
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MAUE-CG2J-F7XV-OM6U-VBPC-TJN7-J5GA",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQjVTLVg0VlItV0
  JGWi1RNlFPLVdUTkUtS0ZMVi1VVkRTIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wNC0wOVQxODoxMzoxNFoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkI1Uy1YNFZSLVdCRlotUTZRTy1XVE5FLUtGTFYtVVZEUyIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1BS00tQldO
  Ry1SSUhCLUtRUE0tRUJETy00RkU0LTJUSUsiLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RVXROTFVKWFRrY3RVa2xJUWkxCiAgTFVWQk5MVVZDUkU4dE5FWkZOQzB
  5VkVsTElpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTBMVEE1VkRFNE9qRX
  pPakUwV2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVGTFRTMUNWMDVITFZKSlNFSXRTCiAgMUZRVFMxRlFrUlBMVFJHU
  lRRdE1sUkpTeUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lsSjBjV3BMWDBGeVVFRjZOM1ZRUWpnCiAgd2JXWTBNbTQ1U2w5ME4za
  zVNVmczZEVjd2VYbGpiSGQ2VlVSclZURkdVMlZuZWt3S0lDQnRNVGRsVFRFNFIKIC
  BtOUpjbGRWVWxaSVdFSXdiakpOVjBFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVUpIUlMxQ1NGVlZMVkpKUkVj
  dFNsWkxSUzFhUTFBMkxUVlBSRmN0UXpSUFVpSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpYzJsSGIzSnVRbGhTV25SWGEwMDVW
  REpuVHpOVFNtRk5RMFJ0Y1haQlYwVjRiRUZuTFc1CiAgb1NEaHdORFJ6YlVkb1ZqV
  mtZZ29nSURaV1NtTlJNMUpmU0Y5WFluZG5YM056UzB0Zk5tUnpRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxQlV
  VZ3RUbFpOU2kxR01saAogIERMVmRHVjBFdE1sWkxSeTFNUWtvM0xUWklRVWNpTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSnFYMDl
  JWkZSa1dYTXpWMUl0TQogIEVWR1N6QnJVblY2VFRGVUxXZEhhbU0wZVhwcWVUQmFP
  R001WTB0cWNtOVFPV1ExV1ZscUNpQWdiV3RsZEhFCiAgNFl6ZFVhMkk1VFRaRExUZ
  FVORGN0TFhkQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlFVWlVMVTFNTjBrdFEweEpTQzFVVFVaVkx
  UTkpSMGN0TkROU1JDMQogIERValUzSWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSjRlbWRLYWxWb2JVMXdUM00zWTNGMGJIcHFNVE5
  YT0VaQk5tWmZjbk5tVgogIGpkcGFsOTBTelJWZDNKalJGa3RhM1U0WlVKbUNpQWdl
  bFJLZDFsWlZqVlhORkZXT1hjNE9VSnlPWEpCYkc5CiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQUtNLUJXTkctUklIQi1LUVBNLUV
  CRE8tNEZFNC0yVElLIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJJcHFNM1A3
  aDNIWUhTZlNFTlNmbE1tamhycnh6X0RPbG1YM0ZpdzdfaGdfQWFOMC1jCiAgbnVZM
  VZ5bThXT2d3Z2llSWZsM0NsTnBoZ0dBQ2dOb0FSOGpxdGMzd1VJT2w4cW45ZGNrMk
  tBNG1HaVFxR2UKICBxajI1Q3BFTUdCZ01VMlRGZVJZb0UtMFZzN0NPdjdUREdVRWN
  RLUJrQSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJQQW9TMlFCUDZUYjRh
  WTRLczdhd0x2aGxacnpqMUpJbEkyOURwdTJadkJqay0KICBJZFl5Um41N3RoMUVhY
  nZ0ZWRWXzE0TGtYTjdUMjBHZTZSLWphRUt4dyJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJfOEFibXZEZUw1UWMyMFBZaVFMcWV3IiwKICAgICJQaW5JZCI6ICJBQldOLTZ
  JWEctUTdHSS1RTFNRLUlTUkMtT1lITS1BQVpWIiwKICAgICJQaW5XaXRuZXNzIjog
  ImRnVnRLdU9kSVFzZEZBNFo2Tm9fTzFEbzdqcGpYWEs1ZVl1bURhZVJ5cmh5NUY1e
  gogIHAwcDQ4OUIwcU9PLXgyZFEtUVdaWEtCc1E3cW81ZXBOMzRiWjlnIiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ]}}
~~~~


The service generates the service nonce value and uses it to create the 
AcknowledgeConnection message.

~~~~
{
  "AcknowledgeConnection":{
    "MessageId":"G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2",
    "EnvelopedRequestConnection":[{
        "EnvelopeId":"MAUE-CG2J-F7XV-OM6U-VBPC-TJN7-J5GA",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJOQjVTLVg0VlItV0
  JGWi1RNlFPLVdUTkUtS0ZMVi1VVkRTIiwKICAiTWVzc2FnZVR5cGUiOiAiUmVxdWV
  zdENvbm5lY3Rpb24iLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIs
  CiAgIkNyZWF0ZWQiOiAiMjAyMS0wNC0wOVQxODoxMzoxNFoifQ"},
      "ewogICJSZXF1ZXN0Q29ubmVjdGlvbiI6IHsKICAgICJNZXNzYWdlSWQiOi
  AiTkI1Uy1YNFZSLVdCRlotUTZRTy1XVE5FLUtGTFYtVVZEUyIsCiAgICAiQXV0aGV
  udGljYXRlZERhdGEiOiBbewogICAgICAgICJFbnZlbG9wZUlkIjogIk1BS00tQldO
  Ry1SSUhCLUtRUE0tRUJETy00RkU0LTJUSUsiLAogICAgICAgICJkaWciOiAiUzUxM
  iIsCiAgICAgICAgIkNvbnRlbnRNZXRhRGF0YSI6ICJld29nSUNKVmJtbHhkV1ZKWk
  NJNklDSk5RVXROTFVKWFRrY3RVa2xJUWkxCiAgTFVWQk5MVVZDUkU4dE5FWkZOQzB
  5VkVsTElpd0tJQ0FpVFdWemMyRm5aVlI1Y0dVaU9pQWlVSEp2Wm1sc1oKICBVUmxk
  bWxqWlNJc0NpQWdJbU4wZVNJNklDSmhjSEJzYVdOaGRHbHZiaTl0YlcwdmIySnFaV
  04wSWl3S0lDQQogIGlRM0psWVhSbFpDSTZJQ0l5TURJeExUQTBMVEE1VkRFNE9qRX
  pPakUwV2lKOSJ9LAogICAgICAiZXdvZ0lDSlFjbTltYVd4bFJHVjJhV05sSWpvZ2V
  3b2dJQ0FnSWxCeWIyWgogIHBiR1ZUYVdkdVlYUjFjbVVpT2lCN0NpQWdJQ0FnSUNK
  VlpHWWlPaUFpVFVGTFRTMUNWMDVITFZKSlNFSXRTCiAgMUZRVFMxRlFrUlBMVFJHU
  lRRdE1sUkpTeUlzQ2lBZ0lDQWdJQ0pRZFdKc2FXTlFZWEpoYldWMFpYSnpJam8KIC
  BnZXdvZ0lDQWdJQ0FnSUNKUWRXSnNhV05MWlhsRlEwUklJam9nZXdvZ0lDQWdJQ0F
  nSUNBZ0ltTnlkaUk2SQogIENKRlpEUTBPQ0lzQ2lBZ0lDQWdJQ0FnSUNBaVVIVmli
  R2xqSWpvZ0lsSjBjV3BMWDBGeVVFRjZOM1ZRUWpnCiAgd2JXWTBNbTQ1U2w5ME4za
  zVNVmczZEVjd2VYbGpiSGQ2VlVSclZURkdVMlZuZWt3S0lDQnRNVGRsVFRFNFIKIC
  BtOUpjbGRWVWxaSVdFSXdiakpOVjBFaWZYMTlMQW9nSUNBZ0lrVnVZM0o1Y0hScGI
  yNGlPaUI3Q2lBZ0lDQQogIGdJQ0pWWkdZaU9pQWlUVUpIUlMxQ1NGVlZMVkpKUkVj
  dFNsWkxSUzFhUTFBMkxUVlBSRmN0UXpSUFVpSXNDCiAgaUFnSUNBZ0lDSlFkV0pzY
  VdOUVlYSmhiV1YwWlhKeklqb2dld29nSUNBZ0lDQWdJQ0pRZFdKc2FXTkxaWGwKIC
  BGUTBSSUlqb2dld29nSUNBZ0lDQWdJQ0FnSW1OeWRpSTZJQ0pZTkRRNElpd0tJQ0F
  nSUNBZ0lDQWdJQ0pRZAogIFdKc2FXTWlPaUFpYzJsSGIzSnVRbGhTV25SWGEwMDVW
  REpuVHpOVFNtRk5RMFJ0Y1haQlYwVjRiRUZuTFc1CiAgb1NEaHdORFJ6YlVkb1ZqV
  mtZZ29nSURaV1NtTlJNMUpmU0Y5WFluZG5YM056UzB0Zk5tUnpRU0o5Zlgwc0MKIC
  BpQWdJQ0FpVTJsbmJtRjBkWEpsSWpvZ2V3b2dJQ0FnSUNBaVZXUm1Jam9nSWsxQlV
  VZ3RUbFpOU2kxR01saAogIERMVmRHVjBFdE1sWkxSeTFNUWtvM0xUWklRVWNpTEFv
  Z0lDQWdJQ0FpVUhWaWJHbGpVR0Z5WVcxbGRHVnljCiAgeUk2SUhzS0lDQWdJQ0FnS
  UNBaVVIVmliR2xqUzJWNVJVTkVTQ0k2SUhzS0lDQWdJQ0FnSUNBZ0lDSmpjblkKIC
  BpT2lBaVJXUTBORGdpTEFvZ0lDQWdJQ0FnSUNBZ0lsQjFZbXhwWXlJNklDSnFYMDl
  JWkZSa1dYTXpWMUl0TQogIEVWR1N6QnJVblY2VFRGVUxXZEhhbU0wZVhwcWVUQmFP
  R001WTB0cWNtOVFPV1ExV1ZscUNpQWdiV3RsZEhFCiAgNFl6ZFVhMkk1VFRaRExUZ
  FVORGN0TFhkQkluMTlmU3dLSUNBZ0lDSkJkWFJvWlc1MGFXTmhkR2x2YmlJNkkKIC
  BIc0tJQ0FnSUNBZ0lsVmtaaUk2SUNKTlFVWlVMVTFNTjBrdFEweEpTQzFVVFVaVkx
  UTkpSMGN0TkROU1JDMQogIERValUzSWl3S0lDQWdJQ0FnSWxCMVlteHBZMUJoY21G
  dFpYUmxjbk1pT2lCN0NpQWdJQ0FnSUNBZ0lsQjFZCiAgbXhwWTB0bGVVVkRSRWdpT
  2lCN0NpQWdJQ0FnSUNBZ0lDQWlZM0oySWpvZ0lsZzBORGdpTEFvZ0lDQWdJQ0EKIC
  BnSUNBZ0lsQjFZbXhwWXlJNklDSjRlbWRLYWxWb2JVMXdUM00zWTNGMGJIcHFNVE5
  YT0VaQk5tWmZjbk5tVgogIGpkcGFsOTBTelJWZDNKalJGa3RhM1U0WlVKbUNpQWdl
  bFJLZDFsWlZqVlhORkZXT1hjNE9VSnlPWEpCYkc5CiAgQkluMTlmWDE5IiwKICAgI
  CAgewogICAgICAgICJzaWduYXR1cmVzIjogW3sKICAgICAgICAgICAgImFsZyI6IC
  JTNTEyIiwKICAgICAgICAgICAgImtpZCI6ICJNQUtNLUJXTkctUklIQi1LUVBNLUV
  CRE8tNEZFNC0yVElLIiwKICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJJcHFNM1A3
  aDNIWUhTZlNFTlNmbE1tamhycnh6X0RPbG1YM0ZpdzdfaGdfQWFOMC1jCiAgbnVZM
  VZ5bThXT2d3Z2llSWZsM0NsTnBoZ0dBQ2dOb0FSOGpxdGMzd1VJT2w4cW45ZGNrMk
  tBNG1HaVFxR2UKICBxajI1Q3BFTUdCZ01VMlRGZVJZb0UtMFZzN0NPdjdUREdVRWN
  RLUJrQSJ9XSwKICAgICAgICAiUGF5bG9hZERpZ2VzdCI6ICJQQW9TMlFCUDZUYjRh
  WTRLczdhd0x2aGxacnpqMUpJbEkyOURwdTJadkJqay0KICBJZFl5Um41N3RoMUVhY
  nZ0ZWRWXzE0TGtYTjdUMjBHZTZSLWphRUt4dyJ9XSwKICAgICJDbGllbnROb25jZS
  I6ICJfOEFibXZEZUw1UWMyMFBZaVFMcWV3IiwKICAgICJQaW5JZCI6ICJBQldOLTZ
  JWEctUTdHSS1RTFNRLUlTUkMtT1lITS1BQVpWIiwKICAgICJQaW5XaXRuZXNzIjog
  ImRnVnRLdU9kSVFzZEZBNFo2Tm9fTzFEbzdqcGpYWEs1ZVl1bURhZVJ5cmh5NUY1e
  gogIHAwcDQ4OUIwcU9PLXgyZFEtUVdaWEtCc1E3cW81ZXBOMzRiWjlnIiwKICAgIC
  JBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSJ9fQ"
      ],
    "ServerNonce":"4s-HJ4W0AVAZ9jJJSGo3sQ",
    "Witness":"G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2"}}
~~~~

The AcknowledgeConnection message is appended to the Inbound spool of the account
to which connection was requested so that the user can approve the request. The
ConnectResponse message is returned to the device containing the AcknowledgeConnection 
message and the profile of the account.


~~~~
{
  "ConnectResponse":{
    "Status":201,
    "StatusDescription":"Operation completed successfully",
    "EnvelopedAcknowledgeConnection":[{
        "EnvelopeId":"MCX5-YIH3-T4FO-RWOP-UQA5-6BWO-PWA6",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJHNk1XLVpBTzctNT
  YzQS1XS0RBLTROUUotTFBPQS1QVVoyIiwKICAiTWVzc2FnZVR5cGUiOiAiQWNrbm9
  3bGVkZ2VDb25uZWN0aW9uIiwKICAiY3R5IjogImFwcGxpY2F0aW9uL21tbS9vYmpl
  Y3QiLAogICJDcmVhdGVkIjogIjIwMjEtMDQtMDlUMTg6MTM6MTRaIn0",
        "SequenceInfo":{
          "Index":6,
          "TreePosition":11822},
        "Received":"2021-04-09T18:13:14Z"},
      "ewogICJBY2tub3dsZWRnZUNvbm5lY3Rpb24iOiB7CiAgICAiTWVzc2FnZU
  lkIjogIkc2TVctWkFPNy01NjNBLVdLREEtNE5RSi1MUE9BLVBVWjIiLAogICAgIkV
  udmVsb3BlZFJlcXVlc3RDb25uZWN0aW9uIjogW3sKICAgICAgICAiRW52ZWxvcGVJ
  ZCI6ICJNQVVFLUNHMkotRjdYVi1PTTZVLVZCUEMtVEpONy1KNUdBIiwKICAgICAgI
  CAiQ29udGVudE1ldGFEYXRhIjogImV3b2dJQ0pWYm1seGRXVkpaQ0k2SUNKT1FqVl
  RMVmcwVmxJdFYwSkdXaTEKICBSTmxGUExWZFVUa1V0UzBaTVZpMVZWa1JUSWl3S0l
  DQWlUV1Z6YzJGblpWUjVjR1VpT2lBaVVtVnhkV1Z6ZAogIEVOdmJtNWxZM1JwYjI0
  aUxBb2dJQ0pqZEhraU9pQWlZWEJ3YkdsallYUnBiMjR2YlcxdEwyOWlhbVZqZENJC
  iAgc0NpQWdJa055WldGMFpXUWlPaUFpTWpBeU1TMHdOQzB3T1ZReE9Eb3hNem94Tk
  ZvaWZRIn0sCiAgICAgICJld29nSUNKU1pYRjFaWE4wUTI5dWJtVmpkR2x2YmlJNkl
  Ic0tJQ0FnSUNKCiAgTlpYTnpZV2RsU1dRaU9pQWlUa0kxVXkxWU5GWlNMVmRDUmxv
  dFVUWlJUeTFYVkU1RkxVdEdURll0VlZaRVUKICB5SXNDaUFnSUNBaVFYVjBhR1Z1Z
  EdsallYUmxaRVJoZEdFaU9pQmJld29nSUNBZ0lDQWdJQ0pGYm5abGJHOQogIHdaVW
  xrSWpvZ0lrMUJTMDB0UWxkT1J5MVNTVWhDTFV0UlVFMHRSVUpFVHkwMFJrVTBMVEp
  VU1VzaUxBb2dJCiAgQ0FnSUNBZ0lDSmthV2NpT2lBaVV6VXhNaUlzQ2lBZ0lDQWdJ
  Q0FnSWtOdmJuUmxiblJOWlhSaFJHRjBZU0kKICA2SUNKbGQyOW5TVU5LVm1KdGJIa
  GtWMVpLV2tOSk5rbERTazVSVlhST1RGVktXRlJyWTNSVmEyeEpVV2t4QwogIGlBZ1
  RGVldRazVNVlZaRFVrVTRkRTVGV2taT1F6QjVWa1ZzVEVscGQwdEpRMEZwVkZkV2V
  tTXlSbTVhVmxJCiAgMVkwZFZhVTlwUVdsVlNFcDJXbTFzYzFvS0lDQlZVbXhrYld4
  cVdsTkpjME5wUVdkSmJVNHdaVk5KTmtsRFMKICBtaGpTRUp6WVZkT2FHUkhiSFppY
  VRsMFlsY3dkbUl5U25GYVYwNHdTV2wzUzBsRFFRb2dJR2xSTTBwc1dWaAogIFNiRn
  BEU1RaSlEwbDVUVVJKZUV4VVFUQk1WRUUxVmtSRk5FOXFSWHBQYWtVd1YybEtPU0o
  5TEFvZ0lDQWdJCiAgQ0FpWlhkdlowbERTbEZqYlRsdFlWZDRiRkpIVmpKaFYwNXNT
  V3B2WjJWM2IyZEpRMEZuU1d4Q2VXSXlXZ28KICBnSUhCaVIxWlVZVmRrZFZsWVVqR
  mpiVlZwVDJsQ04wTnBRV2RKUTBGblNVTktWbHBIV1dsUGFVRnBWRlZHVAogIEZSVE
  1VTldNRFZJVEZaS1NsTkZTWFJUQ2lBZ01VWlJWRk14UmxGclVsQk1WRkpIVWxSUmR
  FMXNVa3BUZVVsCiAgelEybEJaMGxEUVdkSlEwcFJaRmRLYzJGWFRsRlpXRXBvWWxk
  V01GcFlTbnBKYW04S0lDQm5aWGR2WjBsRFEKICBXZEpRMEZuU1VOS1VXUlhTbk5oV
  jA1TVdsaHNSbEV3VWtsSmFtOW5aWGR2WjBsRFFXZEpRMEZuU1VOQlowbAogIHRUbm
  xrYVVrMlNRb2dJRU5LUmxwRVVUQlBRMGx6UTJsQlowbERRV2RKUTBGblNVTkJhVlZ
  JVm1saVIyeHFTCiAgV3B2WjBsc1NqQmpWM0JNV0RCR2VWVkZSalpPTTFaUlVXcG5D
  aUFnZDJKWFdUQk5iVFExVTJ3NU1FNHphelYKICBOVm1jelpFVmpkMlZZYkdwaVNHU
  TJWbFZTY2xaVVJrZFZNbFp1Wld0M1MwbERRblJOVkdSc1ZGUkZORklLSQogIENCdE
  9VcGpiR1JXVld4YVNWZEZTWGRpYWtwT1ZqQkZhV1pZTVRsTVFXOW5TVU5CWjBsclZ
  uVlpNMG8xWTBoCiAgU2NHSXlOR2xQYVVJM1EybEJaMGxEUVFvZ0lHZEpRMHBXV2tk
  WmFVOXBRV2xVVlVwSVVsTXhRMU5HVmxaTVYKICBrcEtVa1ZqZEZOc1dreFNVekZoV
  VRGQk1reFVWbEJTUm1OMFVYcFNVRlZwU1hORENpQWdhVUZuU1VOQlowbAogIERTbE
  ZrVjBwellWZE9VVmxZU21oaVYxWXdXbGhLZWtscWIyZGxkMjluU1VOQlowbERRV2R
  KUTBwUlpGZEtjCiAgMkZYVGt4YVdHd0tJQ0JHVVRCU1NVbHFiMmRsZDI5blNVTkJa
  MGxEUVdkSlEwRm5TVzFPZVdScFNUWkpRMHAKICBaVGtSUk5FbHBkMHRKUTBGblNVT
  kJaMGxEUVdkSlEwcFJaQW9nSUZkS2MyRlhUV2xQYVVGcFl6SnNTR0l6UwogIG5WUm
  JHaFRWMjVTV0dFd01EVldSRXB1VkhwT1ZGTnRSazVSTUZKMFkxaGFRbFl3VmpSaVJ
  VWnVURmMxQ2lBCiAgZ2IxTkVhSGRPUkZKNllsVmtiMVpxVm10WloyOW5TVVJhVjFO
  dFRsSk5NVXBtVTBZNVdGbHVaRzVZTTA1NlUKICB6QjBaazV0VW5wUlUwbzVabGd3Y
  zBNS0lDQnBRV2RKUTBGcFZUSnNibUp0UmpCa1dFcHNTV3B2WjJWM2IyZAogIEpRME
  ZuU1VOQmFWWlhVbTFKYW05blNXc3hRbFZWWjNSVWJGcE9VMmt4UjAxc2FBb2dJRVJ
  NVm1SSFZqQkZkCiAgRTFzV2t4U2VURk5VV3R2TTB4VVdrbFJWV05wVEVGdlowbERR
  V2RKUTBGcFZVaFdhV0pIYkdwVlIwWjVXVmMKICB4YkdSSFZubGpDaUFnZVVrMlNVa
  HpTMGxEUVdkSlEwRm5TVU5CYVZWSVZtbGlSMnhxVXpKV05WSlZUa1ZUUQogIDBrMl
  NVaHpTMGxEUVdkSlEwRm5TVU5CWjBsRFNtcGpibGtLSUNCcFQybEJhVkpYVVRCT1J
  HZHBURUZ2WjBsCiAgRFFXZEpRMEZuU1VOQlowbHNRakZaYlhod1dYbEpOa2xEU25G
  WU1EbEpXa1pTYTFkWVRYcFdNVWwwVFFvZ0kKICBFVldSMU42UW5KVmJsWTJWRlJHV
  lV4WFpFaGhiVTB3WlZod2NXVlVRbUZQUjAwMVdUQjBjV050T1ZGUFYxRQogIHhWMV
  pzY1VOcFFXZGlWM1JzWkVoRkNpQWdORmw2WkZWaE1razFWRlJhUkV4VVpGVk9SR04
  wVEZoa1FrbHVNCiAgVGxtVTNkTFNVTkJaMGxEU2tKa1dGSnZXbGMxTUdGWFRtaGtS
  MngyWW1sSk5ra0tJQ0JJYzB0SlEwRm5TVU4KICBCWjBsc1ZtdGFhVWsyU1VOS1RsR
  lZXbFZNVlRGTlRqQnJkRkV3ZUVwVFF6RlZWRlZhVmt4VVRrcFNNR04wVAogIGtST1
  UxSkRNUW9nSUVSVmFsVXpTV2wzUzBsRFFXZEpRMEZuU1d4Q01WbHRlSEJaTVVKb1k
  yMUdkRnBZVW14CiAgamJrMXBUMmxDTjBOcFFXZEpRMEZuU1VOQlowbHNRakZaQ2lB
  Z2JYaHdXVEIwYkdWVlZrUlNSV2RwVDJsQ04KICAwTnBRV2RKUTBGblNVTkJaMGxEU
  VdsWk0wb3lTV3B2WjBsc1p6Qk9SR2RwVEVGdlowbERRV2RKUTBFS0lDQgogIG5TVU
  5CWjBsc1FqRlpiWGh3V1hsSk5rbERTalJsYldSTFlXeFdiMkpWTVhkVU0wMHpXVE5
  HTUdKSWNIRk5WCiAgRTVZVDBWYVFrNXRXbVpqYms1dFZnb2dJR3BrY0dGc09UQlRl
  bEpXWkROS2FsSkdhM1JoTTFVMFdsVktiVU4KICBwUVdkbGJGSkxaREZzV2xacVZsa
  E9Sa1pYVDFoak5FOVZTbmxQV0VwQ1lrYzVDaUFnUWtsdU1UbG1XREU1SQogIGl3S0
  lDQWdJQ0FnZXdvZ0lDQWdJQ0FnSUNKemFXZHVZWFIxY21Weklqb2dXM3NLSUNBZ0l
  DQWdJQ0FnSUNBCiAgZ0ltRnNaeUk2SUNKVE5URXlJaXdLSUNBZ0lDQWdJQ0FnSUNB
  Z0ltdHBaQ0k2SUNKTlFVdE5MVUpYVGtjdFUKICBrbElRaTFMVVZCTkxVVkNSRTh0T
  kVaRk5DMHlWRWxMSWl3S0lDQWdJQ0FnSUNBZ0lDQWdJbk5wWjI1aGRIVgogIHlaU0
  k2SUNKSmNIRk5NMUEzYUROSVdVaFRabE5GVGxObWJFMXRhbWh5Y25oNlgwUlBiRzF
  ZTTBacGR6ZGZhCiAgR2RmUVdGT01DMWpDaUFnYm5WWk1WWjViVGhYVDJkM1oybGxT
  V1pzTTBOc1RuQm9aMGRCUTJkT2IwRlNPR3AKICB4ZEdNemQxVkpUMnc0Y1c0NVpHT
  nJNa3RCTkcxSGFWRnhSMlVLSUNCeGFqSTFRM0JGVFVkQ1owMVZNbFJHWgogIFZKWm
  IwVXRNRlp6TjBOUGRqZFVSRWRWUldOUkxVSnJRU0o5WFN3S0lDQWdJQ0FnSUNBaVV
  HRjViRzloWkVSCiAgcFoyVnpkQ0k2SUNKUVFXOVRNbEZDVURaVVlqUmhXVFJMY3pk
  aGQweDJhR3hhY25wcU1VcEpiRWt5T1VSd2QKICBUSmFka0pxYXkwS0lDQkpaRmw1V
  W00MU4zUm9NVVZoWW5aMFpXUldYekUwVEd0WVRqZFVNakJIWlRaU0xXcAogIGhSVX
  Q0ZHlKOVhTd0tJQ0FnSUNKRGJHbGxiblJPYjI1alpTSTZJQ0pmT0VGaWJYWkVaVXc
  xVVdNeU1GQlphCiAgVkZNY1dWM0lpd0tJQ0FnSUNKUWFXNUpaQ0k2SUNKQlFsZE9M
  VFpKV0VjdFVUZEhTUzFSVEZOUkxVbFRVa00KICB0VDFsSVRTMUJRVnBXSWl3S0lDQ
  WdJQ0pRYVc1WGFYUnVaWE56SWpvZ0ltUm5WblJMZFU5a1NWRnpaRVpCTgogIEZvMl
  RtOWZUekZFYnpkcWNHcFlXRXMxWlZsMWJVUmhaVko1Y21oNU5VWTFlZ29nSUhBd2N
  EUTRPVUl3Y1U5CiAgUExYZ3laRkV0VVZkYVdFdENjMUUzY1c4MVpYQk9NelJpV2ps
  bklpd0tJQ0FnSUNKQlkyTnZkVzUwUVdSa2MKICBtVnpjeUk2SUNKaGJHbGpaVUJsZ
  UdGdGNHeGxMbU52YlNKOWZRIl0sCiAgICAiU2VydmVyTm9uY2UiOiAiNHMtSEo0Vz
  BBVkFaOWpKSlNHbzNzUSIsCiAgICAiV2l0bmVzcyI6ICJHNk1XLVpBTzctNTYzQS1
  XS0RBLTROUUotTFBPQS1QVVoyIn19",
      {}
      ],
    "EnvelopedProfileAccount":[{
        "EnvelopeId":"MCVL-63JV-H35G-USOR-72YS-YWVV-UHNF",
        "dig":"S512",
        "ContentMetaData":"ewogICJVbmlxdWVJZCI6ICJNQ1ZMLTYzSlYtSD
  M1Ry1VU09SLTcyWVMtWVdWVi1VSE5GIiwKICAiTWVzc2FnZVR5cGUiOiAiUHJvZml
  sZVVzZXIiLAogICJjdHkiOiAiYXBwbGljYXRpb24vbW1tL29iamVjdCIsCiAgIkNy
  ZWF0ZWQiOiAiMjAyMS0wNC0wOVQxODoxMzowM1oifQ"},
      "ewogICJQcm9maWxlVXNlciI6IHsKICAgICJQcm9maWxlU2lnbmF0dXJlIj
  ogewogICAgICAiVWRmIjogIk1DVkwtNjNKVi1IMzVHLVVTT1ItNzJZUy1ZV1ZWLVV
  ITkYiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGlj
  S2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgI
  lB1YmxpYyI6ICI2N1UtcFozSVNuWm54MmQ1bXU3MTJVNzlHaVo5bjVNX1ZYaWJvYX
  c5eVZ6WWI0dzl1X2VfCiAgck0xMzhfT0pnZGdCRHFtUE9qbV9EbTZBIn19fSwKICA
  gICJBY2NvdW50QWRkcmVzcyI6ICJhbGljZUBleGFtcGxlLmNvbSIsCiAgICAiU2Vy
  dmljZVVkZiI6ICJNQVNQLVBPQkEtNkY3Ty1WNjNELUpRTEYtNEM0Vi1FNUhWIiwKI
  CAgICJBY2NvdW50RW5jcnlwdGlvbiI6IHsKICAgICAgIlVkZiI6ICJNQVZKLUZSR1
  ItQUVFNi1GV0RRLVhTQUctWFJHSi03WURZIiwKICAgICAgIlB1YmxpY1BhcmFtZXR
  lcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAiY3J2
  IjogIlg0NDgiLAogICAgICAgICAgIlB1YmxpYyI6ICJ5NjNtZ2M5blBCUzhYbVZmR
  VBCXzNtZFgtRVdFRFB6RExlMVg5WjZHX1RQb3gtYTJQZjliCiAgOUQ0TTBYWXZubz
  lNbFhFbXlxUWozOFdBIn19fSwKICAgICJBZG1pbmlzdHJhdG9yU2lnbmF0dXJlIjo
  gewogICAgICAiVWRmIjogIk1DWlQtUkU0Vy00VTJYLVRDTU0tN0lCSC03NE9VLVNH
  UVEiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGljS
  2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgIl
  B1YmxpYyI6ICJGbFJ3SHNPemdCVDc1b3hramxzcG0xdjgwbGRBV2VBZXQ5TU45enA
  4aGowaG1mdVRhRl9FCiAgZWNWMm5EaVdvNm1xclplcVVQR2IyVG9BIn19fSwKICAg
  ICJBY2NvdW50QXV0aGVudGljYXRpb24iOiB7CiAgICAgICJVZGYiOiAiTURCRC1HU
  UVTLUJJQlotWENQTS1VUFBSLU1ESlotQ05aNCIsCiAgICAgICJQdWJsaWNQYXJhbW
  V0ZXJzIjogewogICAgICAgICJQdWJsaWNLZXlFQ0RIIjogewogICAgICAgICAgImN
  ydiI6ICJYNDQ4IiwKICAgICAgICAgICJQdWJsaWMiOiAiaEx5VnVjY3ZtQU1tNktT
  MWpiVDRES1dlSzBpYjIwTWhJakJmdjFGRGZPenNuQjY4cXB1VgogIFoxQndld2NSe
  mlxWnJyd2lVUjVZOFVPQSJ9fX0sCiAgICAiQWNjb3VudFNpZ25hdHVyZSI6IHsKIC
  AgICAgIlVkZiI6ICJNQ1NKLUhWNDctQ1hDVy1XT0FPLVVXTUotNkZVWS1aQ0RZIiw
  KICAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUVD
  REgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQdWJsa
  WMiOiAiSUc1MjNyeWFlWGlxcmk1NjhlZk1KVXMtM1EyejlxdWFjZzlEeGtfTVNJdE
  52a204TUZPYgogIERnZGw3X1ZsU05yeVZScnVPd09DS2VhQSJ9fX19fQ",
      {
        "signatures":[{
            "alg":"S512",
            "kid":"MCVL-63JV-H35G-USOR-72YS-YWVV-UHNF",
            "signature":"TommuXndCbATBd04fpwRZ4rTLg-OHZt12vod2Pkh
  EW2-Pihiu2qH90FupA8z8NuMY--suatKy5-AjInxCSM2CbUe1MkTkNR0SoPZ1sL7s
  Sdin4-WYuDerWlKoFNEYU1loYO1Gju0Ugk82zs1CDDmyiYA"}
          ],
        "PayloadDigest":"LQvDFj0h7bK07NJ56ttFM3uEKxM1jos2KtyW6VC3
  YQUed3e5gXTjBEz4XiTEAkqYtD8bVDx_-FHGyGMqXzkDow"}
      ]}}
~~~~


The device generates the witness value and presents it to the user as shown above.

### Phase 3:

The user synchronizes their pending messages:


~~~~
<div="terminal">
<cmd>Alice> message pending
<rsp>MessageID: G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2
        Connection Request::
        MessageID: G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2
        To:  From: 
        Device:  MAKM-BWNG-RIHB-KQPM-EBDO-4FE4-2TIK
        Witness: G6MW-ZAO7-563A-WKDA-4NQJ-LPOA-PUZ2
MessageID: NCGS-ANYS-IICO-XCWT-XXXG-SWAI-M2RY
        Group invitation::
        MessageID: NCGS-ANYS-IICO-XCWT-XXXG-SWAI-M2RY
        To: alice@example.com From: alice@example.com
MessageID: NCPO-3N4E-UOMN-TIPQ-UWCJ-MSUB-345F
        Confirmation Request::
        MessageID: NCPO-3N4E-UOMN-TIPQ-UWCJ-MSUB-345F
        To: alice@example.com From: console@example.com
        Text: start
MessageID: NDLP-RO33-65BJ-3G7X-AOXN-JK2U-WUIE
        Contact Request::
        MessageID: NDLP-RO33-65BJ-3G7X-AOXN-JK2U-WUIE
        To: alice@example.com From: bob@example.com
        PIN: AAHV-O6T4-RDMH-UMSR-GMKP-KAQI-WASA
<cmd>Alice> account sync /auto
<rsp>ERROR - An attempt was made to create an object with an existing obje
ct identifier
</div>
~~~~

The administration device determines that the device connection request is authenticated
by a PIN code. The PIN code is retrieved and the message authenticated. This is shown in
the PIN registration interation example in section $$$ above.


The Cataloged device record is created from the public key values corresponding to the
combination of the public keys in the device profile and those defined by the activation:


The ActivationDevice and CatalogedDevice records are ???


### Phase 4

The device periodically polls for completion of the connection request using the
Complete transaction.

To provide a final check on the process, the command line tool presents the UDF of 
the account profile to which the device has connected if successful:


~~~~
Missing example 40
~~~~

The completion request specified the device requesting completion:


The response contains the information the device requires to complete the connection
to the mesh:



